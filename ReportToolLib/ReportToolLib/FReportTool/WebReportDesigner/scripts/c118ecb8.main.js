!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e){e=e||et;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function n(t){var e=!!t&&"length"in t&&t.length,i=ft.type(t);return"function"!==i&&!ft.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,i){return ft.isFunction(e)?ft.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?ft.grep(t,function(t){return t===e!==i}):"string"!=typeof e?ft.grep(t,function(t){return st.call(e,t)>-1!==i}):_t.test(e)?ft.filter(e,t,i):(e=ft.filter(e,t),ft.grep(t,function(t){return st.call(e,t)>-1!==i&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return ft.each(t.match(Et)||[],function(t,i){e[i]=!0}),e}function a(t){return t}function l(t){throw t}function c(t,e,i){var n;try{t&&ft.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&ft.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}function u(){et.removeEventListener("DOMContentLoaded",u),t.removeEventListener("load",u),ft.ready()}function h(){this.expando=ft.expando+h.uid++}function p(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Rt.test(t)?JSON.parse(t):t)}function d(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(It,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i=p(i)}catch(t){}$t.set(t,e,i)}else i=void 0;return i}function f(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return ft.css(t,e,"")},l=a(),c=i&&i[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&Ht.exec(ft.css(t,e));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do o=o||".5",u/=o,ft.style(t,e,u+c);while(o!==(o=a()/l)&&1!==o&&--s)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}function g(t){var e,i=t.ownerDocument,n=t.nodeName,r=Vt[n];return r?r:(e=i.body.appendChild(i.createElement(n)),r=ft.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Vt[n]=r,r)}function m(t,e){for(var i,n,r=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(i=n.style.display,e?("none"===i&&(r[o]=Ft.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&jt(n)&&(r[o]=g(n))):"none"!==i&&(r[o]="none",Ft.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function v(t,e){var i;return i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],i):i}function b(t,e){for(var i=0,n=t.length;i<n;i++)Ft.set(t[i],"globalEval",!e||Ft.get(e[i],"globalEval"))}function y(t,e,i,n,r){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if(o=t[d],o||0===o)if("object"===ft.type(o))ft.merge(p,o.nodeType?[o]:o);else if(Xt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Gt.exec(o)||["",""])[1].toLowerCase(),l=Kt[a]||Kt._default,s.innerHTML=l[1]+ft.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;ft.merge(p,s.childNodes),s=h.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(n&&ft.inArray(o,n)>-1)r&&r.push(o);else if(c=ft.contains(o.ownerDocument,o),s=v(h.appendChild(o),"script"),c&&b(s),i)for(u=0;o=s[u++];)Ut.test(o.type||"")&&i.push(o);return h}function x(){return!0}function C(){return!1}function w(){try{return et.activeElement}catch(t){}}function k(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)k(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=C;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ft().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,r,n,i)})}function _(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function S(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function T(t){var e=ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function D(t,e){var i,n,r,o,s,a,l,c;if(1===e.nodeType){if(Ft.hasData(t)&&(o=Ft.access(t),s=Ft.set(e,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(i=0,n=c[r].length;i<n;i++)ft.event.add(e,r,c[r][i])}$t.hasData(t)&&(a=$t.access(t),l=ft.extend({},a),$t.set(e,l))}}function M(t,e){var i=e.nodeName.toLowerCase();"input"===i&&qt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function P(t,e,n,r){e=rt.apply([],e);var o,s,a,l,c,u,h=0,p=t.length,d=p-1,f=e[0],g=ft.isFunction(f);if(g||p>1&&"string"==typeof f&&!pt.checkClone&&ie.test(f))return t.each(function(i){var o=t.eq(i);g&&(e[0]=f.call(this,i,o.html())),P(o,e,n,r)});if(p&&(o=y(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=ft.map(v(o,"script"),S),l=a.length;h<p;h++)c=o,h!==d&&(c=ft.clone(c,!0,!0),l&&ft.merge(a,v(c,"script"))),n.call(t[h],c,h);if(l)for(u=a[a.length-1].ownerDocument,ft.map(a,T),h=0;h<l;h++)c=a[h],Ut.test(c.type||"")&&!Ft.access(c,"globalEval")&&ft.contains(u,c)&&(c.src?ft._evalUrl&&ft._evalUrl(c.src):i(c.textContent.replace(re,""),u))}return t}function E(t,e,i){for(var n,r=e?ft.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||ft.cleanData(v(n)),n.parentNode&&(i&&ft.contains(n.ownerDocument,n)&&b(v(n,"script")),n.parentNode.removeChild(n));return t}function B(t,e,i){var n,r,o,s,a=t.style;return i=i||ae(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),!pt.pixelMarginRight()&&se.test(s)&&oe.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function A(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in pe)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=he.length;i--;)if(t=he[i]+e,t in pe)return t}function N(t,e,i){var n=Ht.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function F(t,e,i,n,r){var o,s=0;for(o=i===(n?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===i&&(s+=ft.css(t,i+Wt[o],!0,r)),n?("content"===i&&(s-=ft.css(t,"padding"+Wt[o],!0,r)),"margin"!==i&&(s-=ft.css(t,"border"+Wt[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+Wt[o],!0,r),"padding"!==i&&(s+=ft.css(t,"border"+Wt[o]+"Width",!0,r)));return s}function $(t,e,i){var n,r=!0,o=ae(t),s="border-box"===ft.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(n=B(t,e,o),(n<0||null==n)&&(n=t.style[e]),se.test(n))return n;r=s&&(pt.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+F(t,e,i||(s?"border":"content"),r,o)+"px"}function R(t,e,i,n,r){return new R.prototype.init(t,e,i,n,r)}function I(){fe&&(t.requestAnimationFrame(I),ft.fx.tick())}function O(){return t.setTimeout(function(){de=void 0}),de=ft.now()}function H(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=Wt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function W(t,e,i){for(var n,r=(V.tweeners[e]||[]).concat(V.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function j(t,e,i){var n,r,o,s,a,l,c,u,h="width"in e||"height"in e,p=this,d={},f=t.style,g=t.nodeType&&jt(t),v=Ft.get(t,"fxshow");i.queue||(s=ft._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})}));for(n in e)if(r=e[n],ge.test(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;g=!0}d[n]=v&&v[n]||ft.style(t,n)}if(l=!ft.isEmptyObject(e),l||!ft.isEmptyObject(d)){h&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],c=v&&v.display,null==c&&(c=Ft.get(t,"display")),u=ft.css(t,"display"),"none"===u&&(c?u=c:(m([t],!0),c=t.style.display||c,u=ft.css(t,"display"),m([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===ft.css(t,"float")&&(l||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1;for(n in d)l||(v?"hidden"in v&&(g=v.hidden):v=Ft.access(t,"fxshow",{display:c}),o&&(v.hidden=!g),g&&m([t],!0),p.done(function(){g||m([t]),Ft.remove(t,"fxshow");for(n in d)ft.style(t,n,d[n])})),l=W(g?v[n]:0,n,p),n in v||(v[n]=l.start,g&&(l.end=l.start,l.start=0))}}function z(t,e){var i,n,r,o,s;for(i in t)if(n=ft.camelCase(i),r=e[n],o=t[i],ft.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=ft.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function V(t,e,i){var n,r,o=0,s=V.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=de||O(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,o=1-n,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,i]),o<1&&l?i:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},i),originalProperties:e,originalOptions:i,startTime:de||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ft.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);o<s;o++)if(n=V.prefilters[o].call(c,t,u,c.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(u,W,c),ft.isFunction(c.opts.start)&&c.opts.start.call(t,c),ft.fx.timer(ft.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(t){var e=t.match(Et)||[];return e.join(" ")}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function U(t,e,i,n){var r;if(ft.isArray(e))ft.each(e,function(e,r){i||Te.test(t)?n(t,r):U(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==ft.type(e))n(t,e);else for(r in e)U(t+"["+r+"]",e[r],i,n)}function K(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Et)||[];if(ft.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function X(t,e,i,n){function r(a){var l;return o[a]=!0,ft.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===Ie;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Y(t,e){var i,n,r=ft.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function Z(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function Q(t,e,i,n){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function J(t){return ft.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,it=Object.getPrototypeOf,nt=tt.slice,rt=tt.concat,ot=tt.push,st=tt.indexOf,at={},lt=at.toString,ct=at.hasOwnProperty,ut=ct.toString,ht=ut.call(Object),pt={},dt="3.1.1",ft=function(t,e){return new ft.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,vt=/-([a-z])/g,bt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:dt,constructor:ft,length:0,toArray:function(){return nt.call(this)},get:function(t){return null==t?nt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},ft.extend=ft.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(c&&n&&(ft.isPlainObject(n)||(r=ft.isArray(n)))?(r?(r=!1,o=i&&ft.isArray(i)?i:[]):o=i&&ft.isPlainObject(i)?i:{},s[e]=ft.extend(c,o,n)):void 0!==n&&(s[e]=n));return s},ft.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ft.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==lt.call(t)||(e=it(t))&&(i=ct.call(e,"constructor")&&e.constructor,"function"!=typeof i||ut.call(i)!==ht))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[lt.call(t)]||"object":typeof t},globalEval:function(t){i(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(vt,bt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):ot.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:st.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;o<s;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;s<r;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return rt.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),ft.isFunction(t))return n=nt.call(arguments,2),r=function(){return t.apply(e||this,n.concat(nt.call(arguments)))},r.guid=t.guid=t.guid||ft.guid++,r},now:Date.now,support:pt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=tt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var yt=function(t){function e(t,e,i,n){var r,o,s,a,l,c,u,p=e&&e.ownerDocument,f=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return i;if(!n&&((e?e.ownerDocument||e:W)!==L&&A(e),e=e||L,F)){if(11!==f&&(l=vt.exec(t)))if(r=l[1]){if(9===f){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(p&&(s=p.getElementById(r))&&O(e,s)&&s.id===r)return i.push(s),i}else{if(l[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&!G[t+" "]&&(!$||!$.test(t))){if(1!==f)p=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(Ct,wt):e.setAttribute("id",a=H),c=T(t),o=c.length;o--;)c[o]="#"+a+" "+d(c[o]);u=c.join(","),p=bt.test(t)&&h(e.parentNode)||e}if(u)try{return Q.apply(i,p.querySelectorAll(u)),i}catch(t){}finally{a===H&&e.removeAttribute("id")}}}return M(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>k.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function r(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)k.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&_t(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function d(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=z++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r);return!1}:function(e,i,l){var c,u,h,p=[j,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(h=e[H]||(e[H]={}),u=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[o])&&c[0]===j&&c[1]===a)return p[2]=c[2];if(u[o]=p,p[2]=t(e,i,l))return!0}return!1}}function g(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function v(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),c&&e.push(a)));return s}function b(t,e,i,r,o,s){return r&&!r[H]&&(r=b(r)),o&&!o[H]&&(o=b(o,s)),n(function(n,s,a,l){var c,u,h,p=[],d=[],f=s.length,g=n||m(e||"*",a.nodeType?[a]:a,[]),b=!t||!n&&e?g:v(g,p,t,a,l),y=i?o||(n?t:f||r)?[]:s:b;if(i&&i(b,y,a,l),r)for(c=v(y,d),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(y[d[u]]=!(b[d[u]]=h));if(n){if(o||t){if(o){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(b[u]=h);o(null,y=[],c,l)}for(u=y.length;u--;)(h=y[u])&&(c=o?tt(n,h):p[u])>-1&&(n[c]=!(s[c]=h))}}else y=v(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):Q.apply(s,y)})}function y(t){for(var e,i,n,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return tt(e,t)>-1},s,!0),u=[function(t,i,n){var r=!o&&(n||i!==P)||((e=i).nodeType?l(t,i,n):c(t,i,n));return e=null,r}];a<r;a++)if(i=k.relative[t[a].type])u=[f(g(u),i)];else{if(i=k.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;n<r&&!k.relative[t[n].type];n++);return b(a>1&&g(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&y(t.slice(a,n)),n<r&&y(t=t.slice(n)),n<r&&d(t))}u.push(i)}return g(u)}function x(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,c){var u,h,p,d=0,f="0",g=n&&[],m=[],b=P,y=n||o&&k.find.TAG("*",c),x=j+=null==b?1:Math.random()||.1,C=y.length;for(c&&(P=s===L||s||c);f!==C&&null!=(u=y[f]);f++){if(o&&u){for(h=0,s||u.ownerDocument===L||(A(u),a=!F);p=t[h++];)if(p(u,s||L,a)){l.push(u);break}c&&(j=x)}r&&((u=!p&&u)&&d--,n&&g.push(u))}if(d+=f,r&&f!==d){for(h=0;p=i[h++];)p(g,m,s,a);if(n){if(d>0)for(;f--;)g[f]||m[f]||(m[f]=Y.call(l));m=v(m)}Q.apply(l,m),c&&!n&&m.length>0&&d+i.length>1&&e.uniqueSort(l)}return c&&(j=x,P=b),g};return r?n(s):s}var C,w,k,_,S,T,D,M,P,E,B,A,L,N,F,$,R,I,O,H="sizzle"+1*new Date,W=t.document,j=0,z=0,V=i(),q=i(),G=i(),U=function(t,e){return t===e&&(B=!0),0},K={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,Q=X.push,J=X.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ut=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(ot),pt=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ct=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){A()},_t=f(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(X=J.call(W.childNodes),W.childNodes),X[W.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:W;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,N=L.documentElement,F=!S(L),W!==L&&(i=L.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(L.getElementsByClassName),w.getById=r(function(t){return N.appendChild(t).id=H,!L.getElementsByName||!L.getElementsByName(H).length}),w.getById?(k.filter.ID=function(t){var e=t.replace(yt,xt);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var i=e.getElementById(t);return i?[i]:[]}}):(k.filter.ID=function(t){var e=t.replace(yt,xt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&F){var i,n,r,o=e.getElementById(t);if(o){if(i=o.getAttributeNode("id"),i&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if(i=o.getAttributeNode("id"),i&&i.value===t)return[o]}return[]}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},k.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&F)return e.getElementsByClassName(t)},R=[],$=[],(w.qsa=mt.test(L.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&$.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||$.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||$.push("~="),t.querySelectorAll(":checked").length||$.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||$.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&$.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&$.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&$.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),$.push(",.*:")})),(w.matchesSelector=mt.test(I=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){w.disconnectedMatch=I.call(t,"*"),I.call(t,"[s!='']:x"),R.push("!=",ot)}),$=$.length&&new RegExp($.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(N.compareDocumentPosition),O=e||mt.test(N.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return B=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===L||t.ownerDocument===W&&O(W,t)?-1:e===L||e.ownerDocument===W&&O(W,e)?1:E?tt(E,t)-tt(E,e):0:4&i?-1:1)}:function(t,e){if(t===e)return B=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:E?tt(E,t)-tt(E,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===W?-1:l[n]===W?1:0},L):L},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==L&&A(t),i=i.replace(ut,"='$1']"),w.matchesSelector&&F&&!G[i+" "]&&(!R||!R.test(i))&&(!$||!$.test(i)))try{var n=I.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&A(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&A(t);var i=k.attrHandle[e.toLowerCase()],n=i&&K.call(k.attrHandle,e.toLowerCase())?i(t,e,!F):void 0;return void 0!==n?n:w.attributes||!F?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(Ct,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(B=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(U),B){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return E=null,t},_=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=_(e);return i},k=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,p,d,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(p=m,h=p[H]||(p[H]={}),u=h[p.uniqueID]||(h[p.uniqueID]={}),c=u[t]||[],d=c[0]===j&&c[1],y=d&&c[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(y=d=0)||f.pop();)if(1===p.nodeType&&++y&&p===e){u[t]=[j,d,y];break}}else if(b&&(p=e,h=p[H]||(p[H]={}),u=h[p.uniqueID]||(h[p.uniqueID]={}),c=u[t]||[],d=c[0]===j&&c[1],y=d),y===!1)for(;(p=++d&&p&&p[g]||(y=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(b&&(h=p[H]||(p[H]={}),u=h[p.uniqueID]||(h[p.uniqueID]={}),u[t]=[j,y]),p!==e)););return y-=r,y===n||y%n===0&&y/n>=0}}},PSEUDO:function(t,i){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(i):o.length>1?(r=[t,t,"",i],k.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=D(t.replace(at,"$1"));return r[H]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(yt,xt),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,xt).toLowerCase(),function(e){var i;do if(i=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1;
}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[i<0?i+e:i]}),even:u(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},k.pseudos.nth=k.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[C]=a(C);for(C in{submit:!0,reset:!0})k.pseudos[C]=l(C);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,T=e.tokenize=function(t,i){var n,r,o,s,a,l,c,u=q[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],c=k.preFilter;a;){n&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ct.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(s in k.filter)!(r=dt[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):q(t,l).slice(0)},D=e.compile=function(t,e){var i,n=[],r=[],o=G[t+" "];if(!o){for(e||(e=T(t)),i=e.length;i--;)o=y(e[i]),o[H]?n.push(o):r.push(o);o=G(t,x(r,n)),o.selector=t}return o},M=e.select=function(t,e,i,n){var r,o,s,a,l,c="function"==typeof t&&t,u=!n&&T(t=c.selector||t);if(i=i||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&F&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(yt,xt),e)||[])[0],!e)return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(n=l(s.matches[0].replace(yt,xt),bt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&d(o),!t)return Q.apply(i,n),i;break}}return(c||D(t,u))(n,e,!F,i,!e||bt.test(t)&&h(e.parentNode)||e),i},w.sortStable=H.split("").sort(U).join("")===H,w.detectDuplicates=!!B,A(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains,ft.escapeSelector=yt.escape;var xt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(i))break;n.push(t)}return n},Ct=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},wt=ft.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,_t=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ft.find.matchesSelector(n,t)?[n]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<n;e++)if(ft.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)ft.find(t,r[e],i);return n>1?ft.uniqueSort(i):i},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&wt.test(t)?ft(t):t||[],!1).length}});var St,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Dt=ft.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||St,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Tt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),kt.test(n[1])&&ft.isPlainObject(e))for(n in e)ft.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=et.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==i.ready?i.ready(t):t(ft):ft.makeArray(t,this)};Dt.prototype=ft.fn,St=ft(et);var Mt=/^(?:parents|prev(?:Until|All))/,Pt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e=ft(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(ft.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&ft(t);if(!wt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ft.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?st.call(ft(t),this[0]):st.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return xt(t,"parentNode")},parentsUntil:function(t,e,i){return xt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return xt(t,"nextSibling")},prevAll:function(t){return xt(t,"previousSibling")},nextUntil:function(t,e,i){return xt(t,"nextSibling",i)},prevUntil:function(t,e,i){return xt(t,"previousSibling",i)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return t.contentDocument||ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(i,n){var r=ft.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ft.filter(n,r)),this.length>1&&(Pt[t]||ft.uniqueSort(r),Mt.test(t)&&r.reverse()),this.pushStack(r)}});var Et=/[^\x20\t\r\n\f]+/g;ft.Callbacks=function(t){t="string"==typeof t?s(t):ft.extend({},t);var e,i,n,r,o=[],a=[],l=-1,c=function(){for(r=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)o[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!e&&(l=o.length-1,a.push(i)),function e(i){ft.each(i,function(i,n){ft.isFunction(n)?t.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==ft.type(n)&&e(n)})}(arguments),i&&!e&&c()),this},remove:function(){return ft.each(arguments,function(t,e){for(var i;(i=ft.inArray(e,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(t){return t?ft.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},ft.extend({Deferred:function(e){var i=[["notify","progress",ft.Callbacks("memory"),ft.Callbacks("memory"),2],["resolve","done",ft.Callbacks("once memory"),ft.Callbacks("once memory"),0,"resolved"],["reject","fail",ft.Callbacks("once memory"),ft.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return ft.Deferred(function(e){ft.each(i,function(i,n){var r=ft.isFunction(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){function o(e,i,n,r){return function(){var c=this,u=arguments,h=function(){var t,h;if(!(e<s)){if(t=n.apply(c,u),t===i.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,ft.isFunction(h)?r?h.call(t,o(s,i,a,r),o(s,i,l,r)):(s++,h.call(t,o(s,i,a,r),o(s,i,l,r),o(s,i,a,i.notifyWith))):(n!==a&&(c=void 0,u=[t]),(r||i.resolveWith)(c,u))}},p=r?h:function(){try{h()}catch(t){ft.Deferred.exceptionHook&&ft.Deferred.exceptionHook(t,p.stackTrace),e+1>=s&&(n!==l&&(c=void 0,u=[t]),i.rejectWith(c,u))}};e?p():(ft.Deferred.getStackHook&&(p.stackTrace=ft.Deferred.getStackHook()),t.setTimeout(p))}}var s=0;return ft.Deferred(function(t){i[0][3].add(o(0,t,ft.isFunction(r)?r:a,t.notifyWith)),i[1][3].add(o(0,t,ft.isFunction(e)?e:a)),i[2][3].add(o(0,t,ft.isFunction(n)?n:l))}).promise()},promise:function(t){return null!=t?ft.extend(t,r):r}},o={};return ft.each(i,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){n=a},i[3-t][2].disable,i[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=nt.call(arguments),o=ft.Deferred(),s=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?nt.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(c(t,o.done(s(i)).resolve,o.reject),"pending"===o.state()||ft.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)c(r[i],s(i),o.reject);return o.promise()}});var Bt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ft.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Bt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},ft.readyException=function(e){t.setTimeout(function(){throw e})};var At=ft.Deferred();ft.fn.ready=function(t){return At.then(t).catch(function(t){ft.readyException(t)}),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||At.resolveWith(et,[ft]))}}),ft.ready.then=At.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(ft.ready):(et.addEventListener("DOMContentLoaded",u),t.addEventListener("load",u));var Lt=function(t,e,i,n,r,o,s){var a=0,l=t.length,c=null==i;if("object"===ft.type(i)){r=!0;for(a in i)Lt(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,ft.isFunction(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(ft(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):o},Nt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Nt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[ft.camelCase(e)]=i;else for(n in e)r[ft.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ft.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){ft.isArray(e)?e=e.map(ft.camelCase):(e=ft.camelCase(e),e=e in n?[e]:e.match(Et)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||ft.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ft.isEmptyObject(e)}};var Ft=new h,$t=new h,Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/[A-Z]/g;ft.extend({hasData:function(t){return $t.hasData(t)||Ft.hasData(t)},data:function(t,e,i){return $t.access(t,e,i)},removeData:function(t,e){$t.remove(t,e)},_data:function(t,e,i){return Ft.access(t,e,i)},_removeData:function(t,e){Ft.remove(t,e)}}),ft.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=$t.get(o),1===o.nodeType&&!Ft.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=ft.camelCase(n.slice(5)),d(o,n,r[n])));Ft.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$t.set(this,t)}):Lt(this,function(e){var i;if(o&&void 0===e){if(i=$t.get(o,t),void 0!==i)return i;if(i=d(o,t),void 0!==i)return i}else this.each(function(){$t.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$t.remove(this,t)})}}),ft.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Ft.get(t,e),i&&(!n||ft.isArray(i)?n=Ft.access(t,e,ft.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=ft.queue(t,e),n=i.length,r=i.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Ft.get(t,i)||Ft.access(t,i,{empty:ft.Callbacks("once memory").add(function(){Ft.remove(t,[e+"queue",i])})})}}),ft.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ft.queue(this[0],t):void 0===e?this:this.each(function(){var i=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=Ft.get(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ht=new RegExp("^(?:([+-])=|)("+Ot+")([a-z%]*)$","i"),Wt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ft.contains(t.ownerDocument,t)&&"none"===ft.css(t,"display")},zt=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},Vt={};ft.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ft(this).show():ft(this).hide()})}});var qt=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ut=/^$|\/(?:java|ecma)script/i,Kt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Xt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),i=et.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),pt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",pt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Yt=et.documentElement,Zt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Jt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,c,u,h,p,d,f,g,m=Ft.get(t);if(m)for(i.handler&&(o=i,i=o.handler,r=o.selector),r&&ft.find.matchesSelector(Yt,r),i.guid||(i.guid=ft.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ft&&ft.event.triggered!==e.type?ft.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Et)||[""],c=e.length;c--;)a=Jt.exec(e[c])||[],d=g=a[1],f=(a[2]||"").split(".").sort(),d&&(h=ft.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=ft.event.special[d]||{},u=ft.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[d])||(p=l[d]=[],p.delegateCount=0,h.setup&&h.setup.call(t,n,f,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),ft.event.global[d]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,c,u,h,p,d,f,g,m=Ft.hasData(t)&&Ft.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Et)||[""],c=e.length;c--;)if(a=Jt.exec(e[c])||[],d=g=a[1],f=(a[2]||"").split(".").sort(),d){for(h=ft.event.special[d]||{},d=(n?h.delegateType:h.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!r&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(t,u));s&&!p.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||ft.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)ft.event.remove(t,d+e[c],i,n,!0);ft.isEmptyObject(l)&&Ft.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=ft.event.fix(t),l=new Array(arguments.length),c=(Ft.get(this,"events")||{})[a.type]||[],u=ft.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,a)!==!1){for(s=ft.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,n=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||c.disabled!==!0)){for(o=[],s={},i=0;i<l;i++)n=e[i],r=n.selector+" ",void 0===s[r]&&(s[r]=n.needsContext?ft(r,this).index(c)>-1:ft.find(r,this,null,[c]).length),s[r]&&o.push(n);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(ft.Event.prototype,t,{enumerable:!0,configurable:!0,get:ft.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ft.expando]?t:new ft.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ft.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ft.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?x:C,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=x,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=x,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=x,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Zt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ft.event.addProp),ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||ft.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ft.fn.extend({on:function(t,e,i,n){return k(this,t,e,i,n)},one:function(t,e,i,n){return k(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ft(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=C),this.each(function(){ft.event.remove(this,t,i,e)})}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ft.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=ft.contains(t.ownerDocument,t);if(!(pt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(s=v(a),o=v(t),n=0,r=o.length;n<r;n++)M(o[n],s[n]);if(e)if(i)for(o=o||v(t),s=s||v(a),n=0,r=o.length;n<r;n++)D(o[n],s[n]);else D(t,a);return s=v(a,"script"),s.length>0&&b(s,!l&&v(t,"script")),a},cleanData:function(t){for(var e,i,n,r=ft.event.special,o=0;void 0!==(i=t[o]);o++)if(Nt(i)){if(e=i[Ft.expando]){if(e.events)for(n in e.events)r[n]?ft.event.remove(i,n):ft.removeEvent(i,n,e.handle);i[Ft.expando]=void 0}i[$t.expando]&&(i[$t.expando]=void 0)}}}),ft.fn.extend({detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return Lt(this,function(t){return void 0===t?ft.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.appendChild(t)}})},prepend:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ft.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Lt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ee.test(t)&&!Kt[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(ft.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return P(this,arguments,function(e){var i=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(v(this)),i&&i.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var i,n=[],r=ft(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),ft(r[s])[e](i),ot.apply(n,i.get());return this.pushStack(n)}});var oe=/^margin/,se=new RegExp("^("+Ot+")(?!px)[a-z%]+$","i"),ae=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Yt.appendChild(s);var e=t.getComputedStyle(a);i="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Yt.removeChild(s),a=null}}var i,n,r,o,s=et.createElement("div"),a=et.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",pt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ft.extend(pt,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var le=/^(none|table(?!-c[ea]).+)/,ce={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},he=["Webkit","Moz","ms"],pe=et.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=B(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),l=t.style;return e=ft.cssProps[a]||(ft.cssProps[a]=L(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e]:(o=typeof i,"string"===o&&(r=Ht.exec(i))&&r[1]&&(i=f(t,e,r),o="number"),void(null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(ft.cssNumber[a]?"":"px")),pt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i))))}},css:function(t,e,i,n){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=L(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=B(t,e,n)),"normal"===r&&e in ue&&(r=ue[e]),""===i||i?(o=parseFloat(r),i===!0||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,i,n){if(i)return!le.test(ft.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?$(t,e,n):zt(t,ce,function(){return $(t,e,n)})},set:function(t,i,n){var r,o=n&&ae(t),s=n&&F(t,e,n,"border-box"===ft.css(t,"boxSizing",!1,o),o);return s&&(r=Ht.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=ft.css(t,e)),N(t,i,s)}}}),ft.cssHooks.marginLeft=A(pt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(B(t,"marginLeft"))||t.getBoundingClientRect().left-zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+Wt[n]+e]=o[n]||o[n-2]||o[0];return r}},oe.test(t)||(ft.cssHooks[t+e].set=N)}),ft.fn.extend({css:function(t,e){return Lt(this,function(t,e,i){var n,r,o={},s=0;if(ft.isArray(e)){for(n=ae(t),r=e.length;s<r;s++)o[e[s]]=ft.css(t,e[s],!1,n);return o}return void 0!==i?ft.style(t,e,i):ft.css(t,e)},t,e,arguments.length>1)}}),ft.Tween=R,R.prototype={constructor:R,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ft.cssNumber[i]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,i=R.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=R.prototype.init,ft.fx.step={};var de,fe,ge=/^(?:toggle|show|hide)$/,me=/queueHooks$/;ft.Animation=ft.extend(V,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return f(i.elem,t,Ht.exec(e),i),i}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var i,n=0,r=t.length;n<r;n++)i=t[n],V.tweeners[i]=V.tweeners[i]||[],V.tweeners[i].unshift(e)},prefilters:[j],prefilter:function(t,e){e?V.prefilters.unshift(t):V.prefilters.push(t)}}),ft.speed=function(t,e,i){var n=t&&"object"==typeof t?ft.extend({},t):{complete:i||!i&&e||ft.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ft.isFunction(e)&&e};return ft.fx.off||et.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in ft.fx.speeds?n.duration=ft.fx.speeds[n.duration]:n.duration=ft.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ft.isFunction(n.old)&&n.old.call(this),n.queue&&ft.dequeue(this,n.queue)},n},ft.fn.extend({fadeTo:function(t,e,i,n){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=ft.isEmptyObject(t),o=ft.speed(e,i,n),s=function(){var e=V(this,ft.extend({},t),o);(r||Ft.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ft.timers,s=Ft.get(this);
if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&me.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Ft.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=ft.timers,s=n?n.length:0;for(i.finish=!0,ft.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var i=ft.fn[e];ft.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(H(e,!0),t,n,r)}}),ft.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=0,i=ft.timers;for(de=ft.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||ft.fx.stop(),de=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){fe||(fe=t.requestAnimationFrame?t.requestAnimationFrame(I):t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(fe):t.clearInterval(fe),fe=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,i){return e=ft.fx?ft.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),i=e.appendChild(et.createElement("option"));t.type="checkbox",pt.checkOn=""!==t.value,pt.optSelected=i.selected,t=et.createElement("input"),t.value="t",t.type="radio",pt.radioValue="t"===t.value}();var ve,be=ft.expr.attrHandle;ft.fn.extend({attr:function(t,e){return Lt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,i):(1===o&&ft.isXMLDoc(t)||(r=ft.attrHooks[e.toLowerCase()]||(ft.expr.match.bool.test(e)?ve:void 0)),void 0!==i?null===i?void ft.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=ft.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!pt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(Et);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ve={set:function(t,e,i){return e===!1?ft.removeAttr(t,i):t.setAttribute(i,i),i}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var i=be[e]||ft.find.attr;be[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=be[s],be[s]=r,r=null!=i(t,e,n)?s:null,be[s]=o),r}});var ye=/^(?:input|select|textarea|button)$/i,xe=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Lt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ft.propFix[t]||t]})}}),ft.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||xe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ft.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,G(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];i=this[l++];)if(r=G(i),n=1===i.nodeType&&" "+q(r)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=q(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];i=this[l++];)if(r=G(i),n=1===i.nodeType&&" "+q(r)+" "){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=q(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(i){ft(this).toggleClass(t.call(this,i,G(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=ft(this),o=t.match(Et)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=G(this),e&&Ft.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ft.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+q(G(i))+" ").indexOf(e)>-1)return!0;return!1}});var Ce=/\r/g;ft.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=ft.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,ft(this).val()):t,null==r?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Ce,""):null==i?"":i)):void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:q(ft.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(n=o<0?l:s?o:0;n<l;n++)if(i=r[n],(i.selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!ft.nodeName(i.parentNode,"optgroup"))){if(e=ft(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=ft.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=ft.inArray(ft.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},pt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we=/^(?:focusinfocus|focusoutblur)$/;ft.extend(ft.event,{trigger:function(e,i,n,r){var o,s,a,l,c,u,h,p=[n||et],d=ct.call(e,"type")?e.type:e,f=ct.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||et,3!==n.nodeType&&8!==n.nodeType&&!we.test(d+ft.event.triggered)&&(d.indexOf(".")>-1&&(f=d.split("."),d=f.shift(),f.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[ft.expando]?e:new ft.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ft.makeArray(i,[e]),h=ft.event.special[d]||{},r||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!r&&!h.noBubble&&!ft.isWindow(n)){for(l=h.delegateType||d,we.test(l+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||et)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||d,u=(Ft.get(s,"events")||{})[e.type]&&Ft.get(s,"handle"),u&&u.apply(s,i),u=c&&s[c],u&&u.apply&&Nt(s)&&(e.result=u.apply(s,i),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(p.pop(),i)!==!1||!Nt(n)||c&&ft.isFunction(n[d])&&!ft.isWindow(n)&&(a=n[c],a&&(n[c]=null),ft.event.triggered=d,n[d](),ft.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(t,e,i){var n=ft.extend(new ft.Event,i,{type:t,isSimulated:!0});ft.event.trigger(n,null,e)}}),ft.fn.extend({trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return ft.event.trigger(t,e,i,!0)}}),ft.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),pt.focusin="onfocusin"in t,pt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Ft.access(n,e);r||n.addEventListener(t,i,!0),Ft.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Ft.access(n,e)-1;r?Ft.access(n,e,r):(n.removeEventListener(t,i,!0),Ft.remove(n,e))}}});var ke=t.location,_e=ft.now(),Se=/\?/;ft.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),i};var Te=/\[\]$/,De=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var i,n=[],r=function(t,e){var i=ft.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){r(this.name,this.value)});else for(i in t)U(i,t[i],e,r);return n.join("&")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&Pe.test(this.nodeName)&&!Me.test(t)&&(this.checked||!qt.test(t))}).map(function(t,e){var i=ft(this).val();return null==i?null:ft.isArray(i)?ft.map(i,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:i.replace(De,"\r\n")}}).get()}});var Ee=/%20/g,Be=/#.*$/,Ae=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fe=/^(?:GET|HEAD)$/,$e=/^\/\//,Re={},Ie={},Oe="*/".concat("*"),He=et.createElement("a");He.href=ke.href,ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:Ne.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ft.ajaxSettings),e):Y(ft.ajaxSettings,t)},ajaxPrefilter:K(Re),ajaxTransport:K(Ie),ajax:function(e,i){function n(e,i,n,a){var c,p,d,x,C,w=i;u||(u=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,n&&(x=Z(f,k,n)),x=Q(f,x,k,c),c?(f.ifModified&&(C=k.getResponseHeader("Last-Modified"),C&&(ft.lastModified[o]=C),C=k.getResponseHeader("etag"),C&&(ft.etag[o]=C)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=x.state,p=x.data,d=x.error,c=!d)):(d=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(i||w)+"",c?v.resolveWith(g,[p,w,k]):v.rejectWith(g,[k,w,d]),k.statusCode(y),y=void 0,h&&m.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?p:d]),b.fireWith(g,[k,w]),h&&(m.trigger("ajaxComplete",[k,f]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,l,c,u,h,p,d,f=ft.ajaxSetup({},i),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?ft(g):ft.event,v=ft.Deferred(),b=ft.Callbacks("once memory"),y=f.statusCode||{},x={},C={},w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(u){if(!a)for(a={};e=Le.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)k.always(t[k.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),n(0,e),this}};if(v.promise(k),f.url=((e||f.url||ke.href)+"").replace($e,ke.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Et)||[""],null==f.crossDomain){c=et.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=He.protocol+"//"+He.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ft.param(f.data,f.traditional)),X(Re,f,i,k),u)return k;h=ft.event&&f.global,h&&0===ft.active++&&ft.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Fe.test(f.type),o=f.url.replace(Be,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ee,"+")):(d=f.url.slice(o.length),f.data&&(o+=(Se.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(Ae,"$1"),d=(Se.test(o)?"&":"?")+"_="+_e++ +d),f.url=o+d),f.ifModified&&(ft.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&k.setRequestHeader("If-None-Match",ft.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||i.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Oe+"; q=0.01":""):f.accepts["*"]);for(p in f.headers)k.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(f.beforeSend.call(g,k,f)===!1||u))return k.abort();if(w="abort",b.add(f.complete),k.done(f.success),k.fail(f.error),r=X(Ie,f,i,k)){if(k.readyState=1,h&&m.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{u=!1,r.send(x,n)}catch(t){if(u)throw t;n(-1,t)}}else n(-1,"No Transport");return k},getJSON:function(t,e,i){return ft.get(t,e,i,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,i,n,r){return ft.isFunction(i)&&(r=r||n,n=i,i=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:r,data:i,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){var e;return this[0]&&(ft.isFunction(t)&&(t=t.call(this[0])),e=ft(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(i){ft(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ft(this).replaceWith(this.childNodes)}),this}}),ft.expr.pseudos.hidden=function(t){return!ft.expr.pseudos.visible(t)},ft.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ft.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},je=ft.ajaxSettings.xhr();pt.cors=!!je&&"withCredentials"in je,pt.ajax=je=!!je,ft.ajaxTransport(function(e){var i,n;if(pt.cors||je&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),ft.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=ft("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){i&&i()}}}});var ze=[],Ve=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||ft.expando+"_"+_e++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(Ve.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ve.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ve,"$1"+r):e.jsonp!==!1&&(e.url+=(Se.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ft.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?ft(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,ze.push(r)),s&&ft.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),pt.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ft.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,o;return e||(pt.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=et.location.href,e.head.appendChild(n)):e=et),r=kt.exec(t),o=!i&&[],r?[e.createElement(r[1])]:(r=y([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],r.childNodes))},ft.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=q(t.slice(a)),t=t.slice(0,a)),ft.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?ft("<div>").append(ft.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.pseudos.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,c,u=ft.css(t,"position"),h=ft(t),p={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=ft.css(t,"top"),l=ft.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(n=h.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,i,ft.extend({},a))),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):h.css(p)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,i,n,r,o=this[0];return o?o.getClientRects().length?(n=o.getBoundingClientRect(),n.width||n.height?(r=o.ownerDocument,i=J(r),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+ft.css(t[0],"borderTopWidth",!0),left:n.left+ft.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||Yt})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;ft.fn[t]=function(n){return Lt(this,function(t,n,r){var o=J(t);return void 0===r?o?o[e]:t[n]:void(o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r)},t,n,arguments.length)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=A(pt.pixelPosition,function(t,i){if(i)return i=B(t,e),se.test(i)?ft(t).position()[e]+"px":i})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ft.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Lt(this,function(e,i,r){var o;return ft.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ft.css(e,i,a):ft.style(e,i,r,a)},e,s?r:void 0,s)}})}),ft.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),ft.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var qe=t.jQuery,Ge=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=Ge),e&&t.jQuery===ft&&(t.jQuery=qe),ft},e||(t.jQuery=t.$=ft),ft}),define("jquery-private",["jquery"],function(t){"use strict";return t=t.noConflict(!0)}),function(t){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function s(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}function a(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var l=0,c=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,n){return t.isFunction(n)?void(a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(a[e]=n)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,n,r=c.call(arguments,1),o=0,s=r.length;s>o;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(e[i]=t.isPlainObject(n)?t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=c.call(arguments,1),a=this;return o?this.length||"instance"!==r?this.each(function(){var i,o=t.data(this,n);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,s),i!==o&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):a=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;n.length-1>o;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var s,a;for(a=0;i.length>a;a++)s=r.classesElementLookup[i[a]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),r.classesElementLookup[i[a]]=s,n.push(i[a]),o&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],r=this;
return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,o={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):i.on(c,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,h=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),e=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType,o=!n&&!r;return{element:i,isWindow:n,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=t.extend({},r);var h,d,f,g,m,v,b=t(r.of),y=t.position.getWithinInfo(r.within),x=t.position.getScrollInfo(y),C=(r.collision||"flip").split(" "),w={};return v=n(b),b[0].preventDefault&&(r.at="left top"),d=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],r[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?m.left+=d:"center"===r.at[0]&&(m.left+=d/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),h=e(w.at,d,f),m.left+=h[0],m.top+=h[1],this.each(function(){var n,a,l=t(this),c=l.outerWidth(),u=l.outerHeight(),p=i(this,"marginLeft"),v=i(this,"marginTop"),k=c+p+i(this,"marginRight")+x.width,_=u+v+i(this,"marginBottom")+x.height,S=t.extend({},m),T=e(w.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?S.left-=c:"center"===r.my[0]&&(S.left-=c/2),"bottom"===r.my[1]?S.top-=u:"center"===r.my[1]&&(S.top-=u/2),S.left+=T[0],S.top+=T[1],n={marginLeft:p,marginTop:v},t.each(["left","top"],function(e,i){t.ui.position[C[e]]&&t.ui.position[C[e]][i](S,{targetWidth:d,targetHeight:f,elemWidth:c,elemHeight:u,collisionPosition:n,collisionWidth:k,collisionHeight:_,offset:[h[0]+T[0],h[1]+T[1]],my:r.my,at:r.at,within:y,elem:l})}),r.using&&(a=function(t){var e=g.left-S.left,i=e+d-c,n=g.top-S.top,a=n+f-u,h={target:{element:b,left:g.left,top:g.top,width:d,height:f},element:{element:l,left:S.left,top:S.top,width:c,height:u},horizontal:0>i?"left":e>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};c>d&&d>s(e+i)&&(h.horizontal="center"),u>f&&f>s(n+a)&&(h.vertical="middle"),h.important=o(s(e),s(i))>o(s(n),s(a))?"horizontal":"vertical",r.using.call(this,t,h)}),l.offset(t.extend(S,{using:a}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&0>=c?(i=t.left+l+e.collisionWidth-s-r,t.left+=l-i):t.left=c>0&&0>=l?r:l>c?r+s-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&0>=c?(i=t.top+l+e.collisionHeight-s-r,t.top+=l-i):t.top=c>0&&0>=l?r:l>c?r+s-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-a-l,p="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>u?(i=t.left+p+d+f+e.collisionWidth-a-o,(0>i||s(u)>i)&&(t.left+=p+d+f)):h>0&&(n=t.left-e.collisionPosition.marginLeft+p+d+f-l,(n>0||h>s(n))&&(t.left+=p+d+f))},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-a-l,p="top"===e.my[1],d=p?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>u?(n=t.top+d+f+g+e.collisionHeight-a-o,(0>n||s(u)>n)&&(t.top+=d+f+g)):h>0&&(i=t.top-e.collisionPosition.marginTop+d+f+g-l,(i>0||h>s(i))&&(t.top+=d+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var u="ui-effects-",h="ui-effects-style",p="ui-effects-animated",d=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var n=h[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=c(),r=n._rgba=[];return i=i.toLowerCase(),f(l,function(t,o){var s,a=o.re.exec(i),l=a&&o.parse(a),c=o.space||"rgba";return l?(s=n[c](l),n[u[c].cache]=s[u[c].cache],r=n._rgba=s._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),n):o[i]}function r(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=c.support={},d=t("<p>")[0],f=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=d.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,p=t.type(r),d=this._rgba=[];return s!==e&&(r=[r,s,a,l],p="array"),"string"===p?this.parse(n(r)||o._default):"array"===p?(f(u.rgba.props,function(t,e){d[e.idx]=i(r[e.idx],e)}),this):"object"===p?(r instanceof c?f(u,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):f(u,function(e,n){var o=n.cache;f(n.props,function(t,e){if(!h[o]&&n.to){if("alpha"===t||null==r[t])return;h[o]=n.to(h._rgba)}h[o][e.idx]=i(r[t],e,!0)}),h[o]&&0>t.inArray(null,h[o].slice(0,3))&&(h[o][3]=1,n.from&&(h._rgba=n.from(h[o])))}),this):e},is:function(t){var i=c(t),n=!0,r=this;return f(u,function(t,o){var s,a=i[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],f(o.props,function(t,i){return null!=a[i.idx]?n=a[i.idx]===s[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return f(u,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),r=n._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],c=n[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=i((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(n,r,o),l=Math.min(n,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:n===a?60*(r-o)/c+360:r===a?60*(o-n)/c+120:60*(n-r)/c+240,i=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,i,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(u,function(n,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var r,a=t.type(n),h="array"===a||"object"===a?n:arguments,p=this[s].slice();return f(o,function(t,e){var n=h["object"===a?t:e.idx];null==n&&(n=p[e.idx]),p[e.idx]=i(n,e)}),u?(r=c(u(p)),r[s]=p,r):c(p)},f(o,function(e,i){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=r,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=n(r)))){if(r=c(o||r),!p.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(d),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function i(e,i){var n,o,s={};for(n in i)o=i[n],e[n]!==o&&(r[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(s[n]=o));return s}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(d.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(n,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,o){return n?t.effects.animateClass.call(this,{add:i},n,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,o,s){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function n(t,e){var i=e.outerWidth(),n=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,i,n,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?n:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(p)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;n>i;i++)null!==e[i]&&t.data(u+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,r=e.length;r>n;n++)null!==e[n]&&(i=t.data(u+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,r="vertical"!==i?(e||100)/100:1;return{height:t.height()*r,width:t.width()*n,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(h,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(h)||"",t.removeData(h)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(u+"placeholder",i)),e.css({position:n,left:r.left,top:r.top}),i},removePlaceholder:function(t){var e=u+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),t.fn.extend({effect:function(){function i(e){function i(){a.removeData(p),t.effects.cleanUp(a),"hide"===n.mode&&a.hide(),s()}function s(){t.isFunction(l)&&l.call(a[0]),t.isFunction(e)&&e()}var a=t(this);n.mode=u.shift(),t.uiBackCompat===!1||o?"none"===n.mode?(a[c](),s()):r.call(a[0],n,i):(a.is(":hidden")?"hide"===c:"show"===c)?(a[c](),s()):r.call(a[0],n,s)}var n=e.apply(this,arguments),r=t.effects.effect[n.effect],o=r.mode,s=n.queue,a=s||"fx",l=n.complete,c=n.mode,u=[],h=function(e){var i=t(this),n=t.effects.mode(i,c)||o;i.data(p,!0),u.push(n),o&&("show"===n||n===o&&"hide"===n)&&i.show(),o&&"none"===n||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!r?c?this[c](n.duration,l):this.each(function(){l&&l.call(this)}):s===!1?this.each(h).each(i):this.queue(a,h).queue(a,i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):n(this.css("clip"),this)},transfer:function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),p=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){p.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=n(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[n[o][0]]=a.clip[n[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var n,r,o,s=t(this),a=e.mode,l="hide"===a,c="show"===a,u=e.direction||"up",h=e.distance,p=e.times||5,d=2*p+(c||l?1:0),f=e.duration/d,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=0,y=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),h||(h=s["top"===m?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[m]=o,s.css("opacity",0).css(m,v?2*-h:2*h).animate(r,f,g)),l&&(h/=Math.pow(2,p-1)),r={},r[m]=o;p>b;b++)n={},n[m]=(v?"-=":"+=")+h,s.animate(n,f,g).animate(r,f,g),h=l?2*h:h/2;l&&(n={opacity:0},n[m]=(v?"-=":"+=")+h,s.animate(n,f,g)),s.queue(i),t.effects.unshift(s,y,d+1)}),t.effects.define("clip","hide",function(e,i){var n,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,c=a||"vertical"===s;n=o.cssClip(),r.clip={top:c?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:c?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=n),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var n,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",u="+="===c?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),n=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,h[l]=c+n,s&&(r.css(h),h[l]=u+n,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function n(){y.push(this),y.length===h*p&&r()}function r(){d.css({visibility:"visible"}),t(y).remove(),i()}var o,s,a,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,p=h,d=t(this),f=e.mode,g="show"===f,m=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/p),b=Math.ceil(d.outerHeight()/h),y=[];for(o=0;h>o;o++)for(l=m.top+o*b,u=o-(h-1)/2,s=0;p>s;s++)a=m.left+s*v,c=s-(p-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(g?c*v:0),top:l+(g?u*b:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:u*b),opacity:g?1:0},e.duration||500,e.easing,n)}),t.effects.define("fade","toggle",function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var n=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),c=!!e.horizFirst,u=c?["right","bottom"]:["bottom","right"],h=e.duration/2,p=t.effects.createPlaceholder(n),d=n.cssClip(),f={clip:t.extend({},d)},g={clip:t.extend({},d)},m=[d[u[0]],d[u[1]]],v=n.queue().length;l&&(a=parseInt(l[1],10)/100*m[s?0:1]),f.clip[u[0]]=a,g.clip[u[0]]=a,g.clip[u[1]]=0,o&&(n.cssClip(g.clip),p&&p.css(t.effects.clipToBox(g)),g.clip=d),n.queue(function(i){p&&p.animate(t.effects.clipToBox(f),h,e.easing).animate(t.effects.clipToBox(g),h,e.easing),i()}).animate(f,h,e.easing).animate(g,h,e.easing).queue(i),t.effects.unshift(n,v,4)}),t.effects.define("highlight","show",function(e,i){var n=t(this),r={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var n,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,h="effect"!==u,p=e.scale||"both",d=e.origin||["middle","center"],f=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,b=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===u&&(o=v,v=b,b=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},("box"===p||"both"===p)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),b=t.effects.setTransition(s,l,r.to.y,b)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,c,r.from.x,v),b=t.effects.setTransition(s,c,r.to.x,b))),("content"===p||"both"===p)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),b=t.effects.setTransition(s,a,r.to.y,b)),d&&(n=t.effects.getBaseline(d,m),v.top=(m.outerHeight-v.outerHeight)*n.y+g.top,v.left=(m.outerWidth-v.outerWidth)*n.x+g.left,b.top=(m.outerHeight-b.outerHeight)*n.y+g.top,b.left=(m.outerWidth-b.outerWidth)*n.x+g.left),s.css(v),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var i=t(this),n=t.effects.scaledDimensions(i),o={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},s={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(i,l,r.from.y,o),s=t.effects.setTransition(i,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(i,c,r.from.x,o),s=t.effects.setTransition(i,c,r.to.x,s)),h&&t.effects.saveStyle(i),i.css(o),i.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(i)})})),s.animate(b,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===b.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(s)),i()}})}),t.effects.define("scale",function(e,i){var n=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,i)}),t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150
});t.effects.effect.scale.call(this,n,i)}),t.effects.define("pulsate","show",function(e,i){var n=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(e.times||5)+(a?1:0),c=e.duration/l,u=0,h=1,p=n.queue().length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1);l>h;h++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(i),t.effects.unshift(n,p,l+1)}),t.effects.define("shake",function(e,i){var n=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,p={},d={},f={},g=r.queue().length;for(t.effects.createPlaceholder(r),p[u]=(h?"-=":"+=")+s,d[u]=(h?"+=":"-=")+2*s,f[u]=(h?"-=":"+=")+2*s,r.animate(p,c,e.easing);a>n;n++)r.animate(d,c,e.easing).animate(f,c,e.easing);r.animate(d,c,e.easing).animate(p,c/2,e.easing).queue(i),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,i){var n,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),p={};t.effects.createPlaceholder(o),n=o.cssClip(),r=o.position()[c],p[c]=(u?-1:1)*h+r,p.clip=o.cssClip(),p.clip[s[l][1]]=p.clip[s[l][0]],"show"===a&&(o.cssClip(p.clip),o.css(c,p[c]),p.clip=n,p[c]=r),o.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,n){var r,o,s,a,l,c=i.nodeName.toLowerCase();return"area"===c?(r=i.parentNode,o=r.name,!(!i.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap='#"+o+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(a=!i.disabled,a&&(l=t(i).closest("fieldset")[0],l&&(a=!l.disabled))):a="a"===c?i.href||n:n,a&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,n,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",r=r.add(o.find(i).addBack(i))),this.pushStack(r))},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),r=n.uniqueId().attr("id");e.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=r.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,c=l?t():s.next(),u=o.next(),h={oldHeader:o,oldPanel:u,newHeader:l?t():s,newPanel:c};e.preventDefault(),a&&!r.collapsible||this._trigger("beforeActivate",e,h)===!1||(r.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.activeHeader)._addClass(i,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=s.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.header)._addClass(n,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,r,o,s=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},h=c&&u.down||u,p=function(){s._toggleComplete(i)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==s.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,p):t.animate(this.showProps,o,r,p)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,n,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,n=this.previousFilter||"",o=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-r}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=t.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),n=i.item.attr("aria-label")||r.value,void(n&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,r){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!n)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,r){
var o,s={};return r?"controlgroupLabel"===n?(o=e.element.find(r),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(o.get()))):void(t.fn[n]&&(s=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[n]("instance"),a=t.widget.extend({},s);if("button"!==n||!r.parent(".ui-spinner").length){o||(o=r[n]()[n]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[n](a);var l=r[n]("widget");t.data(l[0],"ui-controlgroup-data",o?o:r[n]("instance")),i.push(l[0])}}))):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),n=i.data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(r){var o=i.options.classes[r]||"";o=t.trim(o.replace(g,"")),n[r]=(o+" "+e[r]).replace(/\s+/g," ")}),n},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,n){var r=e[n]().data("ui-controlgroup-data");if(r&&i["_"+r.widgetName+"Options"]){var o=i["_"+r.widgetName+"Options"](1===e.length?"only":n);o.classes=i._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else i._updateCornerClass(e[n](),n)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,n="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,r=n?this.options.iconPosition:i,o="top"===r||"bottom"===r;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;t.length>r;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,o){var a,l,c,u,h,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],"datepicker",p)),s(p.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",p),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,o,a,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),s(c.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,a)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,r,o,a,l,c,u;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(n,"beforeShow"),o=r?r.apply(e,[e,n]):{},o!==!1&&(s(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),l=t.datepicker._checkOffset(n,l,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(c=t.datepicker._get(n,"showAnim"),u=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?n.dpDiv.show(c,t.datepicker._get(n,"showOptions"),u):n.dpDiv[c||"show"](c?u:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],s=17,a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&o.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,r):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var r,o,s,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,d=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,x=function(t){var i=e.length>r+1&&e.charAt(r+1)===t;return i&&r++,i},C=function(t){var e=x(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?n:1,o=RegExp("^\\d{"+r+","+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(e,n,r){var o=-1,s=t.map(x(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=e[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;e.length>r;r++)if(y)"'"!==e.charAt(r)||x("'")?k():y=!1;else switch(e.charAt(r)){case"d":v=C("d");break;case"D":w("D",h,p);break;case"o":b=C("o");break;case"m":m=C("m");break;case"M":m=w("M",d,f);break;case"y":g=C("y");break;case"@":a=new Date(C("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((C("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":x("'")?k():y=!0;break;default:k()}if(i.length>l&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),b>-1)for(m=1,v=b;o=this._getDaysInMonth(g,m-1),!(o>=v);)m++,v-=o;if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",p=!1;if(e)for(n=0;t.length>n;n++)if(p)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):p=!1;else switch(t.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),r,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);
break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":p=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(i,n,s)||r}catch(t){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),o=n.getMonth(),s=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(i)}return new Date(r,o,s)},s=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return s=s&&"Invalid Date"==""+s?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,o,s,a,l,c,u,h,p,d,f,g,m,v,b,y,x,C,w,k,_,S,T,D,M,P,E,B,A,L,N,F,$,R,I,O,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),j=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),X=1!==G[0]||1!==G[1],Y=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-U,tt=t.drawYear;if(0>J&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-G[0]*G[1]+1,Q.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)J--,0>J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-K,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=q?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+K,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?Y:W,s=q?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(t,"showWeek"),p=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),x="",w=0;G[0]>w;w++){for(k="",this.maxRows=4,_=0;G[1]>_;_++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),T=" ui-corner-all",D="",X){if(D+="<div class='ui-datepicker-group",G[1]>1)switch(_){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(j?"right":"left");break;case G[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(j?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?j?o:n:"")+(/all|right/.test(T)&&0===w?j?n:o:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,w>0||_>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",C=0;7>C;C++)P=(C+u)%7,M+="<th scope='col'"+((C+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[P]+"'>"+d[P]+"</span></th>";for(D+=M+"</tr></thead><tbody>",E=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),B=(this._getFirstDayOfMonth(tt,J)-u+7)%7,A=Math.ceil((B+E)/7),L=X&&this.maxRows>A?this.maxRows:A,this.maxRows=L,N=this._daylightSavingAdjust(new Date(tt,J,1-B)),F=0;L>F;F++){for(D+="<tr>",$=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",C=0;7>C;C++)R=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],I=N.getMonth()!==J,O=I&&!b||!R[0]||Z&&Z>N||Q&&N>Q,$+="<td class='"+((C+u+6)%7>=5?" ui-datepicker-week-end":"")+(I?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||y.getTime()===N.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(I&&!v?"":" "+R[1]+(N.getTime()===Y.getTime()?" "+this._currentClass:"")+(N.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(I&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(I&&!v?"&#xa0;":O?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===W.getTime()?" ui-state-highlight":"")+(N.getTime()===Y.getTime()?" ui-state-active":"")+(I?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);D+=$+"</tr>"}J++,J>11&&(J=0,tt++),D+="</tbody></table>"+(X?"</div>"+(G[0]>0&&_===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=D}x+=k}return x+=c,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,i,n,r,o,s,a){var l,c,u,h,p,d,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(o||!m)x+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||r.getMonth()>=u)&&(x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");x+="</select>"}if(b||(y+=x+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),d=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?p+parseInt(t,10):parseInt(t,10);return isNaN(e)?p:e},f=d(h[0]),g=Math.max(f,d(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!o&&m&&v?"":"&#xa0;")+x),y+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),r=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&i>e?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||a>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var v=!1;t(document).on("mouseup",function(){v=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),v=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),n=t(e.target);n.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),n=i[0],void(n&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),
r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,o,s,a,l,c,u,h,p,d,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(p=n.snapElements.length-1;p>=0;p--)l=n.snapElements[p].left-n.margins.left,c=l+n.snapElements[p].width,u=n.snapElements[p].top-n.margins.top,h=u+n.snapElements[p].height,l-g>v||m>c+g||u-g>y||b>h+g||!t.contains(n.snapElements[p].item.ownerDocument,n.snapElements[p].item)?(n.snapElements[p].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(r=g>=Math.abs(u-y),o=g>=Math.abs(h-b),s=g>=Math.abs(l-v),a=g>=Math.abs(c-m),r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),d=r||o||s||a,"outer"!==f.snapMode&&(r=g>=Math.abs(u-b),o=g>=Math.abs(h-y),s=g>=Math.abs(l-m),a=g>=Math.abs(c-v),r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[p].snapping&&(r||o||s||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=r||o||s||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,s=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;n.length>i;i++)e=t.trim(n[i]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,n,r,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,s,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),n&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(r[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,p=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;p&&(l.containerElement=t(p),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(p),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(p,"left")?p.scrollWidth:o,a=l._hasScroll(p)?p.scrollHeight:r,l.parentData={element:p,left:n.left,top:n.top,width:s,height:a}))},resize:function(e){var i,n,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},p=s.containerElement,d=!0;p[0]!==document&&/static/.test(p.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,d=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,d=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio,d=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio,d=!1)),d||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,p=Math.round((r.height-o.height)/u)*u,d=o.width+h,f=o.height+p,g=n.maxWidth&&d>n.maxWidth,m=n.maxHeight&&f>n.maxHeight,v=n.minWidth&&n.minWidth>d,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(d+=c),b&&(f+=u),g&&(d-=c),m&&(f-=u),/^(se|s|e)$/.test(a)?(i.size.width=d,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=d,i.size.height=f,i.position.top=s.top-p):/^(sw)$/.test(a)?(i.size.width=d,i.size.height=f,i.position.left=s.left-h):((0>=f-u||0>=d-c)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=s.top-p):(f=u-e.height,i.size.height=f,i.position.top=s.top+o.height-f),d-c>0?(i.size.width=d,i.position.left=s.left-h):(d=c-e.width,i.size.width=d,i.position.left=s.left+o.width-d))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,function(i,n){var r,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,o={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,o){var s=o.offset.left-i.document.scrollLeft(),a=o.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,o){var s=i.uiDialog.offset(),a=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,i){var n,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(n=o.is(":data(ui-draggable)"),n&&!i&&o.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=o.is(":data(ui-resizable)"),r&&!i&&o.resizable("destroy"),r&&"string"==typeof i&&o.resizable("option","handles",i),r||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),
this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&b(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var b=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,n,r){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=i.offset.left,u=i.offset.top,h=c+i.proportions().width,p=u+i.proportions().height;switch(n){case"fit":return o>=c&&h>=a&&s>=u&&p>=l;case"intersect":return o+e.helperProportions.width/2>c&&h>a-e.helperProportions.width/2&&s+e.helperProportions.height/2>u&&p>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,i.proportions().height)&&t(r.pageX,c,i.proportions().width);case"touch":return(s>=u&&p>=s||l>=u&&p>=l||u>s&&l>p)&&(o>=c&&h>=o||a>=c&&h>=a||c>o&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(r=0;a.length>r;r++)if(a[r]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===s&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&b(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,s=b(e,this,this.options.tolerance,i),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(n=t(o[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),r={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,r=t.data(this,"selectable-item");return r?(n=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,n?"ui-unselecting":"ui-selected")._addClass(r.$element,n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",e,{selecting:r.element}):i._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(i=a,a=o,o=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1,u={};i&&i.element!==n.element[0]&&(u.left=i.left+n.elementPos.left,u.right=i.right+n.elementPos.left,u.top=i.top+n.elementPos.top,u.bottom=i.bottom+n.elementPos.top,"touch"===r.tolerance?c=!(u.left>a||o>u.right||u.top>l||s>u.bottom):"fit"===r.tolerance&&(c=u.left>o&&a>u.right&&u.top>s&&l>u.bottom),c?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),n._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),n._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each(function(e,r){n.push(i._parseOption(t(r),e))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;i>e;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,c,u=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));(r>i||r===i&&(e===u._lastChangedValue||u.values(e)===h.min))&&(r=i,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,r,o=this.value(),s=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(r,i):Math.max(r,i)),s[e]=i),i!==o&&(n=this._trigger("slide",t,this._uiHash(e,i,s)),n!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;n.length>o;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.round((t-e)/i)*i;t=n+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),
o=this._valueMax(),i=o!==r?100*((n-r)/(o-r)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-i+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var i,n,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,s),i===!1))return}switch(o=this.options.step,n=r=this._hasMultipleValues()?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(e,s,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>a&&l>n+c,p="y"===this.options.axis||e+u>o&&s>e+u,d=h&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:e+this.helperProportions.width/2>o&&s>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=n&&r;return!!o&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(n=c.length-1;n>=0;n--)for(o=t(c[n],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(r=t(p[i],this.document[0]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=h.length-1;i>=0;i--)for(s=h[i][1],a=h[i][0],n=0,c=a.length;c>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+n+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===n?e._createTrPlaceholder(e.currentItem,r):"img"===n&&r.attr("src",e.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,r,o,s,a,l,c,u,h,p=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&t.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,u=p.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[s],c=!1,e[h]-l>this.items[n][a]/2&&(c=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;r.length>n;n++)r[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,n){var r=i.attr(n);null!=r&&r.length&&(e[n]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,r;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:a(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),
""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:a(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:a(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:a(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void a(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,n;i=e.href.replace(t,""),n=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return e.hash.length>1&&i===n}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,r){return t(r).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=!i&&0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,n){var r,o,s,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");e._isLocal(n)?(r=n.hash,s=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(s=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+s,o=e.element.find(r),o.length||(o=e._createPanel(s),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;n=this.tabs[r];r++)i=t(n),e===!0||-1!==t.inArray(r,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===n[0],a=s&&i.collapsible,l=a?t():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:c,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",e,u)===!1||(i.active=!a&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function r(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,n):(s.show(),n())}var o=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),n._trigger("load",i,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;return"string"==typeof n||n.nodeType||n.jquery?this._open(e,t,n):(i=n.call(t[0],function(i){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),void(i&&this._open(e,t,i)))},_open:function(e,i,n){function r(t){c.of=t,s.is(":hidden")||s.position(c)}var o,s,a,l,c=t.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),s=o.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),l=t("<div>").html(s.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(i=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),r=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip}),define("base/utils",["jquery"],function(t){"use strict";function e(t,e,i,n){return t.setAttributeNS(n||null,e,i)}function i(t,e,i){return t.getAttributeNS(i||null,e)}function n(t,i,n){for(var r,o=Object.keys(i),s=o.length;s--;)r=o[s],e(t,r,i[r],n)}function r(t){var e=r.cache[t];return e||(e=document.createElement("input"),e.setAttribute("type",t),e=e.type,r.cache[t]=e),e===t}var o="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xlink";return r.cache={},Array.prototype.removeByNumber=function(t,e){var i=this.slice((e||t)+1||this.length);return this.length=t<0?this.length+t:t,this.push.apply(this,i)},Array.prototype.removeByValue=function(t){for(var e=0,i=this.length;e<i;e+=1)if(this[e]===t)return this.removeByNumber(e);return!1},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return n!==-1&&n===e}),String.prototype.fromASCIICode=function(){return this.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})},String.prototype.toASCIICode=function(){return this.replace(/(\n|\r|\t+)/g,function(t,e){return"&#"+e.charCodeAt()+";"})},String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})}),String.prototype.splice=function(t,e,i){return this.slice(0,t)+i+this.slice(t+Math.abs(e))},String.prototype.dimensions=function(e,i){var n,r,o,s,a=t("body");return e=e||{},e={"font-size":e["font-size"]||"12px","font-family":e["font-family"]||"Tahoma","font-weight":e["font-weight"]||"100"},s=this,i&&(s=s.replace(/[\n\r]/g,"<br>&nbsp;")),n=t("<div>"+s+"</div>"),n.css({position:"absolute",float:"left","white-space":"nowrap",visibility:"hidden","font-size":e["font-size"],"font-family":e["font-family"],"font-weight":e["font-weight"]}).appendTo(a),r=n.width(),o=n.height(),n.remove(),{w:r,h:o}},String.prototype.width=function(){return this.dimensions.apply(this,arguments).w},Array.prototype.removeDoubleValue=function(){for(var t=[],e=0,i=this.length;e<i;e+=1)~t.indexOf(this[e])||t.push(this[e]);return t},HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,i){for(var n=atob(this.toDataURL(e,i).split(",")[1]),r=n.length,o=new Uint8Array(r),s=0;s<r;s++)o[s]=n.charCodeAt(s);t(new Blob([o],{type:e||"image/png"}))}}),{object:function(t,e){var i=Object.create(t,{_super:{value:t}}),n=[].slice.apply(arguments).slice(2);return e&&this.extend(i,e),i.init&&i.init.apply(i,n),i},extend:function(t,e,i){var n,r,o=Object.keys(e),s=o.length;for(t=t||{};s--;)n=o[s],r=e[n],i&&"object"==typeof r&&r.constructor!==Array?t[n]=this.extend(t[n],r,i):t[n]=r;return t},attr:function(){var t=arguments;if(2===t.length){if("string"==typeof t[1])return i.apply(this,t);if("object"==typeof t[1])return n.apply(this,t)}else if(3===t.length)return e.apply(this,t);throw new Error("something went wrong")},xAttr:function(){var t=[].slice.call(arguments);if(2===t.length){if(t.push(s),"string"==typeof t[1])return i.apply(this,t);if("object"==typeof t[1])return n.apply(this,t)}else if(3===t.length)return t.push(s),e.apply(this,t);throw new Error("something went wrong")},addClass:function(t,e){if(t.classList)t.classList.add(e);else{var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g"),n=this.attr(t,"class");if(i.test(n))return null;n=((n||"")+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""),this.attr(t,"class",n)}return t},removeClass:function(t,e){var i,n;return t.classList?t.classList.remove(e):(i=new RegExp("(^|\\s)"+e+"(\\s|$)","g"),n=this.attr(t,"class"),n=n.replace(i,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,""),this.attr(t,"class",n)),t},createNS:function(t,e){var i,n,r;if(t=document.createElementNS(o,t),e&&"object"==typeof e)for(n=Object.keys(e),i=n.length;i--;)r=n[i],this.attr(t,r,e[r]);return t},readURL:function(t,e){var i;t.files&&t.files[0]&&(i=new FileReader,"function"==typeof e&&(i.onload=e),i.readAsDataURL(t.files[0]))},isFloat:function(t){return t===+t&&t!==(0|t)},isInteger:function(t){return t===+t&&t===(0|t)},convertVal:function(e){var i;return"true"===e||"false"!==e&&(t.isNumeric(e)&&(i=parseFloat(e,10),i||0===i)?i:e)},escapeHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},unescapeHTML:function(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},isAvailable:r,unify:function(t){var e=t.touches,i=t.changedTouches;return t.pageX=t.pageX||e&&e[0]&&e[0].pageX||i&&i[0].pageX||0,t.pageY=t.pageY||e&&e[0]&&e[0].pageY||i&&i[0].pageY||0,t},reverseEscapeHTML:function(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'")},stripTags:function(t){return t.replace(/(<([^>]+)>)/gi,"")},stripBr:function(t){return t.replace(/[<]br[^>]*[>]/gi,"")},getUrlParameter:function(t){for(var e,i=window.location.search.substring(1),n=i.split("&"),r=0,o=n.length,s=[];r<o;r+=1)e=n[r].split("="),e[0]===t&&s.push(e[1]);return s.length<2?s[0]:s},setCookie:function(t,e,i){var n,r=new Date;r.setTime(r.getTime()+24*i*60*60*1e3),n="expires="+r.toUTCString(),document.cookie=t+"="+e+"; "+n},getCookie:function(t){var e,i=t+"=",n=document.cookie.split(";"),r=0,o=n.length;for(r;r<o;r+=1){for(e=n[r];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(i))return e.substring(i.length,e.length)}return""},isMobile:function(){return!!/iphone|android|webos|blackberry|ipad|ipod|iemobile|opera mini/i.test(navigator.userAgent)}(),guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"===t?e:3&e|8;return i.toString(16)})}}}),define("config-data",[],function(){"use strict";return{saveReport:"/FastReport.Export.axd?putReport=#{id}",makePreview:"/FastReport.Export.axd?makePreview=#{id}",getReport:"/FastReport.Export.axd?getReport=#{id}&v=#{rand_hash}",getFunctions:"/FastReport.Export.axd?getFunctions=#{id}",cookieName:"ARRAffinity","locales-path":"locales/#{locale}.js","templates-path":"views/#{name}.tmpl.html","images-path":"images/#{image}","scale-mobile":.6,scale:1,grid:9.45,"sticky-grid":!0,hotkeyProhibited:!1,dasharrays:{DashDot:"9, 2, 2, 2",Dot:"2, 2",Solid:"",Dash:"9, 3",DashDotDot:"9, 2, 2, 2, 2, 2"},"font-names":["Calibri","Calibri Light","Comic Sans MS","Consolas","Constantia","Courier New","Georgia","Impact","Tahoma","Times New Roman","Trebuchet MS","Verdana","Droid Sans Mono","Ubuntu Mono","Microsoft Sans Serif","Palatino Linotype","Lucida Console","Lucida Sans Unicode","Segoe Print","Segoe Script","Segoe UI","Segoe UI Symbol","Sylfaen","Symbol","Webdings","Wingbings","Cambria","Arial","Candara","Corbel","Franklin Gothic","Gabriola","Cambria Math"],"default-font-name":"Arial",brackets:"[,]","band-indent-top":9.448,"band-indent-opacity":.3,minComponentWidthForResizingElements:40,minComponentHeightForResizingElements:40,rectButtonWidth:15,rectButtonHeight:15,rectButtonOpacity:.6,rectButtonFill:"rgb(183, 36, 29)",circleButtonWidth:6,circleButtonHeight:6,circleButtonRadius:5,"circleButtonWidth-mobile":12,"circleButtonHeight-mobile":12,"circleButtonRadius-mobile":10,circleButtonFill:"rgb(183, 36, 29)",circleButtonOpacity:.6,resizingBandBlockWidth:100,resizingBandBlockHeight:15,polylineStroke:"rgb(183, 36, 29)",polylineStrokeWidth:"1px",selectedPolylineStrokeWidth:"2.5px",polylineFill:"none",polylineWidth:4,lineMovingScope:30,guides:!0,"default-band-separator-color":"#C0C0C0","selected-band-separator-color":"#2B579A","show-band-title":!0,"add-bands":!0,"resize-bands":!0,"movable-components":!0,"resizable-components":!0,customization:{properties:{enable:!0,button:!0,shown:!1,header:!0,hasBorder:!0,movable:!0,resizable:!0},events:{enable:!0,button:!0,shown:!1,header:!0,hasBorder:!0,movable:!0,resizable:!0},"report-tree":{enable:!0,button:!0,shown:!1,header:!0,hasBorder:!0,movable:!0,resizable:!0},data:{enable:!0,button:!0,shown:!1,header:!0,hasBorder:!0,movable:!0,resizable:!0}},fadeout:150,"default-tab-menu":"home","show-saving-progress":"default",notifications:"default","notifications-mobile":"default"}}),define("config",["config-data","base/utils"],function(t,e){"use strict";return{set:function(e,i){var n,r=0,o=t;for(e=e.split(":"),n=e.length-1;r<=n;r+=1)o[e[r]]||(o[e[r]]={}),e[r+1]||(o[e[r]]=i),o=o[e[r]];return this},get:function(i,n){var r,o,s,a=0,l=t;if(e.isMobile)for(s=(i+"-mobile").split(":"),i=i.split(":"),o=i.length-1;a<=o;a+=1){if(!l[s[a]]&&!l[i[a]])return l[i[a]];l=l[s[a]]||l[i[a]]}else for(i=i.split(":"),o=i.length-1;a<=o;a+=1){if(!l[i[a]])return l[i[a]];l=l[i[a]]}if(n)for(r=Object.keys(n),a=r.length;a--;)i=r[a],l=l.replace(new RegExp("#{"+i+"}","g"),n[i]);return l}}}),define("l10n",["jquery","base/utils","config"],function(t,e,i){"use strict";function n(t,e){for(var i=e.length;i--;)t=t.replace(new RegExp("\\{"+i+"\\}","g"),e[i]);return t}function r(e){return i.set("locale",e),t.ajax({url:i.get("locales-path",{locale:e}),success:function(t){console.info(e+" translation file was loaded"),a[l]=JSON.parse(t),s.resolve()},error:function(){console.error("file was not loaded")},dataType:"text"})}var o="en",s=t.Deferred(),a={},l=e.getUrlParameter("lang")||/[a-z]{2}/.exec(navigator.language);return a[l]={},r(l).fail(function(){r(o).fail(function(){s.resolve()})}),{tr:function(t){var e=a[l][t];return"undefined"==typeof e?t:(arguments.length>1&&(e=n(e,Array.prototype.slice.call(arguments,1))),e)},isReady:function(){return s.promise()}}}),function(){function t(t,e,i){return t.call.apply(t.bind,arguments)}function e(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function i(n,r,o){return i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:e,i.apply(null,arguments)}function n(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function r(t,e,i,n){if(e=t.c.createElement(e),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?e.style.cssText=i[r]:e.setAttribute(r,i[r]));return n&&e.appendChild(t.c.createTextNode(n)),e}function o(t,e,i){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function a(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,s=0;s<n.length;s+=1)if(e[r]===n[s]){o=!0;break}o||n.push(e[r])}for(e=[],r=0;r<n.length;r+=1){for(o=!1,s=0;s<i.length;s+=1)if(n[r]===i[s]){o=!0;break}o||e.push(n[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,e){for(var i=t.className.split(/\s+/),n=0,r=i.length;n<r;n++)if(i[n]==e)return!0;return!1}function c(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function u(t){return t.m.location.hostname||t.a.location.hostname}function h(t,e,i){function n(){c&&s&&a&&(c(l),c=null)}e=r(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,a=!0,l=null,c=i||null;nt?(e.onload=function(){s=!0,n()},e.onerror=function(){s=!0,l=Error("Stylesheet failed to load"),n()}):setTimeout(function(){s=!0,n()},0),o(t,"head",e)}function p(t,e,i,n){var o=t.c.getElementsByTagName("head")[0];if(o){var s=r(t,"script",{src:e}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&o.removeChild(s))},o.appendChild(s),setTimeout(function(){a||(a=!0,i&&i(Error("Script load timeout")))},n||5e3),s}return null}function d(){this.a=0,this.c=null}function f(t){return t.a++,function(){t.a--,m(t)}}function g(t,e){t.c=e,m(t)}function m(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function y(t){return w(t)+" "+(t.f+"00")+" 300px "+x(t.c)}function x(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function C(t){return t.a+t.f}function w(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function k(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),
i+e}function _(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new v("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function S(t){t.g&&a(t.f,[t.a.c("wf","loading")]),D(t,"loading")}function T(t){if(t.g){var e=l(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),a(t.f,i,n)}D(t,"inactive")}function D(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,C(i)):t.h[e]())}function M(){this.c={}}function P(t,e,i){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&r.push(o(e[n],i))}return r}function E(t,e){this.c=t,this.f=e,this.a=r(this.c,"span",{"aria-hidden":"true"},this.f)}function B(t){o(t.c,"body",t.a)}function A(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(t.c)+";"+("font-style:"+w(t)+";font-weight:"+(t.f+"00")+";")}function L(t,e,i,n,r,o){this.g=t,this.j=e,this.a=n,this.c=i,this.f=r||3e3,this.h=o||void 0}function N(t,e,i,n,r,o,s){this.v=t,this.B=e,this.c=i,this.a=n,this.s=s||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.o=this.j=this.h=this.g=null,this.g=new E(this.c,this.s),this.h=new E(this.c,this.s),this.j=new E(this.c,this.s),this.o=new E(this.c,this.s),t=new b(this.a.c+",serif",C(this.a)),t=A(t),this.g.a.style.cssText=t,t=new b(this.a.c+",sans-serif",C(this.a)),t=A(t),this.h.a.style.cssText=t,t=new b("serif",C(this.a)),t=A(t),this.j.a.style.cssText=t,t=new b("sans-serif",C(this.a)),t=A(t),this.o.a.style.cssText=t,B(this.g),B(this.h),B(this.j),B(this.o)}function F(){if(null===ot){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ot=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return ot}function $(t,e,i){for(var n in rt)if(rt.hasOwnProperty(n)&&e===t.f[rt[n]]&&i===t.f[rt[n]])return!0;return!1}function R(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=F()&&$(t,i,n)),e?it()-t.A>=t.w?F()&&$(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?O(t,t.v):O(t,t.B):I(t):O(t,t.v)}function I(t){setTimeout(i(function(){R(this)},t),50)}function O(t,e){setTimeout(i(function(){s(this.g.a),s(this.h.a),s(this.j.a),s(this.o.a),e(this.a)},t),0)}function H(t,e,i){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=i}function W(t){0==--t.f&&t.j&&(t.o?(t=t.a,t.g&&a(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),D(t,"active")):T(t.a))}function j(t){this.j=t,this.a=new M,this.h=0,this.f=this.g=!0}function z(t,e,n,r,o){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,l=r||null||{};if(0===n.length&&s)T(e.a);else{e.f+=n.length,s&&(e.j=s);var c,u=[];for(c=0;c<n.length;c++){var h=n[c],p=l[h.c],d=e.a,f=h;d.g&&a(d.f,[d.a.c("wf",f.c,C(f).toString(),"loading")]),D(d,"fontloading",f),d=null,null===st&&(st=!!window.FontFace&&(!(f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(f[1],10))),d=st?new L(i(e.g,e),i(e.h,e),e.c,h,e.s,p):new N(i(e.g,e),i(e.h,e),e.c,h,e.s,t,p),u.push(d)}for(c=0;c<u.length;c++)u[c].start()}},0)}function V(t,e,i){var n=[],r=i.timeout;S(e);var n=P(t.a,i,t.c),o=new H(t.c,e,r);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){z(t,o,e,i,n)})}function q(t,e){this.c=t,this.a=e}function G(t,e,i){var n=c(t.c);return t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),n+"//"+t+"/"+e+".js"+(i?"?v="+i:"")}function U(t,e){this.c=t,this.a=e}function K(t,e,i){t?this.c=t:this.c=e+at,this.a=[],this.f=[],this.g=i||""}function X(t,e){for(var i=e.length,n=0;n<i;n++){var r=e[n].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}function Y(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function Z(t){this.f=t,this.a=[],this.c={}}function Q(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),r=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var s,a=n[1];if(s=[],a)for(var a=a.split(","),l=a.length,c=0;c<l;c++){var u;if(u=a[c],u.match(/^[\w-]+$/)){var h=ht.exec(u.toLowerCase());if(null==h)u="";else{if(u=h[2],u=null==u||""==u?"n":ut[u],h=h[1],null==h||""==h)h="4";else var p=ct[h],h=p?p:isNaN(h)?"4":h.substr(0,1);u=[u,h].join("")}}else u="";u&&s.push(u)}0<s.length&&(o=s),3==n.length&&(n=n[2],s=[],n=n?n.split(","):s,0<n.length&&(n=lt[n[0]])&&(t.c[r]=n))}for(t.c[r]||(n=lt[r])&&(t.c[r]=n),n=0;n<o.length;n+=1)t.a.push(new b(r,o[n]))}}function J(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.a=e}function et(t,e){this.c=t,this.f=e,this.a=[]}var it=Date.now||function(){return+new Date},nt=!!window.FontFace;v.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.m.document,e=this,i=it(),n=new Promise(function(n,r){function o(){it()-i>=e.f?r():t.fonts.load(y(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(o,25)},function(){r()})}o()}),r=new Promise(function(t,i){setTimeout(i,e.f)});Promise.race([r,n]).then(function(){e.g(e.a)},function(){e.j(e.a)})};var rt={D:"serif",C:"sans-serif"},ot=null;N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=it(),R(this)};var st=null;H.prototype.g=function(t){var e=this.a;e.g&&a(e.f,[e.a.c("wf",t.c,C(t).toString(),"active")],[e.a.c("wf",t.c,C(t).toString(),"loading"),e.a.c("wf",t.c,C(t).toString(),"inactive")]),D(e,"fontactive",t),this.o=!0,W(this)},H.prototype.h=function(t){var e=this.a;if(e.g){var i=l(e.f,e.a.c("wf",t.c,C(t).toString(),"active")),n=[],r=[e.a.c("wf",t.c,C(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,C(t).toString(),"inactive")),a(e.f,n,r)}D(e,"fontinactive",t),W(this)},j.prototype.load=function(t){this.c=new n(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,V(this,new _(this.c,t),t)},q.prototype.load=function(t){function e(){if(o["__mti_fntLst"+n]){var i,r=o["__mti_fntLst"+n](),s=[];if(r)for(var a=0;a<r.length;a++){var l=r[a].fontfamily;void 0!=r[a].fontStyle&&void 0!=r[a].fontWeight?(i=r[a].fontStyle+r[a].fontWeight,s.push(new b(l,i))):s.push(new b(l))}t(s)}else setTimeout(function(){e()},50)}var i=this,n=i.a.projectId,r=i.a.version;if(n){var o=i.c.m;p(this.c,G(i,n,r),function(r){r?t([]):(o["__MonotypeConfiguration__"+n]=function(){return i.a},e())}).id="__MonotypeAPIScript__"+n}else t([])},U.prototype.load=function(t){var e,i,n=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new d;for(e=0,i=n.length;e<i;e++)h(this.c,n[e],f(s));var a=[];for(e=0,i=r.length;e<i;e++)if(n=r[e].split(":"),n[1])for(var l=n[1].split(","),c=0;c<l.length;c+=1)a.push(new b(n[0],l[c]));else a.push(new b(n[0]));g(s,function(){t(a,o)})};var at="//fonts.googleapis.com/css",lt={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ct={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ut={i:"i",italic:"i",n:"n",normal:"n"},ht=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,pt={Arimo:!0,Cousine:!0,Tinos:!0};J.prototype.load=function(t){var e=new d,i=this.c,n=new K(this.a.api,c(i),this.a.text),r=this.a.families;X(n,r);var o=new Z(r);Q(o),h(i,Y(n),f(e)),g(e,function(){t(o.a,o.c,pt)})},tt.prototype.load=function(t){var e=this.a.id,i=this.c.m;e?p(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],r=0;r<e.length;r+=2)for(var o=e[r],s=e[r+1],a=0;a<s.length;a++)n.push(new b(o,s[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}},2e3):t([])},et.prototype.load=function(t){var e=this.f.id,i=this.c.m,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var r=0,o=i.fonts.length;r<o;++r){var s=i.fonts[r];n.a.push(new b(s.name,k("font-weight:"+s.weight+";font-style:"+s.style)))}t(n.a)},p(this.c,c(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+u(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var dt=new j(window);dt.a.c.custom=function(t,e){return new U(e,t)},dt.a.c.fontdeck=function(t,e){return new et(e,t)},dt.a.c.monotype=function(t,e){return new q(e,t)},dt.a.c.typekit=function(t,e){return new tt(e,t)},dt.a.c.google=function(t,e){return new J(e,t)};var ft={load:i(dt.load,dt)};"function"==typeof define&&define.amd?define("webfontloader",[],function(){return ft}):"undefined"!=typeof module&&module.exports?module.exports=ft:(window.WebFont=ft,window.WebFontConfig&&dt.load(window.WebFontConfig))}(),define("webfonts",["jquery","webfontloader","config"],function(t,e,i){"use strict";var n={};return{load:function(i){var r=t.Deferred();return"undefined"==typeof n[i]?e.load({google:{families:[i]},active:function(){n[i]=1,r.resolve(1)},timeout:1e3,fontinactive:function(t){n[i]=0,console.log("font:"+t+" could not be loaded"),r.resolve(0)}}):r.resolve(n[i]),r.promise()},preload:function(){var r=t.Deferred(),o=i.get("preload-fonts");return o&&o.length?e.load({google:{families:o},active:function(){for(var t=0,e=o.length;t<e;t+=1)n[o[t]]=1;r.resolve()},timeout:2e3,inactive:function(){r.resolve()},fontinactive:function(t){n[t]=0,console.log("font:"+t+" could not be loaded")}}):r.resolve(),r.promise()},prefetch:function(){var t=i.get("prefetch-fonts");t&&t.length&&e.load({google:{families:t},active:function(){for(var e=0,i=t.length;e<i;e+=1)n[t[e]]=1},fontinactive:function(t){n[t]=0,console.log("font:"+t+" could not be loaded")}})}}}),!function(t,e){var i=e.jQuery;"object"==typeof exports?module.exports=i?t(e,i):function(i){if(i&&!i.fn)throw"Provide jQuery or null";return t(e,i)}:"function"==typeof define&&define.amd?define("jsrender",[],function(){return t(e)}):t(e,!1)}(function(t,e){"use strict";function i(t,e){return function(){var i,n=this,r=n.base;return n.base=t,i=e.apply(n,arguments),n.base=r,i}}function n(t,e){return tt(e)&&(e=i(t?t._d?t:i(s,t):s,e),e._d=1),e}function r(t,e){for(var i in e.props)Mt.test(i)&&(t[i]=n(t[i],e.props[i]))}function o(t){return t}function s(){return""}function a(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):t}function l(t){this.name=(e.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function c(t,e){for(var i in e)t[i]=e[i];return t}function u(t,e,i){return t?et(t)?u.apply(Q,t):(at.delimiters=[t,e,ft=i?i.charAt(0):ft],ut=t.charAt(0),ht=t.charAt(1),pt=e.charAt(0),dt=e.charAt(1),t="\\"+ut+"(\\"+ft+")?\\"+ht,e="\\"+pt+"\\"+dt,Y="(?:(\\w+(?=[\\/\\s\\"+pt+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+pt+"]|\\"+pt+"(?!\\"+dt+"))*?)",st.rTag="(?:"+Y+")",Y=new RegExp("(?:"+t+Y+"(\\/)?|\\"+ut+"(\\"+ft+")?\\"+ht+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),st.rTmpl=new RegExp("<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),ct):at.delimiters}function h(t,e){e||t===!0||(e=t,t=void 0);var i,n,r,o,s=this,a=!e||"root"===e;if(t){if(o=e&&s.type===e&&s,!o)if(i=s.views,s._.useKey){for(n in i)if(o=e?i[n].get(t,e):i[n])break}else for(n=0,r=i.length;!o&&n<r;n++)o=e?i[n].get(t,e):i[n]}else if(a)for(;s.parent;)o=s,s=s.parent;else for(;s&&!o;)o=s.type===e?s:void 0,s=s.parent;return o}function p(){var t=this.get("item");return t?t.index:void 0}function d(){return this.index}function f(e,i){var n,r,o=this,s=o.ctx;if(s&&(s=s[e]),void 0===s&&(s=rt[e]),s&&s._cp){if(i)return r=st._ceo(s[1].deps),r.unshift(s[0].data),r._cp=!0,r;s=Q.getCtx(s)}return s&&tt(s)&&!s._wrp&&(n=function(){return s.apply(this&&this!==t?this:o,arguments)},n._wrp=o,c(n,s)),n||s}function g(t){return t&&(t.fn?t:this.getRsc("templates",t)||it(t))}function m(t,e,i,n){var o,s,a="number"==typeof i&&e.tmpl.bnds[i-1],l=e.linkCtx;return void 0!==n?i=n={props:{},args:[n]}:a&&(i=a(e.data,e,st)),s=i.args[0],(t||a)&&(o=l&&l.tag,o||(o=c(new st._tg,{_:{inline:!l,bnd:a,unlinked:!0},tagName:":",cvt:t,flow:!0,tagCtx:i}),l&&(l.tag=o,o.linkCtx=l),i.ctx=z(i.ctx,(l?l.view:e).ctx)),o._er=n&&s,r(o,i),i.view=e,o.ctx=i.ctx||o.ctx||{},i.ctx=void 0,s=o.cvtArgs("true"!==t&&t)[0],s=a&&e._.onRender?e._.onRender(s,e,o):s),void 0!=s?s:""}function v(t){var e=this,i=e.tagCtx,n=i.view,r=i.args;return t=t||e.convert,t=t&&(""+t===t?n.getRsc("converters",t)||F("Unknown converter: '"+t+"'"):t),r=r.length||i.index?t?r.slice():r:[n.data],t&&(t.depends&&(e.depends=st.getDeps(e.depends,e,t.depends,t)),r[0]=t.apply(e,r)),r}function b(t,e){for(var i,n,r=this;void 0===i&&r;)n=r.tmpl&&r.tmpl[t],i=n&&n[e],r=r.parent;return i||Q[t][e]}function y(t,i,n,o,s,a){i=i||Z;var l,c,u,h,p,d,f,g,m,v,b,y,x,C,w,k,_,S,T,D="",M=i.linkCtx||0,P=i.ctx,E=n||i.tmpl,B="number"==typeof o&&i.tmpl.bnds[o-1];for("tag"===t._is?(l=t,t=l.tagName,o=l.tagCtxs,u=l.template):(c=i.getRsc("tags",t)||F("Unknown tag: {{"+t+"}} "),u=c.template),void 0!==a?(D+=a,o=a=[{props:{},args:[]}]):B&&(o=B(i.data,i,st)),g=o.length,f=0;f<g;f++)v=o[f],(!M||!M.tag||f&&!M.tag._.inline||l._er)&&((y=E.tmpls&&v.tmpl)&&(y=v.content=E.tmpls[y-1]),v.index=f,v.tmpl=y,v.render=A,v.view=i,v.ctx=z(v.ctx,P)),(n=v.props.tmpl)&&(v.tmpl=i.getTmpl(n)),l||(l=new c._ctr,x=!!l.init,l.parent=d=P&&P.tag,l.tagCtxs=o,T=l.dataMap,M&&(l._.inline=!1,M.tag=l,l.linkCtx=M),(l._.bnd=B||M.fn)?l._.arrVws={}:l.dataBoundOnly&&F("{^{"+t+"}} tag must be data-bound")),o=l.tagCtxs,T=l.dataMap,v.tag=l,T&&o&&(v.map=o[f].map),l.flow||(b=v.ctx=v.ctx||{},h=l.parents=b.parentTags=P&&z(b.parentTags,P.parentTags)||{},d&&(h[d.tagName]=d),h[l.tagName]=b.tag=l);if(!(l._er=a)){for(r(l,o[0]),l.rendering={},f=0;f<g;f++)v=l.tagCtx=o[f],_=v.props,k=l.cvtArgs(),(C=_.dataMap||T)&&(k.length||_.dataMap)&&(w=v.map,w&&w.src===k[0]&&!s||(w&&w.src&&w.unmap(),w=v.map=C.map(k[0],_,void 0,!l._.bnd)),k=[w.tgt]),l.ctx=v.ctx,f||(x&&(S=l.template,l.init(v,M,l.ctx),x=void 0),M&&(M.attr=l.attr=M.attr||l.attr),p=l.attr,l._.noVws=p&&p!==Lt),m=void 0,l.render&&(m=l.render.apply(l,k),i.linked&&m&&l.linkedElem&&!Pt.test(m)&&(m=L(e.templates(m),k[0],void 0,void 0,i,void 0,void 0,l))),k.length||(k=[i]),void 0===m&&(m=v.render(k[0],!0)||(s?void 0:"")),D=D?D+(m||""):m;l.rendering=void 0}return l.tagCtx=o[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l._.inline&&(D="text"===p?nt.html(D):""),B&&i._.onRender?i._.onRender(D,i,l):D}function x(t,e,i,n,r,o,s,a){var l,c,u,h=this,d="array"===e;h.content=a,h.views=d?[]:{},h.parent=i,h.type=e||"top",h.data=n,h.tmpl=r,u=h._={key:0,useKey:d?0:1,id:""+Bt++,onRender:s,bnds:{}},h.linked=!!s,i?(l=i.views,c=i._,c.useKey?(l[u.key="_"+c.useKey++]=h,h.index=Rt,h.getIndex=p):l.length===(u.key=h.index=o)?l.push(h):l.splice(o,0,h),h.ctx=t||i.ctx):h.ctx=t}function C(t){var e,i,n;for(e in Wt)i=e+"s",t[i]&&(n=t[i],t[i]={},Q[i](n,t))}function w(t,e,i){function r(){var e=this;e._={inline:!0,unlinked:!0},e.tagName=t}var o,s,a,l=new st._tg;if(tt(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),s=e.baseTag){e.flow=!!e.flow,e.baseTag=s=""+s===s?i&&i.tags[s]||ot[s]:s,l=c(l,s);for(a in e)l[a]=n(s[a],e[a])}else l=c(l,e);return void 0!==(o=l.template)&&(l.template=""+o===o?it[o]||it(o):o),l.init!==!1&&((r.prototype=l).constructor=l._ctr=r),i&&(l._parentTmpl=i),l}function k(t){return this.base.apply(this,t)}function _(t,i,n,r){function o(i){var o,a;if(""+i===i||i.nodeType>0&&(s=i)){if(!s)if(/^\.\/[^\\:*?"<>]*$/.test(i))(a=it[t=t||i])?i=a:s=document.getElementById(i);else if(e.fn&&!st.rTmpl.test(i))try{s=e(document).find(i)[0]}catch(t){}s&&(r?i=s.innerHTML:(o=s.getAttribute(Ft),o?o!==$t?(i=it[o],delete it[o]):e.fn&&(i=e.data(s)[$t]):(t=t||(e.fn?$t:i),i=_(t,s.innerHTML,n,r)),i.tmplName=t=t||o,t!==$t&&(it[t]=i),s.setAttribute(Ft,t),e.fn&&e.data(s,$t,i))),s=void 0}else i.fn||(i=void 0);return i}var s,a,l=i=i||"";if(0===r&&(r=void 0,l=o(l)),r=r||(i.markup?i:{}),r.tmplName=t,n&&(r._parentTmpl=n),!l&&i.markup&&(l=o(i.markup))&&l.fn&&(l=l.markup),void 0!==l)return l.fn||i.fn?l.fn&&(a=l):(i=M(l,r),R(l.replace(wt,"\\$&"),i)),a||(a=c(function(){return a.render.apply(a,arguments)},i),C(a)),t&&!n&&t!==$t&&(It[t]=a),a}function S(t,i){return e.isFunction(t)?t.call(i):t}function T(t){var e,i=[],n=t.length;for(e=0;e<n;e++)i.push(t[e].unmap());return i}function D(t,i){function n(t){u.apply(this,t)}function r(){return new n(arguments)}function o(t,e){var i,n,r,o,s,a=p.length;for(i=0;i<a;i++)o=p[i],n=void 0,o+""!==o&&(n=o,o=n.getter),void 0===(s=t[o])&&n&&void 0!==(r=n.defaultVal)&&(s=S(r,t)),e(s,n&&h[n.type],o)}function s(e){e=e+""===e?JSON.parse(e):e;var i,n,r,s=e,c=[];if(et(e)){for(e=e||[],n=e.length,i=0;i<n;i++)c.push(this.map(e[i]));return c._is=t,c.unmap=l,c.merge=a,c}if(e){o(e,function(t,e){e&&(t=e.map(t)),c.push(t)}),s=this.apply(this,c);for(r in e)r===J||x[r]||(s[r]=e[r])}return s}function a(t){t=t+""===t?JSON.parse(t):t;var e,i,n,s,a,l,c,u,h,p,d=this;if(et(d)){for(u={},p=[],n=t.length,s=d.length,e=0;e<n;e++){for(h=t[e],c=!1,i=0;i<s&&!c;i++)u[i]||(l=d[i],f&&(u[i]=c=f+""===f?h[f]&&(x[f]?l[f]():l[f])===h[f]:f(l,h)));c?(l.merge(h),p.push(l)):p.push(r.map(h))}return void(y?y(d).refresh(p,!0):d.splice.apply(d,[0,d.length].concat(p)))}o(t,function(t,e,i){e?d[i]().merge(t):d[i](t)});for(a in t)a===J||x[a]||(d[a]=t[a])}function l(){var t,i,n,r,o,s,a=this;if(et(a))return T(a);for(t={},r=p.length,n=0;n<r;n++)i=p[n],o=void 0,i+""!==i&&(o=i,i=o.getter),s=a[i](),t[i]=o&&s&&h[o.type]?et(s)?T(s):s.unmap():s;for(i in a)"_is"===i||x[i]||i===J||"_"===i.charAt(0)&&x[i.slice(1)]||e.isFunction(a[i])||(t[i]=a[i]);return t}var c,u,h=this,p=i.getters,d=i.extend,f=i.id,g=e.extend({_is:t||"unnamed",unmap:l,merge:a},d),m="",v="",b=p?p.length:0,y=e.observable,x={};for(n.prototype=g,c=0;c<b;c++)!function(t){t=t.getter||t,x[t]=c+1;var e="_"+t;m+=(m?",":"")+t,v+="this."+e+" = "+t+";\n",g[t]=g[t]||function(i){return arguments.length?void(y?y(this).setProperty(t,i):this[e]=i):this[e]},y&&(g[t].set=g[t].set||function(t){this[e]=t})}(p[c]);return u=new Function(m,v.slice(0,-1)),u.prototype=g,g.constructor=u,r.map=s,r.getters=p,r.extend=d,r.id=f,r}function M(t,i){var n,r=lt._wm||{},o=c({tmpls:[],links:{},bnds:[],_is:"template",render:A},i);return o.markup=t,i.htmlTag||(n=St.exec(t),o.htmlTag=n?n[1].toLowerCase():""),n=r[o.htmlTag],n&&n!==r.div&&(o.markup=e.trim(o.markup)),o}function P(t,e){function i(r,o,s){var a,l,c,u;if(r&&typeof r===Nt&&!r.nodeType&&!r.markup&&!r.getTgt&&!("viewModel"===t&&r.getters||r.extend)){for(c in r)i(c,r[c],o);return o||Q}return void 0===o&&(o=r,r=void 0),r&&""+r!==r&&(s=o,o=r,r=void 0),u=s?"viewModel"===t?s:s[n]=s[n]||{}:i,l=e.compile,null===o?r&&delete u[r]:(o=l?l.call(u,r,o,s,0):o,r&&(u[r]=o)),l&&o&&(o._is=t),o&&(a=st.onStore[t])&&a(r,o,l),o}var n=t+"s";Q[n]=i}function E(t){ct[t]=function(e){return arguments.length?(at[t]=e,ct):at[t]}}function B(t){function e(e,i){this.tgt=t.getTgt(e,i)}return tt(t)&&(t={getTgt:t}),t.baseMap&&(t=c(c({},t.baseMap),t)),t.map=function(t,i){return new e(t,i)},t}function A(t,e,i,n,r,o){var s,a,l,c,u,h,p,d,f=n,g="";if(e===!0?(i=e,e=void 0):typeof e!==Nt&&(e=void 0),(l=this.tag)?(u=this,f=f||u.view,c=f.getTmpl(l.template||u.tmpl),arguments.length||(t=f)):c=this,c){if(!f&&t&&"view"===t._is&&(f=t),f&&t===f&&(t=f.data),h=!f,mt=mt||h,f||((e=e||{}).root=t),!mt||lt.useViews||c.useViews||f&&f!==Z)g=L(c,t,e,i,f,r,o,l);else{if(f?(p=f.data,d=f.index,f.index=Rt):(f=Z,f.data=t,f.ctx=e),et(t)&&!i)for(s=0,a=t.length;s<a;s++)f.index=s,f.data=t[s],g+=c.fn(t[s],f,st);else f.data=t,g+=c.fn(t,f,st);f.data=p,f.index=d}h&&(mt=void 0)}return g}function L(t,e,i,n,r,o,s,a){function l(t){C=c({},i),C[y]=t}var u,h,p,d,f,g,m,v,b,y,C,w,k="";if(a&&(b=a.tagName,w=a.tagCtx,i=i?z(i,a.ctx):a.ctx,t===r.content?m=t!==r.ctx._wrp?r.ctx._wrp:void 0:t!==w.content?t===a.template?(m=w.tmpl,i._wrp=w.content):m=w.content||r.content:m=r.content,w.props.link===!1&&(i=i||{},i.link=!1),(y=w.props.itemVar)&&("~"!==y.charAt(0)&&$("Use itemVar='~myItem'"),y=y.slice(1))),r&&(s=s||r._.onRender,i=z(i,r.ctx)),o===!0&&(g=!0,o=0),s&&(i&&i.link===!1||a&&a._.noVws)&&(s=void 0),v=s,s===!0&&(v=void 0,s=r._.onRender),i=t.helpers?z(t.helpers,i):i,C=i,et(e)&&!n)for(p=g?r:void 0!==o&&r||new x(i,"array",r,e,t,o,s),r&&r._.useKey&&(p._.bnd=!a||a._.bnd&&a),y&&(p.it=y),y=p.it,u=0,h=e.length;u<h;u++)y&&l(e[u]),d=new x(C,"item",p,e[u],t,(o||0)+u,s,m),f=t.fn(e[u],d,st),k+=p._.onRender?p._.onRender(f,d):f;else y&&l(e),p=g?r:new x(C,b||"data",r,e,t,o,s,m),a&&!a.flow&&(p.tag=a),k+=t.fn(e,p,st);return v?v(k,p):k}function N(t,e,i){var n=void 0!==i?tt(i)?i.call(e.data,t,e):i||"":"{Error: "+t.message+"}";return at.onError&&void 0!==(i=at.onError.call(e.data,t,i&&n,e))&&(n=i),e&&!e.linkCtx?nt.html(n):n}function F(t){throw new st.Err(t)}function $(t){F("Syntax error\n"+t)}function R(t,e,i,n,r){function o(e){e-=g,e&&v.push(t.substr(g,e).replace(xt,"\\n"))}function s(e,i){e&&(e+="}}",$((i?"{{"+i+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}function a(a,l,c,p,f,y,x,C,w,k,_,S){(x&&l||w&&!c||C&&":"===C.slice(-1)||k)&&$(a),y&&(f=":",p=Lt),w=w||i&&!r;var T=(l||i)&&[[]],D="",M="",P="",E="",B="",A="",L="",N="",F=!w&&!f;c=c||(C=C||"#data",f),o(S),g=S+a.length,x?d&&v.push(["*","\n"+C.replace(/^:/,"ret+= ").replace(Ct,"$1")+";\n"]):c?("else"===c&&(_t.test(C)&&$('for "{{else if expr}}" use "{{else expr}}"'),T=b[7]&&[[]],b[8]=t.substring(b[8],S),b=m.pop(),v=b[2],F=!0),C&&W(C.replace(xt," "),T,e).replace(kt,function(t,e,i,n,r,o,s,a){return n="'"+r+"':",s?(M+=o+",",E+="'"+a+"',"):i?(P+=n+"j._cp("+o+',"'+a+'",view),',A+=n+"'"+a+"',"):e?L+=o:("trigger"===r&&(N+=o),D+=n+o+",",B+=n+"'"+a+"',",h=h||Mt.test(r)),""}).slice(0,-1),T&&T[0]&&T.pop(),u=[c,p||!!n||h||"",F&&[],O(E||(":"===c?"'#data',":""),B,A),O(M||(":"===c?"data,":""),D,P),L,N,T||0],v.push(u),F&&(m.push(b),b=u,b[8]=g)):_&&(s(_!==b[0]&&"else"!==b[0]&&_,b[0]),b[8]=t.substring(b[8],S),b=m.pop()),s(!b&&_),v=b[2]}var l,c,u,h,p,d=at.allowCode||e&&e.allowCode||ct.allowCode===!0,f=[],g=0,m=[],v=f,b=[,,f];if(d&&e._is&&(e.allowCode=d),i&&(void 0!==n&&(t=t.slice(0,-n.length-2)+pt),t=ut+t+dt),s(m[0]&&m[0][2].pop()[0]),t.replace(Y,a),o(t.length),(g=f[f.length-1])&&s(""+g!==g&&+g[8]===g[8]&&g[0]),i){for(c=j(f,t,i),p=[],l=f.length;l--;)p.unshift(f[l][7]);I(c,p)}else c=j(f,e);return c}function I(t,e){var i,n,r=0,o=e.length;for(t.deps=[];r<o;r++){n=e[r];for(i in n)"_jsvto"!==i&&n.hasOwnProperty(i)&&n[i].length&&(t.deps=t.deps.concat(n[i]))}t.paths=n}function O(t,e,i){return[t.slice(0,-1),e.slice(0,-1),i.slice(0,-1)]}function H(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"]"+(t[1]||!e?",\n\tprops:{"+t[1]+"}":"")+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function W(t,e,i){function n(n,v,b,y,x,C,w,k,_,S,T,D,M,P,E,B,A,L,N,F){function I(t,i,n,s,a,l,h,p){var d="."===n;if(n&&(x=x.slice(i.length),/^\.?constructor$/.test(p||x)&&$(t),d||(t=(s?'view.hlp("'+s+'")':a?"view":"data")+(p?(l?"."+l:s?"":a?"":"."+n)+(h||""):(p=s?"":a?l||"":n,"")),t+=p?"."+p:"",t=i+("view.data"===t.slice(0,9)?t.slice(5):t)),c)){if(W="linkTo"===r?o=e._jsvto=e._jsvto||[]:u.bd,j=d&&W[W.length-1]){if(j._jsv){for(;j.sb;)j=j.sb;j.bnd&&(x="^"+x.slice(1)),j.sb=x,j.bnd=j.bnd||"^"===x.charAt(0)}}else W.push(x);m[f]=N+(d?1:0)}return t}y&&!k&&(x=y+x),C=C||"",b=b||v||D,x=x||_,S=S||A||"";var O,H,W,j,z,V=")";if("["===S&&(S="[j._sq(",V=")]"),!w||l||a){if(c&&B&&!l&&!a&&(!r||s||o)&&(O=m[f-1],F.length-1>N-(O||0))){if(O=F.slice(O,N+n.length),H!==!0)if(W=o||h[f-1].bd,j=W[W.length-1],j&&j.prm){for(;j.sb&&j.sb.prm;)j=j.sb;z=j.sb={path:j.sb,bnd:j.bnd}}else W.push(z={path:W.pop()});B=ht+":"+O+" onerror=''"+pt,H=d[B],H||(d[B]=!0,d[B]=H=R(B,i,!0)),H!==!0&&z&&(z._jsv=H,z.prm=u.bd,z.bnd=z.bnd||z.path&&z.path.indexOf("^")>=0)}return l?(l=!M,l?n:D+'"'):a?(a=!P,a?n:D+'"'):(b?(m[f]=N++,u=h[++f]={bd:[]},b):"")+(L?f?"":(p=F.slice(p,N),(r?(r=s=o=!1,"\b"):"\b,")+p+(p=N+n.length,c&&e.push(u.bd=[]),"\b")):k?(f&&$(t),c&&e.pop(),r=x,s=y,p=N+n.length,y&&(c=u.bd=e[r]=[]),x+":"):x?x.split("^").join(".").replace(bt,I)+(S?(u=h[++f]={bd:[]},g[f]=V,S):C):C?C:E?(E=g[f]||E,g[f]=!1,u=h[--f],E+(S?(u=h[++f],g[f]=V,S):"")):T?(g[f]||$(t),","):v?"":(l=M,a=P,'"'))}$(t)}var r,o,s,a,l,c=e&&e[0],u={bd:c},h={0:u},p=0,d=(i?i.links:c&&(c.links=c.links||{}))||Z.tmpl.links,f=0,g={},m={},v=(t+(i?" ":"")).replace(yt,n);return!f&&v||$(t)}function j(t,e,i){var n,r,o,s,a,l,c,u,h,p,d,f,g,m,v,b,y,x,C,w,k,_,S,T,D,P,E,B,A,L,N=0,F=lt.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,R="",O={},W=t.length;for(""+e===e?(x=i?'data-link="'+e.replace(xt," ").slice(1,-1)+'"':e,e=0):(x=e.tmplName||"unnamed",e.allowCode&&(O.allowCode=!0),e.debug&&(O.debug=!0),d=e.bnds,y=e.tmpls),n=0;n<W;n++)if(r=t[n],""+r===r)R+='\n+"'+r+'"';else if(o=r[0],"*"===o)R+=";\n"+r[1]+"\nret=ret";else{if(s=r[1],k=!i&&r[2],a=H(r[3],"params")+"},"+H(g=r[4]),B=r[5],L=r[6],_=r[8]&&r[8].replace(Ct,"$1"),(D="else"===o)?f&&f.push(r[7]):(N=0,d&&(f=r[7])&&(f=[f],N=d.push(1))),F=F||g[1]||g[2]||f||/view.(?!index)/.test(g[0]),(P=":"===o)?s&&(o=s===Lt?">":s+o):(k&&(C=M(_,O),C.tmplName=x+"/"+o,C.useViews=C.useViews||F,j(k,C),F=C.useViews,y.push(C)),D||(w=o,F=F||o&&(!ot[o]||!ot[o].flow),T=R,R=""),S=t[n+1],S=S&&"else"===S[0]),A=B?";\ntry{\nret+=":"\n+",m="",v="",P&&(f||L||s&&s!==Lt)){if(E=new Function("data,view,j,u"," // "+x+" "+N+" "+o+"\nreturn {"+a+"};"),E._er=B,E._tag=o,i)return E;I(E,f),b='c("'+s+'",view,',p=!0,m=b+N+",",v=")"}if(R+=P?(i?(B?"try{\n":"")+"return ":A)+(p?(p=void 0,F=h=!0,b+(f?(d[N-1]=E,N):"{"+a+"}")+")"):">"===o?(c=!0,"h("+g[0]+")"):(u=!0,"((v="+g[0]+")!=null?v:"+(i?"null)":'"")'))):(l=!0,"\n{view:view,tmpl:"+(k?y.length:"0")+","+a+"},"),w&&!S){if(R="["+R.slice(0,-1)+"]",b='t("'+w+'",view,this,',i||f){if(R=new Function("data,view,j,u"," // "+x+" "+N+" "+w+"\nreturn "+R+";"),R._er=B,R._tag=w,f&&I(d[N-1]=R,f),i)return R;m=b+N+",undefined,",v=")"}R=T+A+b+(N||R)+")",f=0,w=0}B&&(F=!0,R+=";\n}catch(e){ret"+(i?"urn ":"+=")+m+"j._err(e,view,"+B+")"+v+";}"+(i?"":"ret=ret"))}R="// "+x+"\nvar v"+(l?",t=j._tag":"")+(h?",c=j._cnvt":"")+(c?",h=j._html":"")+(i?";\n":',ret=""\n')+(O.debug?"debugger;":"")+R+(i?"\n":";\nreturn ret;"),at.debugMode!==!1&&(R="try {\n"+R+"\n}catch(e){\nreturn j._err(e, view);\n}");try{R=new Function("data,view,j,u",R)}catch(t){$("Compiled template code:\n\n"+R+'\n: "'+t.message+'"')}return e&&(e.fn=R,e.useViews=!!F),R}function z(t,e){return t&&t!==e?e?c(c({},e),t):t:e&&c({},e)}function V(t){return At[t]||(At[t]="&#"+t.charCodeAt(0)+";")}function q(t){var e,i,n=[];if(typeof t===Nt)for(e in t)i=t[e],e!==J&&t.hasOwnProperty(e)&&!tt(i)&&n.push({key:e,prop:i});return n}function G(t,i,n){var r=this.jquery&&(this[0]||F('Unknown template: "'+this.selector+'"')),o=r.getAttribute(Ft);return A.call(o?e.data(r)[$t]:it(r),t,i,n)}function U(t){return void 0!=t?Dt.test(t)&&(""+t).replace(Et,V)||t:""}var K=e===!1;e=e&&e.fn?e:t.jQuery;var X,Y,Z,Q,J,tt,et,it,nt,rt,ot,st,at,lt,ct,ut,ht,pt,dt,ft,gt,mt,vt="v0.9.81",bt=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,yt=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,xt=/[ \t]*(\r\n|\n|\r)/g,Ct=/\\(['"])/g,wt=/['"\\]/g,kt=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,_t=/^if\s/,St=/<(\w+)[>\s]/,Tt=/[\x00`><"'&=]/g,Dt=/[\x00`><\"'&=]/,Mt=/^on[A-Z]|^convert(Back)?$/,Pt=/^\#\d+_`[\s\S]*\/\d+_`$/,Et=Tt,Bt=0,At={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Lt="html",Nt="object",Ft="data-jsv-tmpl",$t="jsvTmpl",Rt="For #index in nested block use #getIndex().",It={},Ot=t.jsrender,Ht=Ot&&e&&!e.render,Wt={template:{compile:_},tag:{compile:w},viewModel:{compile:D},helper:{},converter:{}};if(Q={jsviews:vt,sub:{View:x,Err:l,tmplFn:R,parse:W,extend:c,extendCtx:z,syntaxErr:$,onStore:{},addSetting:E,settings:{allowCode:!1},advSet:s,_ths:r,_tg:function(){},_cnvt:m,_tag:y,_er:F,_err:N,_html:U,_cp:o,_sq:function(t){return"constructor"===t&&$(""),t}},settings:{delimiters:u,advanced:function(t){return t?(c(lt,t),st.advSet(),ct):lt}},getCtx:o,map:B},(l.prototype=new Error).constructor=l,p.depends=function(){return[this.get("item"),"index"]},d.depends="index",x.prototype={get:h,getIndex:d,getRsc:b,getTmpl:g,hlp:f,_is:"view"},st=Q.sub,ct=Q.settings,!(Ot||e&&e.render)){for(X in Wt)P(X,Wt[X]);nt=Q.converters,rt=Q.helpers,ot=Q.tags,st._tg.prototype={baseApply:k,cvtArgs:v},Z=st.topView=new x,e?(e.fn.render=G,J=e.expando,e.observable&&(c(st,e.views.sub),Q.map=e.views.map)):(e={},K&&(t.jsrender=e),e.renderFile=e.__express=e.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},e.isFunction=function(t){return"function"==typeof t},e.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},st._jq=function(t){t!==e&&(c(t,e),e=t,e.fn.render=G,delete e.jsrender,J=e.expando)},e.jsrender=vt),at=st.settings,at.allowCode=!1,tt=e.isFunction,e.render=It,e.views=Q,e.templates=it=Q.templates;for(gt in at)E(gt);(ct.debugMode=function(t){return void 0===t?at.debugMode:(at.debugMode=t,at.onError=t+""===t?new Function("","return '"+t+"';"):tt(t)?t:void 0,ct)})(!1),lt=at.advanced={useViews:!1,_jsv:!1},ot({if:{render:function(t){var e=this,i=e.tagCtx,n=e.rendering.done||!t&&(arguments.length||!i.index)?"":(e.rendering.done=!0,e.selected=i.index,i.render(i.view,!0));return n},flow:!0},for:{render:function(t){var e,i=!arguments.length,n=this,r=n.tagCtx,o="",s=0;return n.rendering.done||(e=i?r.view.data:t,void 0!==e&&(o+=r.render(e,i),s+=et(e)?e.length:1),(n.rendering.done=s)&&(n.selected=r.index)),o},flow:!0},props:{baseTag:"for",dataMap:B(q),flow:!0},include:{flow:!0},"*":{render:o,flow:!0},":*":{render:o,flow:!0},dbg:rt.dbg=nt.dbg=a}),nt({html:U,attr:U,url:function(t){return void 0!=t?encodeURI(""+t):null===t?t:""}})}return at=st.settings,et=(e||Ot).isArray,ct.delimiters("{{","}}","^"),Ht&&Ot.views.sub._jq(e),e||Ot},window),define("utils",["jquery","base/utils","config","l10n","jsrender"],function(t,e,i,n,r){"use strict";var o=e;return o.getModules=function(t,e,i){var n,r,o,s,a=require.s.contexts._.defined,l=[],c={},u=function(e){return e.search(t)>-1};if(3===arguments.length&&(u=function(i){if(t&&e){if(i.startsWith(t)&&i.endsWith(e))return!0}else if(i.startsWith(t))return!0;return!1}),!t)return a;for(o=Object.keys(a),r=o.length;r--;)s=o[r],u(s)&&l.push(s);if(i)for(r=l.length;r--;)s=l[r],c[s]=a[s];else for(r=l.length;r--;)s=l[r],n=s.split("/"),2===n.length&&(c[n[n.length-1]]=a[s]);return c},o.getParamId=function(){var t,n=i.get("cookieName"),r=e.getCookie(n)||e.getUrlParameter(n);return n&&r&&(t=n+"="+r),t},o.getModule=function(t){return require.s.contexts._.defined[t]},o.debounce=function(t,e){var i;return function(){var n=arguments,r=this;clearTimeout(i),i=setTimeout(function(){return t.apply(r,n)},e||100)}},o.throttle=function(t,e){var i=+new Date-e;return function(){var n=+new Date;if(n-i>e)return i=n,t.apply(this,arguments)}},o.nearPoint=function(t,e){return e=i.get("sticky-grid")?e||i.get("grid"):1,[Math.round(Math.abs(t[0]||0)/e)*e,Math.round(Math.abs(t[1]||0)/e)*e]},o.intersectX=function(t,e){return Math.max(0,Math.min(t[1],e[1])-Math.max(t[0],e[0]))>0},o.intersectY=function(t,e){return Math.max(0,Math.min(t[1],e[1])-Math.max(t[0],e[0]))>0},o.intersect=function(t,e,i,n){return o.intersectX(t,i)&&o.intersectY(e,n)},o.getIdForImageSync=function(){var t=require("currentReport")._id;return t&&t.endsWith(".frx")&&(t=t.replace(/\.frx$/,"")),t},o.getLongestWord=function(t){var e,i,n;for(t=t.split(/\s/),e=t.length;e--;)i=t[e],i&&(!n||i.length>n.length)&&(n=i);return n},o.formatView=function(t){return t&&(t=i.get("brackets").replace(",",t)),
t},o.arraysEqual=function(t,e){var i;if(!t||t.constructor!==Array||!e||e.constructor!==Array)return!1;if(t===e)return!0;if(i=t.length,i!==e.length)return!1;for(var n=0;n<i;++n)if(t[n]!==e[n])return!1;return!0},function(){function e(t){var e=/\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*/,i=!1;return"transparent"===t?i=!0:(t=t.match(e),t&&t[4]&&0===Number(t[4])&&(i=!0)),i}function i(t){var e=(+t).toString(16);return 1===e.length?"0"+e:e}function n(t,e,n){return"#"+i(t)+i(e)+i(n)}function r(t){return{get:function(e){var i=getComputedStyle(e).getPropertyValue(t);return i?o.getHex(i):null},set:function(e,i){var r,o=/\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*/;o.test(i)&&(r=i.match(o),r=r.slice(1),3===r.length&&(i=n.apply(null,r)),i=i),e.style[t]=i}}}o.getRandomColor=function(){for(var t="0123456789ABCDEF".split(""),e="#",i=0;i<6;i+=1)e+=t[Math.floor(16*Math.random())];return e},o.midColor=function(t,e){var i,r=o.hexToRgb(t),s=o.hexToRgb(e);if(r&&s)return i={r:parseInt((r.r+s.r)/2,10),g:parseInt((r.g+s.g)/2,10),b:parseInt((r.b+s.b)/2,10)},n(i.r,i.g,i.b)},o.hexToRgb=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},o.colourNameToHex=function(t){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return e[t.toLowerCase()]||null},o.getHex=function(i){var r,s,a;return!!i&&(e(i)?"#ffffff":(r=/rgb\(?\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)?$/,s=/^#(?:[0-9a-f]{3}){1,2}$/i,a=t("<div>").appendTo(require("head").$reusable).css("fill",i),i=getComputedStyle(a[0]).getPropertyValue("fill"),a.remove(),s.test(i)?i:r.test(i)?(i=i.match(r).slice(1),n.apply(null,i)):o.colourNameToHex(i)||i))},t.cssHooks.fill=r("fill"),t.cssHooks.stroke=r("stroke")}(),function(){var e=r.views,s={};o.lazyGetTemplate=function(n){var r,o,s=t.Deferred();if(e.templates[n])s.resolve(e.templates[n]);else{if(r=document.getElementById(n))return e.templates(n,r),s.resolve(e.templates[n]);o=i.get("templates-path",{name:n}),t.get(o).done(function(t){console.info("template "+o+" is loaded"),e.templates(n,t),s.resolve(e.templates[n])}).fail(function(){throw s.reject(),new Error("template could not be loaded")})}return s.promise()},o.render=function(e,i){return this.lazyGetTemplate(e).then(function(e){return t(e.render(i))})},e.helpers({getUtils:function(){return o},trans:function(){return n.tr.apply(this,arguments)},getFields:function(e){var i=[];return t.each(e,function(t,e){i.push({key:t,value:e})}),i},getConfig:function(){return i},isFunction:function(t){return"function"==typeof t},isEmptyObject:function(e){return t.isEmptyObject(e)},isPlainObject:function(e){return t.isPlainObject(e)},getModule:function(t){return o.getModule(t)},getvar:function(t){return s[t]},merge:function(t,e){var i=[];return t&&(i=i.concat(t)),e&&(i=i.concat(e)),i},isAvailable:function(t){return o.isAvailable(t)}}),e.tags({setvar:function(t,e){return e?s[t]=e:s[t]=this.tagCtx.render(),""}})}(),o}),define("EventEmitter",["jquery","utils"],function(t,e){"use strict";var i={};return window.help=function(t){return t?void console.table(i):(console.log("---- usage:"),console.log('require("EventEmitter").trigger(eventName[, arg1[, arg2[, ...]]])'),console.table([{eventName:"remove-popups"},{eventName:"remove-context-menus"},{eventName:"scale-page",arg1:"value(0.1 - 2)"},{eventName:"scale-page-plus"},{eventName:"scale-page-minus"},{eventName:"re-render",arg1:"selected element"},{eventName:"show-hotkey-helper"},{eventName:"toogle-fullscreen"},{eventName:"remove",arg1:"selected element"},{eventName:"undo"},{eventName:"redo"},{eventName:"preview"},{eventName:"save"},{eventName:"add-component",arg1:"componentName",arg2:"container || undefined",arg3:"remember:boolean"},{eventName:"copy"},{eventName:"cut"},{eventName:"paste"},{eventName:"select-all-components"},{eventName:"send-to-back"},{eventName:"bring-to-front"}]),console.log('require("EventEmitter").bind(eventName, callback)'),void console.table([{eventName:"preview_success"},{eventName:"save_success"},{eventName:"remove-popups"},{eventName:"remove-context-menus"},{eventName:"re-render"},{eventName:"show-hotkey-helper"},{eventName:"toogle-fullscreen"},{eventName:"remove"},{eventName:"undo"},{eventName:"redo"},{eventName:"preview"},{eventName:"save"},{eventName:"add-component"},{eventName:"copy"},{eventName:"cut"},{eventName:"paste"},{eventName:"select-all-components"},{eventName:"send-to-back"},{eventName:"bring-to-front"}]))},e.object({},{_init:function(){},create:function(){var t=e.object(this);return t._init.apply(t,arguments),t},clear:function(){return i={},this},bind:function(t,e){(i[t]||(i[t]=[])).unshift(e)},unbind:function(t){delete i[t]},trigger:function(e){for(var n,r=i[e]||[],o=r.length,s=[];o--;)n=r[o].apply(this,[].slice.call(arguments,1)),"undefined"!=typeof n&&s.push(n);return s.length?t.when.apply(null,s):this}})}),define("notification",["jquery","config","l10n"],function(t,e,i){"use strict";var n,r=300,o=5e3,s=e.get("notifications");if(s)if("html5"===s){var a=0,l=window.webkitNotifications||window.Notification||null,c=!0;t(document).on("click",function(){l&&c&&l.requestPermission()}),n=function(t,e){var n,r={};return l?(r.tag=a,r.icon=null,r.name="","string"!=typeof t?r.body=t.text().replace(/\n/,""):r.body=e.trans?i.tr(t):t,n=l.createNotification?l.createNotification(r.icon,r.name,r.body):new l(r.name,r),a+=1,n.onshow=function(){e.delay!==!1&&setTimeout(function(){n.close()},e.delay||o)},n.onerror=function(){c=!1,l=null,alert("HTML5 Notifications are blocked. Change property `notifications` in config on `default` or switch it off.")},n):null}}else{var u=t("<div>"),h=function(e,n){var o=t("<div>"),s=t("<div>");return o.hide(),o.addClass("ntf"),s.addClass("ntf-message"),o.append(s),o.on("click",function(){o.fadeOut(r)}),n.success&&o.addClass("ntf-success"),n.danger&&o.addClass("ntf-danger"),n.warning&&o.addClass("ntf-warning"),n.info&&o.addClass("ntf-info"),n.limitWidth===!1&&o.css("max-width","none"),"string"!=typeof e?s.html(e):s.html(n.trans?i.tr(e):e),o};u.addClass("ntf-panel"),n=function(t,e){var i,n=require("head"),s=require("currentReport");return e=e||{},!e.debug&&(u.parent().length||n.put(u),u.css({top:s.attr("Top"),right:"20px"}),i=h(t,e),e.inEmptyList?u.html(i):u.prepend(i),void i.fadeIn(300,function(){e.delay!==!1&&setTimeout(function(){i.fadeOut(r,function(){i.removeClass("success danger warning info")})},e.delay||o)}))}}else n=function(){};return{notify:n}}),define("data/dataTypes",["jquery"],function(t){"use strict";var e=[{dataType:"null",label:" ",icon:"icon-224"},{dataType:"System.Boolean",icon:"icon-228",label:"Boolean"},{dataType:"System.Byte",icon:"icon-224",label:"Byte"},{dataType:"System.Char",icon:"icon-223",label:"Char"},{dataType:"System.DateTime",icon:"icon-227",label:"DateTime"},{dataType:"System.Decimal",icon:"icon-226",label:"Decimal"},{dataType:"System.Double",icon:"icon-225",label:"Double"},{dataType:"System.Int16",icon:"icon-224",label:"Int16"},{dataType:"System.Int32",icon:"icon-224",label:"Int32"},{dataType:"System.Int64",icon:"icon-224",label:"Int64"},{dataType:"System.SByte",icon:"icon-224",label:"SByte"},{dataType:"System.Single",icon:"icon-225",label:"Single"},{dataType:"System.String",icon:"icon-223",label:"String"},{dataType:"System.TimeSpan",icon:"icon-227",label:"TimeSpan"},{dataType:"System.UInt16",icon:"icon-224",label:"UInt16"},{dataType:"System.UInt32",icon:"icon-224",label:"UInt32"},{dataType:"System.UInt64",icon:"icon-224",label:"UInt64"},{dataType:"System.Byte[]",icon:"icon-229",label:"Byte[]"}];return{first:function(){return e[0]},get:function(i){return t.grep(e,function(t){return t.dataType===i})[0]},getByName:function(i){return t.grep(e,function(t){return t.label===i})[0]},all:function(){return e}}}),define("res-units/Popup",["jquery","utils","config"],function(t,e,i){"use strict";var n;return t(document.body).on("keydown",function(){"function"==typeof n&&n.apply(this,arguments)}),function(t,r){return r=r||{},e.render("modal",{title:t}).done(function(t){function e(){"function"==typeof r.onClose&&r.onClose.apply(this,arguments),t.remove()}var o=t.find(".fr-modal");n=function(t){27!==t.keyCode||i.get("hotkeyProhibited")||e()},r.addClass&&o.addClass(r.addClass),r.dontMove||o.draggable({handle:".fr-modal-header"}),t.on("click",".close",e)})}}),define("expression",["jquery","config","utils","l10n","EventEmitter","notification","data/dataTypes","res-units/Popup"],function(t,e,i,n,r,o,s,a){"use strict";var l={},c=function(e,i){var r,a,l,u,h,p,d,f,g,m,v;if(i=i||{},e){f=e.label&&n.tr(e.label)||e.toString(),r=t("<li>"),r.addClass("rt-node"),l=t("<div>"),l.addClass("rt-expand"),u=t("<div>"),u.addClass("rt-icon"),null!==e.icon&&u.addClass(e.icon||e.prop&&e.prop("DataType")&&e.prop("DataType").icon||e.attr&&e.attr("icon")||s.first().icon),h=t("<div>"),h.addClass("rt-content"),h.text(f),e.editable&&(h.append('<a href class="add"><i class="fa fa-plus-circle"></i></i></a>','<a href class="remove"><i class="fa fa-minus-circle"></i></i></a>'),h.on("click",".add:not([disabled])",function(){var i=t(this),n=i.parents(".rt-node:first")[0].element;return n&&"function"==typeof e.editable[0]&&e.editable[0](n),!1}),h.on("click",".remove:not([disabled])",function(){var i=t(this),n=i.parents(".rt-node:first")[0].element;return n&&"function"==typeof e.editable[1]&&e.editable[1](n),!1})),e.interface&&h.attr("data-interface",e.interface),e.bindableControl&&h.attr("data-component",e.bindableControl),p=t("<ul>"),p.addClass("rt-container"),e.fields?v=e.fields:e.parameters&&e.parameters.count()>0?v=e.parameters.all():e.columns||e.dataSources?(e.columns&&e.columns.count()>0&&(v=e.columns.all()),e.dataSources&&e.dataSources.count()>0&&(v=v?v.concat(e.dataSources.all()):[].concat(e.dataSources.all()))):e.isRelation&&e.isRelation()&&e.attr("_ParentDataSource")&&(v=e.attr("_ParentDataSource").columns.all(),v=v.concat(e.attr("_ParentDataSource").dataSources.all()));var b=function(n){i[e._id||e.label]?l.addClass("icon-exp_minus"):(l.addClass("icon-exp_plus"),p.addClass("d-hidden")),t.each(n,function(t,e){a=c(e,i),p.append(a)}),n.length&&e.isColumn&&e.isColumn()&&u.attr("class","rt-icon icon-233")};if(v&&("function"==typeof v?t.when(v()).done(function(){b.apply(this,arguments)}).fail(function(t,e){"1"!==t.message&&o.notify(e+" could not be loaded",{danger:!0})}):b(v)),e.isDataSource&&e.isDataSource()&&(v||r.hide(),e.asChildIn&&e.asChildIn.length))for(g=0,m=e.asChildIn.length;g<m;g+=1)d=c(e.asChildIn[g],i),p.prepend(d);r[0].element=e,r.append(l,u,h,p)}return r},u=function(e){var i,n=t("<ul>");return n.addClass("root"),e&&(e.className&&n.addClass("functions"),i=c(e,e.opened),i.find(".remove:first").remove(),"function"!=typeof e.fields&&(0===e.fields.length||t.isPlainObject(e.fields)&&t.isEmptyObject(e.fields))&&i.find(".rt-expand").css("opacity",0),n.append(i)),n};return{edit:function(n,o,s){function l(t){var i="string"!=typeof n?n.prop("Brackets"):e.get("brackets");return i[0]+t+i[2]}function c(t){t.preventDefault(),t.stopPropagation()}function u(e){var i=t(e.target),n=i.parent()[0].element;e.originalEvent.dataTransfer.setData("text",n.view||n.getView(i))}function h(e){var i=t(e.target),n=e.originalEvent.dataTransfer.getData("text");e.preventDefault(),i.val(i.val()+l(n))}var p,d=this;return"undefined"==typeof n?null:(p=t.Deferred(),new a("ExpressionEditor").done(function(e){return t.when(i.render("expression",{data:"string"==typeof n?n:n.prop(o)}),!!s&&d.getMenu(!1)).done(function(i,s){var a,d=t(".expr-menu",i),f=t("textarea",i),g=t(".add-to-expr",i),m={$popup:e,onClick:function(){var t=f.val();n&&n.prop(o)!==t&&(n.prop(o,t,!0),r.trigger("update-properties-panel",n),n.render()),r.trigger("remove-popups")}};s?(a=t(".rt-content[data-component]",s),d.html(s),a.attr("draggable",!0),a.css("cursor","move"),a.on("dragstart",u),f.on("dragover",c),f.on("dragenter",c),f.on("drop",h),s.on("click",".rt-content",function(){var e=t(this);e.is(".selected[data-component]")?g.removeAttr("disabled"):g.attr("disabled",!0)}),g.on("click",function(){var e=t(".selected",s),i=e.parent()[0].element,n=i.view||i.getView(e);n&&f.val(f.val()+l(n))})):(f.parent().css("width","100%"),g.remove(),d.remove()),i.on("click",".edit-expr",function(){var t=Array.prototype.slice.call(arguments);return t.push(f.val()),m.onClick.apply(this,t)}),t(".fr-modal-content",e).html(i),p.resolve(m)})}),p.promise())},getMenu:function(e){var i=t("<div>"),n=e===!1?{}:l,s=require("currentReport"),a=s.connections,c=s.dataSources,h=s.systemVariables,p=s.totals,d=s.parameters,f=s.functions;return i.addClass("data-main-container"),a&&i.append(u({label:"Dictionary DataSources",icon:"icon-053",fields:[].concat(a.all(),c.all()),opened:n})),h&&i.append(u({label:"Dictionary SystemVariables",icon:h.attr("icon"),fields:h.entities,opened:n})),p&&i.append(u({label:"Dictionary Totals",icon:"icon-132",fields:p.all(),editable:[function(t){r.trigger("create-total",t)},function(t){r.trigger("remove-total",t)}],opened:n})),d&&i.append(u({label:"Dictionary Parameters",icon:"icon-234",fields:d.all(),editable:[function(t){r.trigger("create-parameter",t)},function(t){r.trigger("remove-parameter",t)}],opened:n})),f&&i.append(u({label:"Dictionary Functions",icon:f.icon,fields:f.entities,className:"functions",opened:n})),i.on("click",".rt-content",function(){var e=t(this),n=e.parents(".root"),r=e.data("interface");n.is(".functions")&&r&&o.notify(t(r),{inEmptyList:!0,limitWidth:!1,delay:!1}),t(".selected",i).removeClass("selected"),e.addClass("selected")}),i.on("click",".rt-expand, .rt-icon",function(){var e,i=t(this);return i.is(".rt-icon")&&(i=i.prev(".rt-expand")),e=i.parent()[0].element,i.is(".icon-exp_minus")?(delete l[e._id||e.label],i.parent().find(".rt-container:first").slideUp(100,function(){i.removeClass("icon-exp_minus").addClass("icon-exp_plus")})):i.is(".icon-exp_plus")&&(l[e._id||e.label]=!0,i.parent().find(".rt-container:first").slideDown(100,function(){i.removeClass("icon-exp_plus").addClass("icon-exp_minus")})),!1}),i}}}),define("events/main",["jquery","utils","config","EventEmitter","expression"],function(t,e,i,n,r){"use strict";return e.object(n,{_init:function(){var e=require("currentReport"),n=require("head"),o=this.bind,s=this.trigger,a=this.unbind;o("init",function(){s("activate",e.pages.all(["ReportPage"])[0]),e.show().afterInitShow(),a("init")}),o("remove-popups",function(e){e?t(".fr-popup").remove():t(".fr-popup").fadeOut(i.get("fadeout"),function(){t(this).remove()}),t(".will-be-created",n.$node).remove()}),o("remove-context-menus",function(){t(".d-cm").remove()}),o("show-expression-editor",function(){r.edit.apply(r,arguments).done(function(t){n.put(t.$popup)})}),o("activate",function(t,i,n){var r;t&&(r=e.getSelected(),r&&!r.isPage()&&r.deactivate(),!t.fieldMap&&t.fillMap&&t.fillMap(),!t.eventMap&&t.fillEventMap&&t.fillEventMap(),t.isComponent()?s("activate-component",t):t.isBand()?s("activate-band",t):t.isPage()?s("activate-page",t):t.isReport()?s("activate-report",t):t.activate(),(t!==r||i)&&(n||s("re-render",t),t.isPage()&&s("update-workspace-indent")))}),o("activate-report",function(t){t.activate()}),o("activate-page",function(t){t.active()}),o("activate-page-by-id",function(t){var i=e.pages.findOneBy({_id:t});s("activate",i)}),o("show-page",function(t){var i=e.getCurrentPage();t!==i&&(i.deactivate(),t.show())}),o("activate-band",function(t){t.active()}),o("activate-component",function(t){t.active()}),o("scale-page",function(i){var n=e.getCurrentPage();i<.1&&(i=.1),i>2&&(i=2),e.attr("data-scale",i),n.updateSize(),t(".scale-page").find(".d-icr").val(i)}),o("scale-page-plus",function(){s("scale-page",e.attr("data-scale")+.1)}),o("scale-page-minus",function(){s("scale-page",e.attr("data-scale")-.1)}),o("scale-page-original",function(){s("scale-page",i.get("scale"))}),o("toggle-mouse-scroll-enable",function(){e.$node.addClass("fr-grab-page"),i.set("scroll-on-space",!0)}),o("toggle-mouse-scroll-disable",function(){e.$node.removeClass("fr-grab-page fr-grabbing-page"),i.set("scroll-on-space",!1)}),o("re-render",function(t){t=t||e.getSelected(),s("select-in-tree",t),s("update-properties-panel",t),s("update-events-panel",t)})}})}),define("queue",[],function(){"use strict";var t=100,e=[],i=e.length;return{prev:function(){return 0===i?null:(i-=1,e[i])},next:function(){var t;return i===e.length?null:(t=e[i],i+=1,t)},push:function(n){e=e.slice(0,i),e.push(n),e.length>t&&e.shift(),i=e.length},clear:function(){e.length=0,i=e.length},canUndo:function(){return i>0&&e.length>0},canRedo:function(){return i<e.length}}}),define("Entity",["jquery","utils","config","queue"],function(t,e,i,n){"use strict";function r(t,e,i){function r(){this[t].apply(this,arguments),this.render&&this.render(),this.activate&&this.activate()}n.push({context:this,undo:function(){"function"==typeof this.beforeUndo&&this.beforeUndo(),"function"==typeof this.beforeUndoRedo&&this.beforeUndoRedo(),r.apply(this,arguments),"function"==typeof this.afterUndo&&this.afterUndo(),"function"==typeof this.afterUndoRedo&&this.afterUndoRedo()},redo:function(){"function"==typeof this.beforeRedo&&this.beforeRedo(),"function"==typeof this.beforeUndoRedo&&this.beforeUndoRedo(),r.apply(this,arguments),"function"==typeof this.afterRedo&&this.afterRedo(),"function"==typeof this.afterUndoRedo&&this.afterUndoRedo()},undoData:[e,this[t](e)],redoData:[e,i]})}var o,s=null;return o=e.object({},{init:function(){},_init:function(){},attributes:{},properties:{},defaultValues:{Left:0,Top:0,"Border.Color":"#000","Border.Width":1,"Border.Style":"Solid","Border.Lines":"None","Border.Shadow":!1,"Border.ShadowColor":"#000","Border.ShadowWidth":4,Cursor:"Default",EvenStyle:"",EvenStylePriority:"UseFill","Fill.Color":"transparent","Fill.Hatch":!1,"Fill.Blend":0,Restrictions:[],FirstRowStartsNewPage:!1,KeepChild:!1,ResetPageNumber:!1,StartNewPage:!1,AutoSize:!1,Exportable:!0,Printable:!0,PrintOnBottom:!1,ShiftMode:"Always",PrintOn:["FirstPage","LastPage","OddPages","EvenPages","RepeatedBand","SinglePage"],RepeatOnEveryPage:!1,Visible:!0,Anchor:["Top","Left"],"Padding.All":-1,Brackets:"[,]"},createObject:function(t,i){return i=i||{},i.attributes={},i.properties={},i.defaultValues={},e.object(t||this,i)},clone:function(){var t,e,i,n,r=this._super,o=r.create.apply(r,arguments);if(o){for(i=this.properties,e=Object.keys(i),t=e.length;t--;)n=e[t],"Name"!==n&&o.prop(n,i[n]);for(i=this.attributes,e=Object.keys(i),t=e.length;t--;)n=e[t],o.attr(n,i[n])}return o},attr:function(t,e,i){var n,o,s;if("string"==typeof t)return"undefined"==typeof e?"undefined"!=typeof this.attributes[t]?this.attributes[t]:this._super.attr&&this._super.attr(t):(this.attributes[t]!==e&&(this.touch(),i&&r.call(this,"attr",t,e),this.attributes[t]=e),e);if("object"==typeof t)for(o=Object.keys(t),n=o.length;n--;)s=o[n],this.attr(s,t[s]);return null},prop:function(t,i,n){var s,a,l,c;if("string"==typeof t)return s="undefined"!=typeof this.defaultValues[t]?this.defaultValues[t]:o.defaultValues[t],"undefined"==typeof i?"undefined"!=typeof this.properties[t]?this.properties[t]:"undefined"!=typeof s?s:this._super.prop&&this._super.prop(t):(this.properties[t]!==i&&(this.touch(),n&&r.call(this,"prop",t,i),s&&(s===i||e.arraysEqual(s,i))?this.deleteProp(t):this.properties[t]=i),i);if("object"==typeof t)for(l=Object.keys(t),a=l.length;a--;)c=l[a],this.prop(c,t[c]);return null},findAttrs:function(t){for(var e,i={},n=this.attributes,r=Object.keys(n),o=r.length;o--;)e=r[o],t.test(e)&&(i[e]=n[e]);return i},findProps:function(t){for(var e,i={},n=this.properties,r=Object.keys(n),o=r.length;o--;)e=r[o],t.test(e)&&(i[e]=n[e]);return i},onChangeCM:function(t,e){var i;t.prop&&(i=t.curVal,t.val&&(i=i?t.val:""),e?e[t.prop]=i:this.prop(t.prop,i))},deleteAttr:function(t){return this.touch(),delete this.attributes[t]},deleteProp:function(t){return this.touch(),delete this.properties[t]},eachProp:function(t){for(var i,n,r=this.properties,o=Object.keys(r),s=o.length;s--&&(i=o[s],n=r[i],"undefined"==typeof n||""===n||null===n||(e.isFloat(n)&&(n=n.toFixed(2)),t.call(this,i,n)!==!1)););},eachAttr:function(t){for(var i,n,r=this.attributes,o=Object.keys(r),s=o.length;s--&&(i=o[s],n=r[i],!n||(e.isFloat(n)&&(n=n.toFixed(2)),t.call(this,i,n)!==!1)););},counter:function(){var t={};return{incr:function(e){return t[e]||(t[e]=0),++t[e]},clear:function(){t={}}}}(),names:function(){var t={};return{save:function(e,i,n){return n?(t[e]=i,!0):!t[e]&&(t[e]=i,!0)},remove:function(e){return delete t[e],!0}}}(),fillProps:function(t){var i,n,r=require("currentReport"),o=t[0].attributes,s=o.length,a=!1;for(this._original||(this._original=t,this._originalAttrs={},a=!0);s--;)o.hasOwnProperty(s)&&(n=o[s],i=e.convertVal(n.value),"Name"===n.name&&this.names.save(i,this,!0),this.prop(n.name,i,void 0,!0),a&&(this._originalAttrs[n.name]=i));return this.prop("data-entity-id")&&(this._id=this.prop("data-entity-id"),this.deleteProp("data-entity-id")),i=this.prop("DataSource"),i&&(r.connections||r.dataSources)&&this.prop("DataSource",r.connections.pullDSByView(i)||r.dataSources.pullByView(i)),this},getFillColor:function(){var t,i,n,r=this.prop("Fill.Color");return r&&"transparent"!==r?n=r:(t=this.prop("Fill.StartColor"),i=this.prop("Fill.EndColor"),t&&i||(t=this.prop("Fill.CenterColor"),i=this.prop("Fill.EdgeColor"),t&&i||(t=this.prop("Fill.BackColor"),i=this.prop("Fill.ForeColor"))),t&&i&&(n=e.midColor(e.getHex(t),e.getHex(i)))),n||r},state:function(){var e=["normal","in_move","in_resize"],i={};return e.forEach(function(t){i[t]=[]}),{set:function(e){var n=this;return n.attr("state",e),t.each(i,function(){this.removeByValue(n)}),i[e].push(n),n},get:function(t){return i[t]}}}(),formName:function(t){var e=(t||this.prop("Name")||this.type)+this.counter.incr(t||this.type);return this.names.save(e,this)?e:this.formName.apply(this,arguments)},formGroupInx:function(){return this.counter.incr("GroupIndex")},applyForBorder:function(e,i){var n=this.prop("Border.Lines")||"";n=n.split(/,[\s]?/),n.removeByValue(""),n.indexOf("All")>-1&&(n.removeByValue("All"),n.push("Left"),n.push("Top"),n.push("Right"),n.push("Bottom")),n.removeByValue("None"),"None"===e?n=["None"]:i||t.inArray(e,n)===-1?"All"===e?n=["All"]:(n.push(e),n=n.removeDoubleValue(),n.indexOf("Left")>-1&&n.indexOf("Top")>-1&&n.indexOf("Right")>-1&&n.indexOf("Bottom")>-1&&(n=["All"])):(n.removeByValue(e),n.length||(n=["None"])),this.prop("Border.Lines",n.join(", "),!0)},getProp:function(t){var e,i,n=this.fieldMap,r=0,o=1;for(t=t.split(":"),e=(n||[]).length,i=t.length;r<e;r+=1)if(n[r].propName===t[0]||n[r].label===t[0]){for(n=n[r].fields;o<i;o+=1)try{if(n=n[t[o]],o+1<i)n=n.fields;else if(n)return n}catch(t){return null}break}return null},canHaveProp:function(t){return!!this.getProp(t)},render:function(){},mouseStart:function(){},resizingStart:function(){},resizing:function(){},resizingEnd:function(){},movingStart:function(){},moving:function(){},movingEnd:function(){},creatingComponentOver:function(){},deleteComponentOver:function(){},creatingComponentEnd:function(){},getContextMenuTitle:function(){},getContextMenuItems:function(){},getContextMenuEventName:function(){},rightClick:function(){},mouseover:function(){},mouseout:function(){},afterAlign:function(){},afterParse:function(){},afterInitShow:function(){},remove:function(){return!!this.canDelete()&&(this===s&&o.deactivate(),!0)},touch:function(){this.touched=!0},activate:function(){s=this},deactivate:function(){s=null},getSelected:function(){return s},canMove:function(){var t,e;return!!i.get("movable-components")&&(t=!!this.attr("movable"),t&&(e=this.prop("Restrictions"),t=!("DontMove"===e||e.indexOf("DontMove")>-1)),t)},canResizeX:function(){var t,e=this.attr("resizableX");return!!i.get("resizable-components")&&((e||"undefined"==typeof e)&&(t=this.prop("Restrictions"),e=!("DontResize"===t||t.indexOf("DontResize")>-1)),e)},canResizeY:function(){var t,e=this.attr("resizableY");return!!i.get("resizable-components")&&((e||"undefined"==typeof e)&&(t=this.prop("Restrictions"),e=!("DontResize"===t||t.indexOf("DontResize")>-1)),e)},canResizeXY:function(){var t,e=this.attr("resizableXY");return!!i.get("resizable-components")&&((e||"undefined"==typeof e)&&(t=this.prop("Restrictions"),e=!("DontResize"===t||t.indexOf("DontResize")>-1)),e)},canModify:function(){var t=this.prop("Restrictions");return!("DontModify"===t||t.indexOf("DontModify")>-1)},canEdit:function(){var t=this.prop("Restrictions");return!("DontEdit"===t||t.indexOf("DontEdit")>-1)},canDelete:function(){var t=this.prop("Restrictions");return!("DontDelete"===t||t.indexOf("DontDelete")>-1)},hasHiddenProperties:function(){var t=this.prop("Restrictions");return"HideAllProperties"===t||t.indexOf("HideAllProperties")>-1},isEntity:function(){return!0},isPage:function(){return!1},isDialog:function(){return!1},isStyle:function(){return!1},isBand:function(){return!1},isComponent:function(){return!1},isReport:function(){return!1},isConnection:function(){return!1},isDataSource:function(){return!1},canHaveChildren:function(){return!1},log:function(){console.log("%c"+this.toString()+":%c "+Array.prototype.slice.call(arguments).join(", "),"background: #222; color: #bada55","#000")},getPage:function(){var t;return this.isPage()?this:(t=this.collection&&this.collection.container,t?t.isPage()?t:t.collection&&t.collection.mainCollection.container:null)},toXML:function(e){var i,n,r=this.attr("inherited"),o=t((e.parentNode.ownerDocument||e.parentNode).createElement(r?"inherited":this.type));return e.includeId&&o.attr("data-entity-id",this._id),this.eachProp(function(t,e){"Name"!==t&&r&&this._originalAttrs[t]===e||o.attr(t,e)}),"None"===this.prop("Border.Lines")&&o.removeAttr("Border.Lines").removeAttr("Border.Color").removeAttr("Border.Width").removeAttr("Border.Style"),this.prop("Border.Shadow")===!1&&o.removeAttr("Border.Shadow").removeAttr("Border.ShadowWidth").removeAttr("Border.ShadowColor"),"transparent"===this.prop("Fill.Color")&&o.removeAttr("Fill.Color"),(this.prop("Padding.Top")||this.prop("Padding.Right")||this.prop("Padding.Bottom")||this.prop("Padding.Left"))&&(i=(this.prop("Padding.Left")||0)+", "+(this.prop("Padding.Top")||0)+", "+(this.prop("Padding.Right")||0)+", "+(this.prop("Padding.Bottom")||0),o.removeAttr("Padding.Left").removeAttr("Padding.Top").removeAttr("Padding.Right").removeAttr("Padding.Bottom"),o.attr("Padding",i),o.removeAttr("Padding.All")),n=this.prop("DataSource"),"object"==typeof n&&o.attr("DataSource",n.prop("Name")),o[0]},toString:function(){return this.prop("Name")}})}),define("parser/main",["jquery","utils","notification"],function(t,e,i){"use strict";function n(){if(!k)throw new Error("Report wasn't initialized")}function r(t,e){var i,n;return!!k.createParameter&&(i=k.createParameter(e),n=t.children(),i.fillProps(t),i.afterParse(),n.length?h(n,i):i)}function o(t){var e;return!!k.createTotal&&(e=k.createTotal(),e.fillProps(t),e.afterParse(),e)}function s(e,i){var n=i.createColumn(),r=e.children();n.fillProps(e),n.afterParse(),n.updateBindableControl(),r.length&&r.each(function(e,i){i=t(i),i.is("column")?s(i,n):p(i,n)})}function a(t){var e;return!!k.createRelation&&(e=k.createRelation(),e.fillProps(t),e.afterParse(),e.update(),e)}function l(t){var e=k.createPage(!0);return!!e&&(e.fillProps(t),e.afterParse(),e.update(),y(t.children(),e))}function c(i){var n,r=k.createDialog(!0);return!!r&&(r.fillProps(i),r.afterParse(),t.each(i.children(),function(){n=t(this),e.getModule("controls/"+n.prop("tagName"))?v(n,r):r.unparsed.push(n)}),!0)}function u(e){var i;return t.each(e.children(),function(){i=k.createStyle(),i.fillProps(t(this)),i.afterParse()}),!0}function h(e,i){var n=!1;return t.each(e,function(){r(t(this),i)&&(n=!0)}),n}function p(e,i){var n=!1,r=e.prop("tagName"),o=/DataSource$/i,a=/Connection$/i;return r.match(o)&&k.createDataSource?n=k.createDataSource(r,i):r.match(a)&&k.createConnection&&(n=k.createConnection(r,i)),n&&(n.fillProps(e),n.afterParse(),e.children().each(function(){var e=t(this);e.is("Column")?s(e,n):e.prop("tagName").match(o)?p(e,n):n.unparsed.push(e)})),n}function d(t){return e.getModule("components/"+t.prop("tagName"))}function f(t){return e.getModule("bands/"+t.prop("tagName"))}function g(t){return e.getModule("controls/"+t.prop("tagName"))}function m(t,e){var i=d(t);return i&&(i=i.create(),i.fillProps(t),"TextObject"===i.type&&_&&_.texts[i.prop("mission")]&&i.prop(_.texts[i.prop("mission")]),i.afterParse(),i.render({action:"init"}),e.put(i)),i}function v(t,e){var i=g(t);return i&&(i=i.create(),i.fillProps(t),i.afterParse(),i.render({action:"init"}),e.put(i)),i}function b(t,e){var i=f(t);return!!i&&(i=i.create(),i.fillProps(t),i.afterParse(),e.addBand(i)?i:null)}function y(e,i){var n=function(t,e){e||(e=i);var n=b(t,e);return!!n&&r(t.children(),n)},r=function(e,i){for(var r,o,s=0,a=e.length;s<a;s+=1)o=t(e[s]),r=o.prop("tagName"),m(o,i)||n(o,i)||i&&i.unparsed&&i.unparsed.push(o);return i&&i.balance(),i};return r(e)}function x(e){for(var i,n,r,s=0,a=e.children(),l=a.length;s<l;s+=1)i=t(a[s]),n=i.prop("tagName"),r=!1,i.is("Parameter")?r=h(i):n.match(/(DataSource|Connection)$/i)?r=p(i):i.is("Total")&&(r=o(i)),r===!1&&k.unparsedDict.push(i);
return!0}function C(e){for(var i,n=0,r=e.children(),o=r.length,s=[];n<o;n+=1)i=t(r[n]),i.is("Relation")&&s.push(i);return s}function w(e){for(var i,n=C(e),r=0,o=n.length;r<o;r+=1)i=t(n[r]),a(i)||k.unparsedDict.push(i)}var k,_;return{init:function(t,e){return k=t,_=e,this},parse:function(r){var o,s,a,h,p,d,f,g=t(r);if(n(),o=g.find("Report"),o.length){for(k.fillProps(o),k.afterParse(),h=0,d=o.children(),p=d.length;h<p;h+=1)s=t(d[h]),f=!1,s.is("ScriptText")?k.code&&(k.code.setCode(e.reverseEscapeHTML(s.text())),f=!0):s.is("Dictionary")?(a=s,x(a),f=!0):f=s.is("ReportPage")?l(s):s.is("DialogPage")?c(s):!!s.is("Styles")&&u(s),f===!1&&k.unparsed.push(s);for(a&&w(a),h=0,d=k.pages.all(["ReportPage","DialogPage"]),p=d.length;h<p;h+=1)d[h].render({action:"init"})}else i.notify('there must be a "Report" tag inside .frx report',{danger:!0,delay:!1});return k},extendCurrent:function(n,r){var o,s,a,l=t(n),c=l.children(),u=0,h=c.length;if(r||(r=k),l.is("[BaseReport]"))k.fillProps(l),a=k,a.attr("inherited",!0);else if(l.is("Dictionary"))o=l,x(l);else{if(l.is("ScriptText"))return void(k.code&&k.code.setCode(e.reverseEscapeHTML(l.text())));if(l.is("inherited")){if(a=k.findEntity({Name:l.attr("Name")}),!a)return void i.notify("inherited element with the Name {0} was not found".format(l.attr("Name")),{danger:!0,delay:!1});a.fillProps(l),a.attr("inherited",!0),a.render()}else a=m(l,r),a||(a=b(l,r),a||(a=r))}if(o)w(o);else if(a)for(;u<h;u+=1)s=c[u],this.extendCurrent(s,a)},toXML:function(t){return t=t||{},n(),k.toXML(t)}}}),define("spinner",["jquery"],function(t){"use strict";var e,i=t(".fr-preload-blanket"),n=+i.css("z-index")||20;return{show:function(r,o,s,a){var l=t.Deferred(),c=s?i.clone():i,u=c.find(".sp-h");return n+=1,c.css("z-index",n),e=e||require("head"),e.$node.css("cursor","wait"),r=r||u.text(),u.text(r),o&&c.css("background-color","rgba(255,255,255,.5)"),c.fadeIn("undefined"!=typeof a?a:300,function(){l.resolve(c)}),e.$main.append(c),l.promise()},hide:function(n){var r=t.Deferred();return n=n||i,e=e||require("head"),e.$node.css("cursor",""),n.fadeOut(300,function(){r.resolve()}),r.promise()}}}),define("events/list",["jquery","config","utils","queue","EventEmitter","Entity","notification","l10n","parser/main","spinner","res-units/Popup"],function(t,e,i,n,r,o,s,a,l,c,u){"use strict";return i.object(r,{_init:function(){var r=require("currentReport"),h=this.bind,p=this.trigger;h("show-hotkey-helper",function(){i.render("helper").done(function(t){s.notify(t,{inEmptyList:!0,delay:!1,success:!0,limitWidth:!1})})}),h("toogle-fullscreen",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}),h("remove",function(e){var i=r.getCurrentPage(),l=i.bands||i.components,c=0;if(e)"undefined"==typeof e.length&&(e=[e]);else if(e=l.getSelectedComponents(),!e.length){if(e=l.getSelectedBand(),!e||!e.canBeRemoved())return;e=[e]}t.each(e,function(){this.attr("removeable")&&(p(this.isComponent()?"remove-component":"remove-band",this),c+=1)}),n.push({context:this,func:function(e,n){t.each(e,function(){p(n+(this.isComponent()?"-component":"-band"),this),this.isBand()&&this.collection.container.updateExts()}),i.balance&&i.balance()},undoData:[e,"render"],redoData:[e,"remove"]}),o.deactivate(),p("remove-popups"),p("re-render",i),s.notify(a.tr("removed")+" "+c,{info:!0})}),h("undo",function(){var t,e=n.prev();if(e){if(t=e.undo||e.func,"function"!=typeof t)return p("undo");t.apply(e.context,e.undoData||e.data),p("re-render")}}),h("redo",function(){var t,e=n.next();return e?(t=e.redo||e.func,"function"!=typeof t?p("redo"):(t.apply(e.context,e.redoData||e.data),void p("re-render"))):null}),h("sticky-grid",function(){e.set("sticky-grid",!e.get("sticky-grid")),p("update-info")}),h("grid",function(){r.attr("grid",!r.attr("grid")),r.getCurrentPage().render()}),h("highlights-editor",function(e){var n=[];e.highlights&&e.highlights.eachEntity(function(t){Array.prototype.push.apply(n,t.conditions.all())}),new u("HighlightEditor").done(function(e){return t.when(i.render("highlight",{conditions:n})).done(function(i){var n="fr-condition-item-active";i.on("click",".fr-btn-highlight-ok",function(){p("remove-popups",!0)}).on("click",".fr-condition-item:not(.{0})".format(n),function(){var e=t(this);e.parent().find(".{0}".format(n)).removeClass(n),e.addClass(n)}),t(".fr-modal-content",e).html(i),require("head").put(e)})})}),h("preview",function(){var n=l.toXML(),o=i.escapeHTML((new XMLSerializer).serializeToString(n)),a=i.getParamId();return console.dirxml(n),t.when(c.show(void 0,1)).done(function(){return t.ajax({url:e.get("makePreview",{id:r._id})+(a?"&"+a:""),dataType:"text",type:"POST",data:o}).done(function(e){c.hide(),(new u).done(function(n){i.render("preview",{report:e}).done(function(e){t(".fr-modal-content",n).html(e),t(document.body).append(n),p("preview_success")})})}).fail(function(){c.hide(),console.error(arguments),s.notify("something went wrong",{danger:!0}),p("preview_failure")})})}),h("save_success",function(){s.notify(a.tr("Messages Saved"),{success:!0,inEmptyList:!0})}),h("save_failure",function(){s.notify(a.tr("Messages CantSaveReport"),{danger:!0,inEmptyList:!0})}),h("save",function(){p("save_begin");var n=l.toXML(),r=i.escapeHTML((new XMLSerializer).serializeToString(n)),o=e.get("show-saving-progress"),a=i.getParamId(),u=function(){return t.ajax({url:e.get("saveReport",{id:require("currentReport")._id})+(a?"&"+a:""),dataType:"text",type:"POST",data:r}).done(function(){c.hide(),p("save_success")}).fail(function(){console.error(arguments),c.hide(),p("save_failure")})};return console.dirxml(n),"large"===o?(c.show(void 0,1),u()):"small"===o?i.render("loader").done(function(t){return s.notify(t,{delay:!1}),u()}):u()})}})}),define("res/Main",["jquery"],function(t){"use strict";return function(){var e=".fr-designer",i=t("<div>");this.$color=t('<input type="color"/>','<input type="file"/>'),i.append(this.$color),this.$main=null,e&&(this.$main=t(e)),this.$main&&this.$main.length||(this.$main=t(document.body)),this.$node=t("<div>"),this.$reusable=t("<div>"),this.$mainContainer=t("<div>"),this.$controls=t("<div>"),this.$workspace=t("<div>"),this.$mainContainer.append(this.$controls,this.$workspace),this.$node.addClass("fr-main"),this.$reusable.addClass("fr-reusable"),this.$mainContainer.addClass("fr-main-container"),this.$workspace.addClass("fr-body"),this.$reusable.append(i),this.$node.append(this.$mainContainer,this.$reusable),this.$main.prepend(this.$node),this.put=function(t){this.$node.append(t)}}}),define("unit",["jquery","utils"],function(t,e){"use strict";var i={cm:"Centimeters",mm:"Millimeters",in:"Inches",hi:"Hundredths of inch"},n="cm",r={cm:{toUnit:function(t){return 2.54*t/96},toPixels:function(t){return 96*t/2.54}},mm:{toUnit:function(t){return 2.54*t/9.6},toPixels:function(t){return 9.6*t/2.54}},hi:{toUnit:function(t){return+t},toPixels:function(t){return+t}},in:{toUnit:function(t){return t/96},toPixels:function(t){return 96*t}}};return{all:function(){return e.extend({},i)},setCurrent:function(t){n=t||n},getCurrent:function(){return n},toPx:function(e,i){return t.isNumeric(e)?r[i||n].toPixels(e).toFixed(2):null},toUnit:function(e,i){return t.isNumeric(e)?r[i||n].toUnit(e).toFixed(2):null}}}),define("Container",["jquery","config","utils","Entity"],function(t,e,i,n){"use strict";return i.object(n,{updateExts:function(){},render:function(t){var i,n;return t=t||{},this.attr("removed")&&(this.attr("removed",!1),this.$g.removeClass("fr-hidden")),this.bands&&(n=t.top||0,i=0,e.get("resize-bands")&&(i=e.get("band-indent-top")||0),this.bands.eachEntity(function(t){t.balance(),t.setPosition(t.prop("Left"),n),n+=t.prop("Height")+i+t.bands.getCommonHeight()})),this},remove:function(){return!!n.remove.call(this)&&(this.deactivate(),this.attr("removed",!0),this.$g&&this.$g.addClass("fr-hidden"),!0)},addBand:function(t,e){var i;if(this.isPage())i=this;else{if(!this.isBand())return!1;i=this.getPage()}return!(!t||t.canBeAdded&&t.canBeAdded(this)===!1)&&(t.bands.initMainCollection(i.bands),t.renderContainer(),this.put(t,e),t)},addBands:function(){for(var t=0,e=arguments.length;t<e;t+=1)this.addBand(arguments[t]);return this.render(),this},put:function(t,e){this.$bands.append(t.$g),t._parent=this,t.attr("margin",this.attr("margin")),t.attr("padding",this.attr("padding")),t.prop("Width",this.prop("Width")||this.attr("Width")),this.bands.add(t,e)}})}),define("StateMachine",["Entity"],function(t){"use strict";function e(){}return e.prototype.add=function(e){var i=this,n=this._callbacks||(this._callbacks=[]);return n.push(e),e.active=function(){for(var e,r=0,o=n.length;r<o;r+=1)this===n[r]?e=this:n[r].deactivate();return e&&(e.activate(),t.activate.apply(e,arguments),i.current=e),this},e},e.prototype.remove=function(t){this._callbacks.removeByValue(t)},e.prototype.clear=function(){return this._callbacks?this._callbacks.length=0:this._callbacks=[],this},e.prototype.all=function(){return this._callbacks||[]},e}),define("Page",["jquery","config","utils","Container","StateMachine"],function(t,e,i,n,r){"use strict";return n.createObject(n,{SM:new r,init:function(){this.buffer=[],this.attr({padding:0,margin:0})},isPage:function(){return!0},isReportPage:function(){return!1},isDialog:function(){return!1},isCode:function(){return!1},show:function(){this.report.$workspace.removeClass("fr-hidden"),this.$workspace.removeClass("fr-hidden"),this.attr({isHidden:!1,removed:!1,activated:!0}),this.report.pages.current=this},hide:function(){this.$workspace.addClass("fr-hidden"),this.attr({isHidden:!0,activated:!1})},activate:function(){return this.attr("isHidden")&&this.show(),this},deactivate:function(){return this.attr("isHidden")||this.hide(),this},getWidth:function(t){var e=this.attr("Width")||this.prop("Width")||0;return e+=this.attr("margin"),e+=2*this.attr("padding"),e*=t},getHeight:function(t){var e=this.attr("Height")||this.prop("Height")||0;return e+=2*this.attr("padding"),e*=t},getViewBox:function(t,e,n){var r=i.attr(this.report.workspace,"viewBox").split(" ");return"undefined"!=typeof e&&(r[2]=e/t),"undefined"!=typeof n&&(r[3]=n/t),r.join(" ")},setWidth:function(){var t=this.report.attr("data-scale"),e=this.getWidth(t),n=this.getViewBox(t,e);i.attr(this.report.workspace,"viewBox",n),i.attr(this.report.workspace,"width",e)},setHeight:function(){var t=this.report.attr("data-scale"),e=this.getHeight(t),n=this.getViewBox(t,void 0,e);i.attr(this.report.workspace,"viewBox",n),i.attr(this.report.workspace,"height",e)},updateSize:function(){this.setWidth(),this.setHeight()}})}),define("Collection",["jquery","utils"],function(t,e){"use strict";return e.object({},{container:null,entities:[],create:function(t){var i=e.object(this);return i.entities=[],i.container=t||null,i},all:function(e){return e&&t.isArray(e)?t.grep(this.entities,function(t){return!t.attr("removed")&&e.indexOf(t.type)>-1?t:null}):t.grep(this.entities,function(t){return!t.attr("removed")})},allWithChildren:function(e){var i=[];return e&&t.isArray(e)?this.everyEntity(function(t){!t.attr("removed")&&e.indexOf(t.type)>-1&&i.push(t)}):this.everyEntity(function(t){t.attr("removed")||i.push(t)}),i},eachEntity:function(t,e){var i,n=this.entities,r=0;for(e||(n=this.all()),i=n.length;r<i&&t.call(this,n[r],r)!==!1;r+=1);return this},everyEntity:function(){return this.eachEntity.apply(this,arguments)},count:function(t){return this.all(t).length},add:function(e){if(e)return e.collection&&e.collection!==this&&e.collection.remove(e),e.collection=this,t.inArray(e,this.entities)===-1&&this.entities.push(e),this},find:function(t){var e;return this.everyEntity(function(i,n){if(i._id===t)return e=[i,n],!1}),e},findEntity:function(){var t=this.find.apply(this,arguments);return t&&t[0]},findAmongChildren:function(t){var e;return this.eachEntity(function(i,n){if(i._id===t)return e=[i,n],!1}),e},findBy:function(t){var e,i,n,r=[],o=Object.keys(t),s=o.length;return this.everyEntity(function(a){for(e=s;e--;)if(i=o[e],n=t[i],a[i]!==n&&a.attributes[i]!==n&&a.properties[i]!==n)return;r.push(a)}),r},findOneBy:function(){return this.findBy.apply(this,arguments)[0]},findAmongChildrenBy:function(t){var e,i,n,r=[],o=Object.keys(t),s=o.length;return this.eachEntity(function(a){for(e=s;e--;)if(i=o[e],n=t[i],a[i]!==n&&a.attributes[i]!==n&&a.properties[i]!==n)return;r.push(a)}),r},findOneAmongChildrenBy:function(){return this.findAmongChildrenBy.apply(this,arguments)[0]},findAmongAll:function(t){var e,i,n,r=[],o=Object.keys(t),s=o.length;return this.everyEntity(function(a){for(e=s;e--;)if(i=o[e],n=t[i],a[i]!==n&&a.attributes[i]!==n&&a.properties[i]!==n)return;r.push(a)},!0),r},findOneAmongAll:function(){return this.findAmongAll.apply(this,arguments)[0]},first:function(){return this.all()[0]||null},last:function(){var t=this.all();return t[t.length-1]},after:function(t,e){var i=!1;return this.everyEntity(function(n){return t._id===n._id?void(i=!0):void(i&&e.call(n,n))}),this},remove:function(t){return t?(this.entities.removeByValue(t),this):null},clear:function(){return this.entities.length=0,this},isEmpty:function(){return!this.entities.length},getMainCollection:function(){return this.mainCollection||this.container.collection.mainCollection},getSelectedComponents:function(e){var i=".component.selected";return e&&(i=i+"."+e),t(i,this.container.$workspace).map(function(){return this.component.attr("removed")?null:this.component})},getComponents:function(e){var i=".component";return e&&(i=i+"."+e),t(i,this.container.$workspace).map(function(){return this.component.attr("removed")?null:this.component})},getSelectedBand:function(){var e=t(".band.selected",this.container.$workspace).map(function(){return this.band.attr("removed")?null:this.band});return e[0]}})}),define("BandCollection",["jquery","config","utils","Collection"],function(t,e,i,n){"use strict";return i.object(n,{initMainCollection:function(t){return this.mainCollection=t,this},everyEntity:function(t){for(var e=this.all(),i=e.length,n=0;n<i;n+=1)if(t.call(this,e[n],n)===!1||e[n].bands.count()&&e[n].bands.everyEntity(t)===!1)return!1;return this},getCommonHeight:function(){var t=0,i=0;return e.get("resize-bands")&&(i=e.get("band-indent-top")||0),this.everyEntity(function(e){t+=e.prop("Height")+i}),t},getHeightTo:function(t,i){var n=0,r=0;return e.get("resize-bands")&&(r=e.get("band-indent-top")||0),this.mainCollection.everyEntity(function(e){return t._id!==e._id&&void(n+=e.prop("Height")+r)}),(i||0)+n},updateThreshold:function(){return this.mainCollection.everyEntity(function(t){t.updateThreshold()}),this},componentsIn:function(t,e){var n,r,o,s,a,l=[];return this.everyEntity(function(c){c.components.eachEntity(function(u){u.attr("selectable")&&(n=c.prop("Top"),r=u.prop("Left"),o=u.attr("right"),s=u.prop("Top")+n,a=u.attr("bottom")+n,i.intersect(t,e,r>o?[o,r]:[r,o],s>a?[a,s]:[s,a])&&l.push(u))})}),l},add:function(t,e){t.collection&&t.collection.remove(t),t.collection=this,e>-1?this.entities.splice(e,0,t):this.entities.push(t),this.entities.removeDoubleValue();for(var i=0,n=this.entities,r=n.length,o=[],s=[],a=[],l=function(t,e){return t.attr("pos")<e.attr("pos")?-1:t.attr("pos")>e.attr("pos")?1:0};i<r;i+=1)n[i]&&(e=n[i].attr("pos"),e&&(e<=30?o.push(n[i]):e>=40?a.push(n[i]):s.push(n[i])));return o.sort(l),a.sort(l),s.sort(l),this.entities=o.concat(s,a).removeDoubleValue(),this},findInsideCoord:function(t){var e=null;return this.everyEntity(function(i){return t[0]>=i.prop("Left")&&t[1]>=i.prop("Top")&&void(e=i)}),e},remove:function(e){if(e)return t.each(e.bands.entities,function(){this.bands.remove(this)}),this.entities.removeByValue(e),this},clear:function(){return this.everyEntity(function(t){t.$g.remove()}),this.entities.length=0,this}})}),define("res-units/IllusionLine",["jquery","utils"],function(t,e){"use strict";return function(i){return i=i||{},i.class="illusion fr-hidden",t(e.createNS("line",i))}}),define("ReportPage",["jquery","config","utils","Page","EventEmitter","BandCollection","unit","res-units/IllusionLine"],function(t,e,i,n,r,o,s,a){"use strict";return i.object(n,{create:function(){return this.createObject(this,{init:function(){this.SM.add(this),this._id="rp"+i.guid(),this.unparsed=[],this.attr({title:"Report",info:"Report info",icon:"icon-000"}),this.attr({isHidden:!0,activated:!1,removed:!1,Height:100,padding:18.89,margin:e.get("show-band-title")?i.isMobile?40:100:0,borderLines:[4,2]}),this.defaultValues={"Columns.Count":1,"Columns.Position":0,"Columns.Width":718.11,"Watermark.Enabled":!1,"Watermark.Image":"","Watermark.ImageSize":"Zoom","Watermark.ImageTransparency":0,"Watermark.ShowImageOnTop":!1,"Watermark.ShowTextOnTop":!0,"Watermark.Text":"","Watermark.TextFill.Color":"#CCC","Watermark.TextRotation":"ForwardDiagonal","Fill.Color":"#fff",Landscape:!1,PaperWidth:793.8,PaperHeight:1122.51,LeftMargin:37.8,RightMargin:37.8,TopMargin:37.8,BottomMargin:37.8,RawPaperSize:0,FirstPageSource:7,OtherPagesSource:7,TitleBeforeHeader:!0},this.prop("Name","Page"),this.g=this.workspace=i.createNS("g",{class:"page"}),this.$g=this.$workspace=t(this.g),this.$workspace.addClass("fr-hidden"),this.$bands=t(i.createNS("g")),this.$extraWidthLines=t(i.createNS("g",{class:"fr-extra-design-width-lines"})),this.$g.data("page",this),this.$g.append(this.$bands,this.$extraWidthLines),this.bands=o.create(this),this.bands.initMainCollection(this.bands),this.attr=function(t,e){var i=n.attr.apply(this,arguments);if("undefined"!=typeof e)switch(t){case"margin":case"padding":case"Width":this.update();break;case"Height":this.setHeight()}return i}}})},isReportPage:function(){return!0},init:function(){this.type="ReportPage",this.report=null},updateExtraWidth:function(){var t,e,i,n,r,o;if(this.prop("ExtraDesignWidth")){if(t=5,n=this.attributes.Width,this.attributes.Width*=t,this.$extraWidthLines.is(":empty"))for(i=this.bands.getCommonHeight(),r=this.attr("margin"),o=this.attr("padding");t>0;t--)e=new a({x1:n*t+r+o,x2:n*t+r+o,y1:0,y2:i+r+o}),this.$extraWidthLines.append(e),e.removeClass("fr-hidden")}else this.$extraWidthLines.children().length&&this.$extraWidthLines.empty();return this},update:function(){var t=this;this.attributes.Width=this.prop("PaperWidth")-this.prop("LeftMargin")-this.prop("RightMargin"),this.attr("Width")<0&&(this.attributes.Width=0),this.updateExtraWidth(),this.updateSize(),this.bands.everyEntity(function(e){e.attr({margin:t.attr("margin"),padding:t.attr("padding")}),e.prop("Width",t.attr("Width"))}),this.render()},balance:function(){this.attr("Height",this.bands.getCommonHeight()),this.showLines()},show:function(){n.show.apply(this,arguments),this.balance(),this.update()},activate:function(){var t;return n.activate.apply(this,arguments),t=this.bands.getSelectedBand(),t&&t.deactivate(),this},clear:function(){return this.bands.clear(),this},showLines:function(){var n=this.attr("borderLines"),r=this.attr("padding"),o=this.attr("margin"),s=this.attr("Width"),a=this.attr("Height"),l=o+r;if(!n||!t.isArray(n))return!1;var c=[{x1:l,y1:r,x2:s+l,y2:r},{x1:s+l,y1:r,x2:s+l,y2:a+r},{x1:l,y1:r,x2:l,y2:r+a}],u=this.$g,h=t("> line",u);return e.get("resize-bands")||c.push({x1:l,y1:r+a,x2:s+l,y2:r+a}),t.each(c,function(e,r){var o=h[e]||i.createNS("line");i.attr(o,{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2}),2===n.length&&i.attr(o,"style","stroke-dasharray: "+n[0]+", "+n[1]+";"),u.append(t(o))}),this},render:function(){return this.$workspace.css("fill","transparent"),n.render.call(this,{top:this.attr("padding")}),this.balance(),this},canHaveChildren:function(){return!0},fillProps:function(t){return n.fillProps.apply(this,arguments),t.attr("PaperWidth")&&this.prop("PaperWidth",parseFloat(s.toPx(t.attr("PaperWidth"),"mm"),10)),t.attr("PaperHeight")&&this.prop("PaperHeight",parseFloat(s.toPx(t.attr("PaperHeight"),"mm"),10)),t.attr("LeftMargin")&&this.prop("LeftMargin",parseFloat(s.toPx(t.attr("LeftMargin"),"mm"),10)),t.attr("RightMargin")&&this.prop("RightMargin",parseFloat(s.toPx(t.attr("RightMargin"),"mm"),10)),t.attr("TopMargin")&&this.prop("TopMargin",parseFloat(s.toPx(t.attr("TopMargin"),"mm"),10)),t.attr("BottomMargin")&&this.prop("BottomMargin",parseFloat(s.toPx(t.attr("BottomMargin"),"mm"),10)),t.attr("Columns.Width")&&this.prop("Columns.Width",parseFloat(s.toPx(t.attr("Columns.Width"),"mm"),10)),t.attr("Watermark.Image")&&this.prop("Watermark.Image","data:image/png;base64,"+t.attr("Watermark.Image")),this},toXML:function(e){var r=t(n.toXML.apply(this,arguments));return e=i.extend({parentNode:r[0]},e),r.attr("PaperWidth")&&r.attr("PaperWidth",parseFloat(s.toUnit(r.attr("PaperWidth"),"mm"),10)),r.attr("PaperHeight")&&r.attr("PaperHeight",parseFloat(s.toUnit(r.attr("PaperHeight"),"mm"),10)),r.attr("RightMargin")&&r.attr("RightMargin",parseFloat(s.toUnit(r.attr("RightMargin"),"mm"),10)),r.attr("LeftMargin")&&r.attr("LeftMargin",parseFloat(s.toUnit(r.attr("LeftMargin"),"mm"),10)),r.attr("TopMargin")&&r.attr("TopMargin",parseFloat(s.toUnit(r.attr("TopMargin"),"mm"),10)),r.attr("BottomMargin")&&r.attr("BottomMargin",parseFloat(s.toUnit(r.attr("BottomMargin"),"mm"),10)),r.attr("Columns.Width")&&r.attr("Columns.Width",parseFloat(s.toUnit(r.attr("Columns.Width"),"mm"),10)),r.attr("Watermark.Image")&&r.attr("Watermark.Image",r.attr("Watermark.Image").replace(/^([\w:\/;]+base64,){1}/,"")),this.bands.eachEntity(function(t){var i=t.toXML(e);i&&r.append(i)}),t.each(this.unparsed,function(){r.append(this)}),r[0]}})}),define("res-units/ContextMenu",["jquery","EventEmitter"],function(t,e){"use strict";function i(r,o,s,a){var l,c,u,h,p,d,f,g=t("<div>"),m=document.body,v=t(m),b=require("head").$main,y=b[0].getBoundingClientRect();if(!s||!s.length)return null;for(f=s.length,g.addClass("d-cm"),n=function(t){27===t.keyCode&&g.remove()},c=r.pageX-y.left-m.scrollLeft,l=r.pageY-y.top-m.scrollTop,g.css({left:c,top:l}),o&&(h=t("<div>"),h.addClass("d-cm-item d-cm-title"),h.text(o),g.append(h)),p=0;p<f;p+=1)d=s[p],"separator"!==d.type?(u=t("<div>"),u.addClass("d-cm-item"),u.addClass("d-cm-"+d.type),d.curVal&&u.addClass("d-cm-checked"),d.disabled&&u.addClass("disabled"),u.append('<span class="d-cm-text">'+d.name+"</span>"),u.data("item",d),d.shortcut&&u.append('<span class="d-cm-shortcut">'+d.shortcut+"</span>"),g.append(u)):g.append('<hr class="d-cm-separator"/>');return require("head").put(g),v.height()<g.height()+l&&g.css("top",v.height()-g.height()-5),v.width()<g.width()+c&&g.css("left",v.width()-g.width()-5),g.on(a||"mousedown",".d-cm-item",function(n){var r,o,s=t(this),a=s.data("item");return a&&s.is(":not(.disabled)")&&(a.closeAfter&&e.trigger("remove-context-menus"),"checkbox"===a.type?(a.curVal=!a.curVal,s[a.curVal?"addClass":"removeClass"]("d-cm-checked"),a.onChange&&a.onChange(a)):"list"===a.type?(r=s.data("cm"),r?(r.remove(),s.data("cm",null)):(r=i(n,null,"function"==typeof a.items?a.items(a):a.items),o=s[0].getBoundingClientRect(),r.css({left:o.left+o.width,top:o.top}),s.data("cm",r),g.after(r))):"default"===a.type&&a.onClick&&a.onClick(a)),!1}),g}var n;return t(document.body).on("keydown",function(){"function"==typeof n&&n.apply(this,arguments)}),i}),define("properties/Base",["jquery","config","utils","EventEmitter","unit"],function(t,e,i,n,r){"use strict";function o(t){return t.split(":").filter(function(t){return!/^[\s]*$/.test(t)&&t})}function s(e,n){var r,s,a,l={},c=e,u={};if(t.isPlainObject(e))e=i.extend({},e),c=e.prop,r=o(e.prop),delete e.prop,l=e;else{if("string"!=typeof e)return null;r=o(e)}return r.forEach(function(e,i){return 0===i?(s=t.extend(!0,{},n[e]),u[e]=s,void(a=u[e])):(s&&(s=s[e]||s.fields&&s.fields[e]),a.fields={},a.fields[e]=s,a.fields[e]||(r[i+1]?a.fields[e]={label:e,fields:{}}:a.fields[e]={type:"text",label:e}),void(a=a.fields[e]))}),i.extend(a,l,!0),a.origin=c,u}function a(t,e){var i=0,n=[],r=t&&t.length;if(r)for(;i<r;i+=1)n.push(s(t[i],e));return n}function l(t){var e,n,r,o,s,a,l,c,u=[],h=[];for(n=0,o=t.length;n<o;n+=1)for(e=t[n],a=Object.keys(e),r=0,s=a.length;r<s;r+=1)l=a[r],c=h.indexOf(l),c>-1?i.extend(u[c],e[l],!0):(h.push(l),u.push(e[l]));return u}function c(t,e){for(var i=e.length;i--;)t.removeByValue(e[i]);return t}function u(){}var h=Array.prototype.push;u.prototype=Object.create(Array.prototype);var p={_topProps:function(){return{attrs:{min:0,step:function(){return r.toUnit(e.get("grid"))}},afterSetValue:function(){var t=this.collection&&this.collection.container;t&&n.trigger("balance-band",t)}}},_leftProps:function(){return{attrs:{min:0,step:function(){return r.toUnit(e.get("grid"))}}}},_font:function(t){t=t||"";var i=t+"Font.Name",r=t+"Font.Size",o=t+"Font.Bold",s=t+"Font.Italic",a=t+"Font.Strikeout",l=t+"Font.Underline",c={label:"Font",fields:{}},u=c.fields;return u[i]={type:"select",label:"Name",collection:function(){return e.get("font-names")},defaultValue:e.get("default-font-name"),setValue:function(t,e){n.trigger("font-name",e,this)}},u[r]={type:"text",label:"Size",defaultValue:10,getValue:function(){return this.attr(r)}},u[o]={type:"checkbox",label:"Bold",defaultValue:!1},u[s]={type:"checkbox",label:"Italic",defaultValue:!1},u[a]={type:"checkbox",label:"Strikeout",defaultValue:!1},u[l]={type:"checkbox",label:"Underline",defaultValue:!1},c},factory:function(t,e){var i=new u;return e=e||this.data,i.raw=a(t,e),h.apply(i,l(i.raw)),i.origin=[].concat(t),i.data=e,i}};return u.prototype.append=function(e){this.length=0,h.apply(this,p.factory(t.merge(this.origin||[],e),this.data))},u.prototype.remove=function(t){this.length=0,h.apply(this,p.factory(c(this.origin,t),this.data))},u.prototype.rebuild=function(e,i){this.origin=c(t.merge(this.origin||[],e),i),this.length=0,h.apply(this,p.factory(this.origin,this.data))},p}),define("properties/properties",["jquery","config","utils","properties/Base","EventEmitter","queue","data/dataTypes"],function(t,e,i,n,r,o,s){"use strict";var a=e.get("dasharrays"),l=i.object(n,{data:{Appearance:{label:"Appearance",fields:{Border:{label:"Border",fields:{"Border.Color":{label:"Color",type:"color"},"Border.Width":{label:"Width",type:"number"},"Border.Style":{label:"Style",type:"select",collection:a},BottomLine:{label:"BottomLine",fields:{"Border.BottomLine.Color":{label:"Color",type:"color"},"Border.BottomLine.Style":{label:"Style",type:"select",collection:a},"Border.BottomLine.Width":{label:"Width",type:"number",defaultValue:1}}},LeftLine:{label:"LeftLine",fields:{"Border.LeftLine.Color":{label:"Color",type:"color"},"Border.LeftLine.Style":{label:"Style",type:"select",collection:a},"Border.LeftLine.Width":{label:"Width",type:"number",defaultValue:1}}},RightLine:{label:"RightLine",fields:{"Border.RightLine.Color":{label:"Color",type:"color"},"Border.RightLine.Style":{label:"Style",type:"select",collection:a},"Border.RightLine.Width":{label:"Width",type:"number",defaultValue:1}}},TopLine:{label:"TopLine",fields:{"Border.TopLine.Color":{label:"Color",type:"color"},"Border.TopLine.Style":{label:"Style",type:"select",collection:a},"Border.TopLine.Width":{label:"Width",type:"number",defaultValue:1}}},"Border.Shadow":{label:"Shadow",type:"checkbox"},"Border.ShadowColor":{label:"ShadowColor",type:"color"},"Border.ShadowWidth":{label:"ShadowWidth",type:"number"}}},Fill:{label:"Fill",fields:{"Fill.Blend":{type:"number",label:"Blend",attrs:{min:0,max:1,step:.1}},"Fill.Color":{type:"color",label:"Color",getValue:function(){return this.prop("Fill.Color")||this.$moveBlock.css("fill")}},"Fill.Hatch":{type:"checkbox",label:"Hatch"}}},Font:n._font(),HorzAlign:{type:"select",label:"HorzAlign",collection:["Left","Center","Right","Justify"]},TextFill:{label:"TextFill",fields:{"TextFill.Color":{type:"color",label:"Color",getValue:function(){return this.prop("TextFill.Color")||this.$textNode.css("fill")}}}},Underlines:{label:"Underlines",type:"checkbox"},VertAlign:{label:"VertAlign",type:"select",collection:["Top","Center","Bottom"]},Columns:{label:"Columns",fields:{"Columns.Count":{label:"Count",extraLabel:"Columns count",type:"number",attrs:{min:0}},"Columns.Layout":{label:"Layout",type:"select",collection:["AcrossThenDown","DownThenAcross"]},"Columns.MinRowCount":{label:"MinRowCount",type:"number"},"Columns.Position":{label:"Position",type:"number"},"Columns.Width":{label:"Width",extraLabel:"Columns width",type:"unit",attrs:{min:0}}}}}},Behavior:{label:"Behavior",fields:{BreakTo:{type:"select",label:"BreakTo",collection:function(){var t,e=this,i=[""],n=["TableObject","MatrixObject"],r=function(t){e!==t&&i.push(t)};return"TableCell"===this.type?(t=this.getTable().collection.container,t.components.eachEntity(function(t){n.indexOf(t.type)>-1&&t._eachCell(function(t,e){r(e)})})):(t=this.collection.container,"TableCell"===t.type&&(t=t.getTable().collection.container),t.components.eachEntity(function(t){n.indexOf(t.type)>-1?t._eachCell(function(t,e){r(e)}):t.type===e.type&&r(t)})),i}},PrintOn:{type:"select",label:"PrintOn",multiple:!0,collection:["FirstPage","LastPage","OddPages","EvenPages","RepeatedBand","SinglePage"]}}},Data:{label:"Data",fields:{Text:{type:"text",label:"Text",expression:!0,exprMenu:!0},Highlight:{type:"fr-highlight",label:"Highlight"},Image:{type:"file",label:"Image"},ImageLocation:{type:"url",label:"ImageLocation"},DataType:{label:"DataType",type:"select",collection:function(){return s.all()},setValue:function(t,e){var i=s.getByName(e);o.push({context:this,func:function(e){this.prop(t,e),r.trigger("update-data-panel")},undoData:[this.prop(t)],redoData:[i]}),this.prop(t,i),r.trigger("update-data-panel")}}}},Design:{label:"Design",fields:{Name:{label:"(Name)",extraLabel:"Name",type:"text",afterSetValue:function(){r.trigger("update-info"),this.updateTreeView(),r.trigger("update-data-panel")}},Alias:{label:"Alias",type:"text",getValue:function(t){return this.prop(t)||this.prop("Name")},setValue:function(t,e){this.prop(t,e===this.prop("Name")?"":e,!0)},afterSetValue:function(){r.trigger("update-data-panel")}},Restrictions:{label:"Restrictions",type:"select",multiple:!0,collection:["DontMove","DontResize","DontModify","DontEdit","DontDelete","HideAllProperties"],setValue:function(t,e){function i(){s.hasHiddenProperties()?s.fieldMap=l.factory([]):s.canModify()?s.fillMap():s.fieldMap=l.factory(["Design:Restrictions"]),r.trigger("update-properties-panel",s)}var n=this.prop(t),s=this;o.push({func:function(e){s.prop(t,e),i()},undoData:[n],redoData:[e]}),this.prop(t,e),i()},afterSetValue:function(){r.trigger("update-properties-panel",this)}}}},Layout:{label:"Layout",fields:{Anchor:{label:"Anchor",type:"select",multiple:!0,collection:["Top","Left","Right","Bottom"]},Dock:{label:"Dock",type:"select",collection:["None","Top","Left","Fill","Right","Bottom"]},Height:i.extend(n._topProps(),{label:"Height",type:"unit"}),Left:i.extend(n._leftProps(),{label:"Left",type:"unit"}),Padding:{label:"Padding",fields:{"Padding.All":{type:"number",label:"All",afterSetValue:function(t,e){this.prop({"Padding.Top":e,"Padding.Right":e,"Padding.Bottom":e,"Padding.Left":e}),r.trigger("update-properties-panel",this)}},"Padding.Bottom":{type:"number",label:"Bottom"},"Padding.Left":{type:"number",label:"Left"},"Padding.Right":{type:"number",label:"Right"},"Padding.Top":{type:"number",label:"Top"}}},Top:i.extend(n._topProps(),{type:"unit",label:"Top"}),Width:i.extend(n._leftProps(),{type:"unit",label:"Width"})}}}});return l}),define("Component",["jquery","config","utils","Entity","StateMachine","l10n","EventEmitter","res-units/ContextMenu","properties/properties"],function(t,e,i,n,r,o,s,a,l){
"use strict";return i.object(n,{SM:new r,_init:function(t){this._id=t||"ct"+i.guid(),this.prop({Width:50,Height:50}),this.attr({opacity:1,activated:!1,removeable:!0,copyable:!0,minWidth:10,minHeight:10,resizableX:!0,resizableY:!0,resizableXY:!0,movable:!0,selectable:!0})},fillMap:function(){this.fieldMap=l.factory(["Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Padding","Layout:Top","Layout:Width"])},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t.prop("Name",t.formName()),this.SM.add(t),s.trigger("component-created",t),t},clone:function(){var t=n.clone.apply(this,arguments);return t.attr("activated",!1),t.deleteAttr("group"),t.deleteProp("GroupIndex"),t.collection=this.collection,t},resizingComponents:function(){var n,r,o,s=this,a=e.get("circleButtonWidth"),l=e.get("circleButtonHeight"),c=this.prop("Width"),u=this.prop("Height"),h=this.attr("resizableX"),p=this.attr("resizableY"),d=this.attr("resizableXY");this.resizingElements=[{className:"nw-resize",enabled:d,coord:[0,0],vert:!0,horz:!0,hidden:!1},{className:"n-resize",enabled:p,coord:[c/2,0],vert:!0,horz:!1,hidden:!1},{className:"ne-resize",enabled:d,coord:[c,0],vert:!0,horz:!0,hidden:!1},{className:"e-resize",enabled:h,coord:[c,u/2],vert:!1,horz:!0,hidden:!1},{className:"se-resize",enabled:d,coord:[c,u],vert:!0,horz:!0,hidden:!1},{className:"s-resize",enabled:p,coord:[c/2,u],vert:!0,horz:!1,hidden:!1},{className:"sw-resize",enabled:d,coord:[0,u],vert:!0,horz:!0,hidden:!1},{className:"w-resize",enabled:h,coord:[0,u/2],vert:!1,horz:!0,hidden:!1}];var f,g=this.resizingElements.length;if(!this.$resizing)for(this.$resizing=t(),f=0;f<g;f+=1)n=t(i.createNS("g",{class:"resizing-component fr-hidden"})),r=t(i.createNS("rect",{class:this.resizingElements[f].className})),o=i.createNS("use"),i.xAttr(o,"xlink:href","#d-button-circle"),n.append(o,r),s.$resizing.push(n),s.$controlElements.append(n),r.css("fill","transparent"),r.attr({width:2*a,height:2*l});for(f=0;f<g;f+=1)o=this.resizingElements[f],o.enabled?i.attr(this.$resizing[f][0],"transform","translate({0},{1})".format(o.coord[0]-a,o.coord[1]-l)):this.$resizing[f].remove();return this},hideResizingComponents:function(){t.each(this.$resizing||[],function(t,e){e&&e.addClass("fr-hidden")})},showResizingComponents:function(t){var i,n,r=0,o=this.$resizing||[],s=o.length,a=this.resizingElements||[],l=this.prop("Height"),c=this.prop("Width");for(r=0;r<s;r+=1)i=o[r],!i||a[r]&&a[r].hidden||i.removeClass("fr-hidden");if(t)for(r=0;r<s;r+=1)i=o[r],n=a[r],i&&n&&(n.horz&&!n.vert&&l<e.get("minComponentHeightForResizingElements")||n.vert&&!n.horz&&c<e.get("minComponentWidthForResizingElements"))&&i.addClass("fr-hidden")},appendEdges:function(){var n=this,r=e.get("polylineWidth"),o=this.prop("Width")-r,s=this.prop("Height")-r;return this.$edges||(this.$edges=t(),t.each(["0 "+r+", 0 0, "+r+" 0","0 0, "+r+" 0, "+r+" "+r,"0 0, 0 "+r+", "+r+" "+r,"0 "+r+", "+r+" "+r+", "+r+" 0"],function(r,o){var s=t(i.createNS("g")),a=t(i.createNS("polyline",{fill:e.get("polylineFill"),stroke:e.get("polylineStroke"),"stroke-width":e.get("polylineStrokeWidth")}));s.append(a),a.attr("points",o),n.$edges.push(s),n.$controlElements.append(s)})),i.attr(this.$edges[0][0],"transform","translate(0, 0)"),i.attr(this.$edges[1][0],"transform","translate("+o+", 0)"),i.attr(this.$edges[2][0],"transform","translate(0, "+s+")"),i.attr(this.$edges[3][0],"transform","translate("+o+", "+s+")"),this},appendBorders:function(){var n=this,r=this.prop("Border.Lines"),o=this.prop("Border.Color"),s=this.prop("Border.Width"),a=this.prop("Border.Style"),l=this.prop("Border.Shadow"),c=this.prop("Border.ShadowWidth"),u=this.prop("Border.ShadowColor"),h=[],p=this.prop("Width"),d=this.prop("Height"),f=function(t){n.$borders[t]&&(n.$borders[t].remove(),delete n.$borders[t])};return this.$borders||(this.$borders={}),r&&"None"!==r&&(h=r.split(/,[\s]?/)),h.length?t.each(function(){var i={},r=e.get("dasharrays");return t.inArray("All",h)===-1&&t.inArray("Top",h)===-1||(i.top={x1:.5,x2:p,y1:.5,y2:.5,color:n.prop("Border.TopLine.Color")||o,width:n.prop("Border.TopLine.Width")||s,dasharray:r[n.prop("Border.TopLine.Style")||a]}),t.inArray("All",h)===-1&&t.inArray("Right",h)===-1||(i.right={x1:p,x2:p,y1:.5,y2:d,color:n.prop("Border.RightLine.Color")||o,width:n.prop("Border.RightLine.Width")||s,dasharray:r[n.prop("Border.RightLine.Style")||a]}),t.inArray("All",h)===-1&&t.inArray("Bottom",h)===-1||(i.bottom={x1:.5,x2:p,y1:d,y2:d,color:n.prop("Border.BottomLine.Color")||o,width:n.prop("Border.BottomLine.Width")||s,dasharray:r[n.prop("Border.BottomLine.Style")||a]}),t.inArray("All",h)===-1&&t.inArray("Left",h)===-1||(i.left={x1:.5,x2:.5,y1:.5,y2:d,color:n.prop("Border.LeftLine.Color")||o,width:n.prop("Border.LeftLine.Width")||s,dasharray:r[n.prop("Border.LeftLine.Style")||a]}),i}(),function(e,r){n.$borders[e]||(n.$borders[e]=t(i.createNS("line")),n.$controlElements.before(n.$borders[e])),n.$borders[e].attr({x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2}).css({stroke:r.color,"stroke-width":r.width,"stroke-dasharray":r.dasharray})}):(t.each(this.$borders,function(){t(this).remove()}),this.$borders={}),t.inArray("All",h)===-1&&(t.inArray("Left",h)===-1&&this.$borders.left&&f("left"),t.inArray("Top",h)===-1&&this.$borders.top&&f("top"),t.inArray("Right",h)===-1&&this.$borders.right&&f("right"),t.inArray("Bottom",h)===-1&&this.$borders.bottom&&f("bottom")),l?(this.$shadow&&this.$shadow.length||(this.$shadow=t(i.createNS("rect"))),this.$shadow.attr({width:p,height:d,x:c,y:c}),this.$shadow.css("fill",u),"transparent"===this.prop("Fill.Color")&&this.$moveBlock.css("fill","#ffffff"),this.$g.prepend(this.$shadow)):this.$shadow&&this.$shadow.length&&this.$shadow.remove(),this},appendPadding:function(){var t,e,n,r,o,s=this.prop("Width"),a=this.prop("Height");return this.attr("withPadding")?(o=this.prop("Padding"),o?(o=o.split(", ")||[],r=+o[0]||0,t=+o[1]||0,e=+o[2]||0,n=+o[3]||0):(r=this.prop("Padding.Left")||0,t=this.prop("Padding.Top")||0,e=this.prop("Padding.Right")||0,n=this.prop("Padding.Bottom")||0),this.prop("Padding.Left",r),this.prop("Padding.Top",t),this.prop("Padding.Right",e),this.prop("Padding.Bottom",n),this.deleteProp("Padding"),s=s-r-e,a=a-t-n,s<0&&(s=0),a<0&&(a=0),i.attr(this.body,"transform","translate("+r+", "+t+")")):i.attr(this.$contentGroup[0],"transform","translate(1,1)"),s+=2,a+=2,this.attr("innerWidth",s),this.attr("innerHeight",a),this.$content&&this.$content.attr({width:s,height:a}),this},setPosition:function(e,n,r){var o=this.collection&&this.collection.container,s=0;return t.isNumeric(e)||(e=this.prop("Left")),t.isNumeric(n)||(n=this.prop("Top")),o&&o.isBand()&&(e<0&&(e=0),s=o.prop("Top")-o.attr("padding"),n+s<0&&(n=-s)),this.prop("Left",e,r),this.prop("Top",n,r),this.attr("right",e+this.prop("Width")),this.attr("bottom",n+this.prop("Height")),i.attr(this.g,"transform","translate({0},{1})".format(e,n)),this.updateCoords&&this.updateCoords(),this},isActivated:function(){return!!this.attr("activated")},isSelectable:function(){return!!this.attr("selectable")},activate:function(){var n,r,o,s;if(!this.isSelectable())return this;if(!this.isActivated()&&(i.addClass(this.g,"selected"),this.attr("activated",!0),this.$edges&&(n=e.get("selectedPolylineStrokeWidth"),this.$edges.each(function(){i.attr(t(this).find("polyline")[0],{"stroke-width":n})})),this.showResizingComponents(!0),r=this.prop("GroupIndex"),o=this.attr("group"),r&&o))for(s=o.length;s--;)o[s]!==this&&o[s].activate();return this},deactivate:function(){var n;return this.isActivated()&&(i.removeClass(this.g,"selected"),this.attr("activated",!1),this.$edges&&(n=e.get("polylineStrokeWidth"),this.$edges.each(function(){i.attr(t(this).find("polyline")[0],{"stroke-width":n})})),this.hideResizingComponents()),this},createMoveBlock:function(){var n=e.get("rectButtonWidth"),r=e.get("rectButtonHeight"),o=t(i.createNS("g",{class:"move"})),s=t(i.createNS("rect")),a=i.createNS("use");return i.xAttr(a,"xlink:href","#d-button-rect"),s.attr({width:2*n,height:2*r,x:-(n/2),y:-(r/2)}),i.attr(o[0],"transform","translate(1,"+-(r-1)+")"),o.append(a,s),o},renderContainer:function(e,n){return this.$g||(this.g=i.createNS("g",{class:"component "+(this.type||"")}),this.$g=t(this.g),this.controlElements=i.createNS("g"),this.$controlElements=t(this.controlElements),this.body=i.createNS("g"),this.$body=t(this.body),this.content=i.createNS("svg",{class:"move"}),this.$content=t(this.content),this.$contentGroup=t(i.createNS("g")),this.$sticks=t(i.createNS("g")),this.$content.append(this.$contentGroup),this.$body.append(this.$content),this.$g.append(this.$body,this.$sticks,this.$controlElements),this.g.component=this),this.setPosition(e,n),this.$g},render:function(e){var n=this.prop("Width"),r=this.prop("Height");return e=e||{},this.renderContainer(e.left,e.top),this.touched?(this.$moveBlock||(this.$moveBlock=this.$workspace=t(i.createNS("rect",{class:"move move-decor"})),this.$g.prepend(this.$moveBlock)),this.$moveBlock.attr({width:n,height:r}),this.$moveBlock.css({opacity:this.attr("opacity"),fill:this.getFillColor()}),this.appendBorders(),this.appendEdges(),this.resizingComponents(),this.appendPadding(),this.attr("bottom",this.prop("Top")+r),this.touched=!1,this.attr("removed")&&(this.attr("removed",!1),i.removeClass(this.g,"fr-hidden")),this.$g):this.$g},remove:function(){return!!n.remove.call(this)&&(this.deactivate(),this.attr("removed",!0),i.addClass(this.g,"fr-hidden"),!0)},isComponent:function(){return!0},isDialogControl:function(){return!1},canBeRemoved:function(){return!0},absoluteTop:function(){var t=this.collection&&this.collection.container;return t?(t.prop("Top")-t.attr("padding")||0)+this.prop("Top"):this.prop("Top")},getContextMenuTitle:function(){return this.toString()},getContextMenuItems:function(){var e=this,i=function(t){return e.onChangeCM(t)};return[{name:o.tr("ComponentMenu CanGrow"),type:"checkbox",curVal:e.prop("CanGrow"),prop:"CanGrow",onChange:i},{name:o.tr("ComponentMenu CanShrink"),type:"checkbox",curVal:e.prop("CanShrink"),prop:"CanShrink",onChange:i},{name:o.tr("ComponentMenu GrowToBottom"),type:"checkbox",curVal:e.prop("GrowToBottom"),prop:"GrowToBottom",onChange:i},{type:"separator"},{name:o.tr("Menu Edit Cut"),type:"default",closeAfter:!0,shortcut:"Ctrl + X",onClick:function(){s.trigger("cut",t(e))}},{name:o.tr("Menu Edit Copy"),type:"default",closeAfter:!0,shortcut:"Ctrl + C",onClick:function(){s.trigger("copy",t(e))}},{name:o.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){s.trigger("paste")},100)}},{name:o.tr("Menu Edit Delete"),type:"default",disabled:!e.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){s.trigger("remove",e)}},{type:"separator"},{name:o.tr("Layout BringToFront"),type:"default",closeAfter:!0,onClick:function(){s.trigger("bring-to-front",e)}},{name:o.tr("Layout SendToBack"),type:"default",closeAfter:!0,onClick:function(){s.trigger("send-to-back",e)}}]},rightClick:function(t){return new a(t,this.getContextMenuTitle(),this.getContextMenuItems(),this.getContextMenuEventName()),!1},createAspectRatio:function(){this.attr("aspectRatio",this.prop("Width")/this.prop("Height"))},calculateARSize:function(t,e){var i=this.attr("minWidth"),n=this.attr("minHeight"),r=this.attr("aspectRatio");return r<1?t=e*r:e=t/r,t>i&&e>n?(this.prop("Width",t),this.prop("Height",e),[t,e]):[i,n]},resizingStart:function(){this.attr("withAspectRatio")&&this.createAspectRatio()},getResizing:function(t){var e,n=function(e){return e=".{0}-resize".format(e),t.is(e)||t.parents(e).length},r=i.nearPoint,o=this.attr("minWidth"),s=this.attr("minHeight"),a=this.attr("withAspectRatio");return t.is(".resizing-component")||t.parents(".resizing-component").length?n("nw")?(e=function(t,e){if(this.canResizeXY()){var i=this.prop("Left"),n=this.prop("Top"),l=r([t-i,e-n]),c=this.prop("Width"),u=this.prop("Height"),h=[];i<t?(t=i+l[0],h[0]=c-l[0]):(t=i-l[0],h[0]=c+l[0]),n<e?(e=n+l[1],h[1]=u-l[1]):(e=n-l[1],h[1]=u+l[1]),a?(h=this.calculateARSize(h[0],h[1]),h[0]>o&&h[1]>s&&this.setPosition(i+c-h[0],n+u-h[1])):(h[0]>=o&&(this.setPosition(t),0===Math.round(this.prop("Left")-t)&&this.prop("Width",h[0])),h[1]>=s&&(this.setPosition(null,e),0===Math.round(this.prop("Top")-e)&&this.prop("Height",h[1])))}},e.dir="nw"):n("n")?(e=function(t,e){if(this.canResizeY()){var i,n=this.prop("Top"),o=r([null,e-n]);n<e?(e=n+o[1],i=this.prop("Height")-o[1]):(e=n-o[1],i=this.prop("Height")+o[1]),i>=s&&(this.setPosition(null,e),0===Math.round(this.prop("Top")-e)&&this.prop("Height",i))}},e.dir="n"):n("ne")?(e=function(t,e){if(this.canResizeXY()){var i,n=this.attr("right"),l=this.prop("Top"),c=r([t-n,e-l]),u=this.prop("Height");l<e?(e=l+c[1],i=u-c[1]):(e=l-c[1],i=u+c[1]),t=n<t?n+c[0]:n-c[0],t-=this.prop("Left"),a?(i=this.calculateARSize(t,i)[1],i>s&&this.setPosition(null,l+u-i)):(i>=s&&(this.setPosition(null,e),0===Math.round(this.prop("Top")-e)&&this.prop("Height",i)),t>o&&this.prop("Width",t))}},e.dir="ne"):n("e")?(e=function(t){if(this.canResizeX()){var e=this.attr("right"),i=r([t-e]);t=e<t?e+i[0]:e-i[0],t-=this.prop("Left"),t>o&&this.prop("Width",t)}},e.dir="e"):n("se")?(e=function(t,e){if(this.canResizeXY()){var i=this.attr("right"),n=this.attr("bottom"),l=r([t-i,e-n]);t=i<t?i+l[0]:i-l[0],t-=this.prop("Left"),e=n<e?n+l[1]:n-l[1],e-=this.prop("Top"),a?this.calculateARSize(t,e):(this.prop("Width",t<o?o:t),this.prop("Height",e<s?s:e))}},e.dir="se"):n("s")?(e=function(t,e){if(this.canResizeY()){var i=this.attr("bottom"),n=r([null,e-i]);e=i<e?i+n[1]:i-n[1],e-=this.prop("Top"),this.prop("Height",e<s?s:e)}},e.dir="s"):n("sw")?(e=function(t,e){if(this.canResizeXY()){var i,n=this.prop("Left"),l=this.attr("bottom"),c=this.prop("Width"),u=r([t-n,e-l]);n<t?(t=n+u[0],i=c-u[0]):(t=n-u[0],i=c+u[0]),e=l<e?l+u[1]:l-u[1],e-=this.prop("Top"),a?(i=this.calculateARSize(i,e)[0],i>o&&this.setPosition(n+c-i)):(i>o&&(this.setPosition(t),0===Math.round(this.prop("Left")-t)&&this.prop("Width",i)),this.prop("Height",e<s?s:e))}},e.dir="sw"):n("w")&&(e=function(t){if(this.canResizeX()){var e,i=this.prop("Left"),n=r([t-i]);i<t?(i+=n[0],e=this.prop("Width")-n[0]):(i-=n[0],e=this.prop("Width")+n[0]),e>o&&(this.setPosition(i),0===Math.round(this.prop("Left")-i)&&this.prop("Width",e))}},e.dir="w"):(t.is(".resizing-line")||t.parents(".resizing-line").length)&&n("se")&&(e=function(t,e){this.canResizeX()&&(t-=this.prop("Left"),this.prop("Width",t)),this.canResizeY()&&(e-=this.prop("Top"),this.prop("Height",e))},e.dir="se"),e}})}),define("ComponentCollection",["utils","Collection"],function(t,e){"use strict";return t.object(e,{add:function(t){t&&(t.collection&&t.collection!==this&&t.collection.remove(t),t.collection=this,this.entities.removeByValue(t),this.entities.push(t),this.container.$components.append(t.$g),this.container.selfTree&&t.selfTree&&this.container.selfTree.$container.append(t.selfTree.$main))},addInStart:function(t){t&&(t.collection&&t.collection!==this&&t.collection.remove(t),t.collection=this,this.entities.removeByValue(t),this.entities.unshift(t),this.container.$components.prepend(t.$g),this.container.selfTree&&t.selfTree&&this.container.selfTree.$container.prepend(t.selfTree.$main))},addInPos:function(t,e){var i;t&&(t.collection&&t.collection!==this&&t.collection.remove(t),t.collection=this,e<0&&(e=0),this.entities.removeByValue(t),i=this.entities[e-1],this.entities.splice(e,0,t),i?i.type===t.type?(i.$g.after(t.$g),i.selfTree&&t.selfTree&&i.selfTree.$main.after(t.selfTree.$main)):(this.entities.removeByValue(t),this.entities.splice(e-1,0,t)):(this.container.$components.prepend(t.$g),this.container.selfTree&&t.selfTree&&this.container.selfTree.$container.prepend(t.selfTree.$main)))},find:function(t){var e;return this.eachEntity(function(i,n){if(i._id===t)return e=[i,n],!1}),e},findLastByType:function(t){var e;return this.eachEntity(function(i,n){i.type===t&&(e=[i,n])}),e},componentsIn:function(e,i){var n=[];return this.eachEntity(function(r){r.attr("selectable")&&t.intersect(e,i,[r.prop("Left"),r.attr("right")],[r.prop("Top"),r.attr("bottom")])&&n.push(r)}),n}})}),define("Band",["jquery","config","utils","l10n","StateMachine","Container","ComponentCollection","BandCollection","EventEmitter","res-units/ContextMenu"],function(t,e,i,n,r,o,s,a,l,c){"use strict";return i.object(o,{SM:new r,_init:function(){this._id="b"+i.guid(),this.prop({Width:718.2,Height:170.08}),this.attr({title:"title",threshold:0,"title-font-size":"1em","title-font-family":require("head").$main.css("font-family"),"title-font-weight":"normal","title-angle":"-90","title-color":"black","fill-blanket":"rgb(90, 90, 90)","fill-title":"#91D4FF",removeable:!0,activated:!1,margin:0,padding:0,layer_defect:0,"separator.color":e.get("default-band-separator-color"),"separator.style":"","separator.width":e.get("band-indent-top")||2,"separator.opacity":e.get("band-indent-opacity")||1})},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t.prop("Name",t.formName()),t.unparsed=[],t.components=s.create(t),t.bands=a.create(t),this.SM.add(t),t},canHaveChildren:function(t){return["ChildBand"].indexOf(t.type||t)>-1},has:function(t){return!!this.bands.findAmongChildrenBy({type:t.type||t}).length},canBeAdded:function(t){var e=t.bands.findAmongChildrenBy({type:this.type});return!(e.length>0)},canBeRemoved:function(){var t=this.collection.getMainCollection().container;return!(1===t.bands.count()&&t.bands.first()===this)},applyRule:function(){return!1},addResizingBandComponent:e.get("resize-bands")?function(){var n,r,o=t(i.createNS("g")),s=t(i.createNS("rect",{class:"resizing-band s-resize"}));return i.isMobile?(n=i.createNS("use"),i.xAttr(n,"xlink:href","#d-resizing-band"),o.append(n,s)):o.append(s),this.$resize.append(o),r={width:e.get("resizingBandBlockWidth"),height:e.get("resizingBandBlockHeight")},s.attr({width:r.width,height:2*r.height,x:0,y:-(r.height/2)}),this.addResizingBandComponent=function(){return i.attr(o[0],"transform","translate(-79, "+Math.abs((this.prop("Height")||r.height)-r.height)+")"),this},this.addResizingBandComponent()}:function(){},separate:function(){var e,n=this.prop("Width"),r=this.prop("Columns.Count"),o=this.prop("Columns.Width"),s=this.getPage(),a=s.prop("Columns.Count"),l=s.prop("Columns.Width");return"undefined"==typeof r&&"undefined"==typeof o?null:("undefined"!=typeof a&&(!r||r in[0,1])?(r=a,o=l):o||(o=n/r),this.$blanket||(this.$blanket=t(i.createNS("rect"))),r&&r>1?(e=n-o,e<0&&(e=0),this.$blanket.attr({width:e,height:this.prop("Height"),x:o,y:0}),this.$blanket.css({fill:this.attr("fill-blanket")}),this.$background.append(this.$blanket)):(this.prop("Width",n),this.$blanket.remove()),this)},appendSeparator:e.get("resize-bands")?function(){var e,n,r=this.attr("separator.color"),o=this.attr("separator.width"),s=this.attr("separator.style"),a=this.attr("separator.opacity"),l=[{color:r,width:o,dasharray:s,opacity:a}],c=0,u=l.length;for(this.$borders||(this.$borders=[]);c<u;c+=1)e=l[c],this.$borders[c]||(this.$borders[c]=t(i.createNS("g"))),n=t("line:first",this.$borders[c]),n.length||(n=t(i.createNS("line",{class:"band-separator"}))),this.$borders[c].append(n),i.attr(this.$borders[c][0],"transform","translate(0,"+(this.prop("Height")+e.width/2-e.width)+")"),n.attr({x1:0,y1:e.width,x2:this.prop("Width")+this.attr("padding"),y2:e.width}),n.css({stroke:e.color,"stroke-width":e.width,"stroke-dasharray":e.dasharray,opacity:e.opacity}),this.$resize.append(this.$borders[c]);return this}:function(){},appendTitle:function(){var n,r,o,s,a,l,c;return e.get("show-band-title")?(n=t(i.createNS("svg")),r=t(i.createNS("g")),o=t(i.createNS("g")),s=t(i.createNS("text")),a=t(i.createNS("rect")),l=t(i.createNS("line")),c=t(i.createNS("line")),this.$title.append(a),o.append(s),r.append(o),n.append(r),this.$title.append(l,n),this.$g.prepend(this.$title),this.appendTitle=function(){var t,u,h=this.attr("separator.color"),p=0,d=this.attr("separator.style"),f=0,g=this.collection,m=this.bands.getCommonHeight(),v=this.prop("Height"),b=this.attr("padding"),y=this.attr("margin")+b;for(e.get("resize-bands")&&(p=this.attr("separator.width"),v+=e.get("band-indent-top")||0);"ReportPage"!==g.container.type;)f+=1,g=g.container.collection;return t=(f+this.attr("layer_defect"))*(b/2),u=y-t,u<0&&(u=0),a.attr({width:u,height:v+m}).css({fill:this.attr("fill-title")}),s.css({"font-size":this.attr("title-font-size"),"font-family":this.attr("title-font-family"),"font-weight":this.attr("title-font-weight"),"text-anchor":"middle"}),l.attr({x1:0,y1:v-p/2,x2:u,y2:v-p/2}).css({stroke:h,"stroke-width":p,"stroke-dasharray":d}),c.attr({x1:0,y1:0,x2:0,y2:v+m,class:"band-separator"}).css({stroke:h,"stroke-width":2,"stroke-dasharray":"8 5"}),s.text(this.toString()),i.attr(s[0],{x:0,y:0,fill:this.attr("title-color")}),n.attr({width:u,height:v+m}),this.toString().width({"font-size":this.attr("title-font-size"),"font-family":this.attr("title-font-family"),"font-weight":this.attr("title-font-weight")})<v?(i.attr(r[0],"transform","translate(20,"+v/2+")"),i.attr(o[0],"transform","rotate("+this.attr("title-angle")+")")):(o.removeAttr("transform"),i.attr(r[0],"transform","translate(0,"+v/1.5+")"),s.css("text-anchor","start")),i.attr(this.$title[0],"transform","translate("+t+", 0)"),0!==t&&this.$title.append(c),this},this.appendTitle()):(this.appendTitle=function(){},null)},setPosition:function(t,e){return i.attr(this.g,"transform","translate("+t+", "+e+")"),this},put:function(t){return t.isComponent()?this.components.add(t.g.component):t.isBand()&&o.put.apply(this,arguments),l.trigger("put-element",t),this},activate:function(){return this.attr("activated")||(i.addClass(this.g,"selected"),this.attr("separator.color",e.get("selected-band-separator-color")),this.appendSeparator(),this.appendTitle(),this.attr("activated",!0)),this},deactivate:function(){return this.attr("activated")&&(i.removeClass(this.g,"selected"),this.attr("separator.color",e.get("default-band-separator-color")),this.appendSeparator(),this.appendTitle(),this.attr("activated",!1)),this},updateThreshold:function(){var t,e=this,i=this.prop("Top")||0;return this.attr("threshold",0),this.components.eachEntity(function(n){t=n.attr("bottom")+i,t>e.attr("threshold")&&e.attr("threshold",t),n.setPosition()}),this.touch(),this},adjust:function(){return this.prop("Top",this.bands.getHeightTo(this,this.attr("padding"))),e.get("resize-bands")?(this.updateThreshold(),this.attr("threshold")>this.prop("Top")+this.prop("Height")&&this.prop("Height",this.attr("threshold")-this.prop("Top"))):this.touch(),this},balance:function(t){var e,i=this.getPage();return t="undefined"!=typeof t?t:this.prop("Height"),this.adjust(),this.render(),e=this.prop("Height"),t!==e&&"undefined"!=typeof e&&(i.bands.after(this,function(t){t.updateThreshold()}),i.balance()),this},renderContainer:function(){return this.$g?this.$g:(this.g=i.createNS("g",{class:"band"}),this.$g=t(this.g),this.g.band=this,this.$body=t(i.createNS("g")),this.$bands=t(i.createNS("g")),this.$title=t(i.createNS("g")),this.$resize=e.get("resize-bands")?t(i.createNS("g",{class:"resizing-band s-resize"})):t(),this.$components=t(i.createNS("g")),this.$background=t(i.createNS("g")),this.$rect=t(i.createNS("rect")),this.$net=t(i.createNS("rect")),this.$background.append(this.$rect,this.$net),this.$workspace=this.$background,this.$body.append(this.$background,this.$resize,this.$components),this.$g.append(this.$title,this.$body,this.$bands),this.$g)},render:function(){var t,n,r,s;return this.touched?(this.renderContainer(),t=this.attr("padding"),n=this.attr("margin"),s=this.prop("Height"),r=this.prop("Width"),i.attr(this.$background[0],"transform","translate("+t+", 0)"),i.attr(this.$components[0],"transform","translate("+t+", 0)"),i.attr(this.$body[0],"transform","translate("+n+", 0)"),i.attr(this.$bands[0],"transform","translate(0,"+(e.get("resize-bands")?s+this.attr("separator.width"):0)+")"),this.$rect.attr({width:r,height:s}),this.$net.attr({width:r,height:s}),this.$rect.css("fill",this.getFillColor()),this.getPage().report.attr("grid")?this.$net.css("fill","url(#d-net)"):this.$net.css("fill",""),this.appendSeparator(),this.addResizingBandComponent(),this.appendTitle(),this.separate(),this.touched=!1,o.render.call(this),this.$g):this.$g},toXML:function(e){var n=t(o.toXML.apply(this,arguments));return e=i.extend({parentNode:n[0]},e),n.removeAttr("Top"),"0"===n.attr("Left")&&n.removeAttr("Left"),this.components.eachEntity(function(t){n.append(t.toXML(e))}),this.bands.count()>0&&this.bands.eachEntity(function(t){var i=t.toXML(e);i&&n.append(i)}),t.each(this.unparsed,function(){n.append(this)}),n[0]},isBand:function(){return!0},getContextMenuTitle:function(){return this.toString()},getContextMenuItems:function(){var t=this,e=function(e){return t.onChangeCM(e)};return[{name:n.tr("Band AddChildBand"),type:"default",closeAfter:!0,disabled:!!t.has("ChildBand"),onClick:function(){l.trigger("add-band","ChildBand",t)}},{name:n.tr("ComponentMenu CanGrow"),type:"checkbox",curVal:t.prop("CanGrow"),prop:"CanGrow",onChange:e},{name:n.tr("ComponentMenu CanShrink"),type:"checkbox",curVal:t.prop("CanShrink"),prop:"CanShrink",onChange:e},{name:n.tr("ComponentMenu CanBreak"),type:"checkbox",curVal:t.prop("CanBreak"),prop:"CanBreak",onChange:e},{type:"separator"},{name:n.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){l.trigger("paste")},100)}},{name:n.tr("Menu Edit Delete"),type:"default",disabled:!t.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){l.trigger("remove",t)}}]},rightClick:function(t){return new c(t,this.getContextMenuTitle(),this.getContextMenuItems(),this.getContextMenuEventName()),!1},fillProps:function(t){return o.fillProps.apply(this,arguments),"undefined"==typeof t.attr("Height")&&this.prop("Height",0),this}})}),define("extensions/guides",["unit","config","ReportPage","Container","Component","Band","res-units/IllusionLine"],function(t,e,i,n,r,o,s){"use strict";function a(t){t.eachEntity(function(t){t.removeFromCoords()})}var l=r._init,c=i.create,u=r.remove,h=r.moving,p=r.resizing,d=r.movingEnd,f=r.resizingEnd,g=r.render;i.create=function(){var t=c.apply(this,arguments);return t.guides={l:{},t:{},r:{},b:{}},t},o.remove=function(){return!!n.remove.apply(this,arguments)&&(a(this.components),this.bands.everyEntity(function(t){a(t.components)}),!0)},r._init=function(){l.apply(this,arguments),this.inCoords={l:[],t:[],r:[],b:[]}},r.remove=function(){return!!u.apply(this,arguments)&&(this.removeFromCoords(),!0)},r.render=function(){var t=g.apply(this,arguments);return this.touched&&this.unstuck(),t},r.moving=function(){h.apply(this,arguments),e.get("guides")&&this.stuck()},r.resizing=function(){p.apply(this,arguments),e.get("guides")&&this.stuck()},r.resizingEnd=function(){f.apply(this,arguments),this.unstuck()},r.movingEnd=function(){d.apply(this,arguments),this.unstuck()},r.removeFromCoords=function(){for(var t,e,i,n,r=this.inCoords,o=Object.keys(r),s=o.length;s--;){for(t=o[s],n=r[t],e=0,i=n.length;e<i;e+=1)n[e].removeByValue(this);r[t].length=0}},r.putIntoCoords=function(){var e=this.getPage(),i=this.absoluteTop(),n=this.inCoords,r=e&&e.guides,o=t.toUnit(this.prop("Left")),s=t.toUnit(i),a=t.toUnit(this.attr("right")),l=t.toUnit(i+this.prop("Height"));return r?(r.l[o]=r.l[o]||[],r.t[s]=r.t[s]||[],r.r[a]=r.r[a]||[],r.b[l]=r.b[l]||[],r.l[o].push(this),r.t[s].push(this),r.r[a].push(this),r.b[l].push(this),n.l.push(r.l[o]),n.t.push(r.t[s]),n.r.push(r.r[a]),void n.b.push(r.b[l])):null},r.updateCoords=function(){this.removeFromCoords(),this.putIntoCoords()},r._getFarest=function(t,e,i){var n,r,o,s,a={},l=0;if(!t)return this;for(i=i||function(){},r=t.length;l<r;l+=1)n=t[l],n!==this&&"in_move"!==n.attr("state")&&(o=e.call(this,n),s=o<0?"a":"b",o=Math.abs(o),(!a[s]||o>a[s].diff)&&(a[s]={diff:o,el:n}));return i(a),this},r.stuck=function(){function e(t){return d-t.absoluteTop()}function i(t){return h-t.prop("Left")}function n(t){var e;t.a&&(t.a=r[o].la.call(c,t.a.el),e=new s(t.a),e.removeClass("fr-hidden"),c.$sticks.append(e)),t.b&&(t.b=r[o].lb.call(c,t.b.el),e=new s(t.b),e.removeClass("fr-hidden"),c.$sticks.append(e))}var r,o,a,l=this.getPage(),c=this,u=l&&l.guides,h=this.prop("Left"),p=this.attr("right"),d=this.absoluteTop(),f=d+this.prop("Height");if(!u)return null;for(r=[{coords:u.l[t.toUnit(h)],d:e,la:function(t){return{x1:0,y1:0,x2:0,y2:t.absoluteTop()-d}},lb:function(t){return{x1:0,y1:0,x2:0,y2:-(d-t.absoluteTop())}}},{coords:u.r[t.toUnit(h)],d:e,la:function(t){return{x1:0,y1:0,x2:0,y2:t.absoluteTop()-d}},lb:function(t){return{x1:0,y1:0,x2:0,y2:-(d-t.absoluteTop())}}},{coords:u.l[t.toUnit(p)],d:e,la:function(t){var e=this.prop("Width");return{x1:e,y1:0,x2:e,y2:t.absoluteTop()-d}},lb:function(t){var e=this.prop("Width");return{x1:e,y1:0,x2:e,y2:-(d-t.absoluteTop())}}},{coords:u.r[t.toUnit(p)],d:e,la:function(t){var e=this.prop("Width");return{x1:e,y1:0,x2:e,y2:t.absoluteTop()-d}},lb:function(t){var e=this.prop("Width");return{x1:e,y1:0,x2:e,y2:-(d-t.absoluteTop())}}},{coords:u.t[t.toUnit(d)],d:i,la:function(t){return{x1:0,y1:0,x2:t.prop("Left")-h,y2:0}},lb:function(t){return{x1:0,y1:0,x2:-(h-t.prop("Left")),y2:0}}},{coords:u.b[t.toUnit(d)],d:i,la:function(t){return{x1:0,y1:0,x2:t.prop("Left")-h,y2:0}},lb:function(t){return{x1:0,y1:0,x2:-(h-t.prop("Left")),y2:0}}},{coords:u.t[t.toUnit(f)],d:i,la:function(t){var e=this.prop("Height");return{x1:0,y1:e,x2:t.prop("Left")-h,y2:e}},lb:function(t){var e=this.prop("Height");return{x1:0,y1:e,x2:-(h-t.prop("Left")),y2:e}}},{coords:u.b[t.toUnit(f)],d:i,la:function(t){var e=this.prop("Height");return{x1:0,y1:e,x2:t.prop("Left")-h,y2:e}},lb:function(t){var e=this.prop("Height");return{x1:0,y1:e,x2:-(h-t.prop("Left")),y2:e}}}],this.unstuck(),o=0,a=r.length;o<a;o+=1)this._getFarest(r[o].coords,r[o].d,n);return this},r.unstuck=function(){return this.$sticks.empty(),this}}),define("component-modules/Condition",["jquery","utils","Entity"],function(t,e,i){"use strict";return e.object(i,{type:"Condition",_init:function(){},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t}})}),define("component-modules/Highlight",["jquery","utils","Entity","component-modules/Condition","Collection"],function(t,e,i,n,r){"use strict";return e.object(i,{type:"Highlight",_init:function(){this._id="highlight"+e.guid(),this.conditions=r.create(this)},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t},fillProps:function(e){i.fillProps.apply(this,arguments);var r,o=e.find("> Condition"),s=this;return o.length&&t.each(o,function(){r=n.create(),r.fillProps(t(this)),s.conditions.add(r)}),this},toXML:function(n){var r=t(i.toXML.apply(this,arguments));return n=e.extend({parentNode:r[0]},n),this.conditions&&this.conditions.eachEntity(function(t){r.append(t.toXML(n))}),r[0]}})}),define("TextComponent",["jquery","utils","Component","component-modules/Highlight"],function(t,e,i,n){"use strict";return e.object(i,{applyFontStyles:function(t,e){var i="";e=e||"",t.css({"font-weight":this.attr(e+"Font.Bold")?"bold":"","font-style":this.attr(e+"Font.Italic")?"italic":""}),this.attr(e+"Font.Strikeout")&&(i+="line-through",i+=" "),this.attr(e+"Font.Underline")&&(i+="underline"),t.css("text-decoration",i)},fillMap:function(){i.fillMap.call(this),this.fieldMap.append(["Data:Text"])},parseApplyFont:function(t,e){var i,n,r,o,s,a=[];e=e||"";var l=function(t){return t&&t.trim()};if(t){for(t=t.split(","),r=0,o=t.length;r<o;r+=1){if(s=t[r].trim(),/^style=/.test(s)){a.push(s.substr(6)),a=a.concat(t.slice(r+1).map(l));break}isNaN(parseInt(s,10))?i=s:n=s}i&&this.attr(e+"Font.Name",i),n&&this.attr(e+"Font.Size",n),a.length&&(~a.indexOf("Bold")&&this.attr(e+"Font.Bold",!0),~a.indexOf("Italic")&&this.attr(e+"Font.Italic",!0),~a.indexOf("Underline")&&this.attr(e+"Font.Underline",!0),
~a.indexOf("Strikeout")&&this.attr(e+"Font.Strikeout",!0))}this.deleteProp(e+"Font")},fillFont:function(t,e){e=e||"",this.parseApplyFont(t.attr(e+"Font"),e)},bindFontView:function(t,e){e=e||"";var i,n=e+"Font.Name",r=e+"Font.Size",o=e+"Font.Bold",s=e+"Font.Italic",a=e+"Font.Underline",l=e+"Font.Strikeout";return!(!this.attr(n)||(i="",i+=this.attr(n),this.attr(r)&&(i+=", "+this.attr(r)),(this.attr(o)||this.attr(s)||this.attr(a)||this.attr(l))&&(i+=", style=",this.attr(o)&&(i+="Bold,"),this.attr(s)&&(i+="Italic,"),this.attr(a)&&(i+="Underline,"),this.attr(l)&&(i+="Strikeout"),","===i[i.length-1]&&(i=i.substring(0,i.length-1))),!i))&&(t.attr(e+"Font",i),!0)},fillProps:function(e){i.fillProps.apply(this,arguments),this.fillFont(e),this.prop("Text")&&this.prop("Text",this.prop("Text").toString().fromASCIICode());var r,o=e.find("> Highlight"),s=this;return o.length&&this.highlights&&t.each(o,function(){r=n.create(),r.fillProps(t(this)),s.highlights.add(r)}),this},toXML:function(e){var n=t(i.toXML.apply(this,arguments));return e=t.extend({parentNode:n[0]},e),"#000000"===this.prop("TextFill.Color")&&n.removeAttr("TextFill.Color"),this.prop("Text")&&n.attr("Text",this.prop("Text").replace(/\n/gm,"\r\n").toASCIICode()),this.bindFontView(n),this.highlights&&this.highlights.eachEntity(function(t){n.append(t.toXML(e))}),n[0]}})}),define("Control",["jquery","config","TextComponent","StateMachine","utils","l10n","EventEmitter"],function(t,e,i,n,r,o,s){"use strict";return r.object(i,{_init:function(){i._init.apply(this,arguments),this._id="cnt"+r.guid()},isDialogControl:function(){return!0},getContextMenuItems:function(){var e=this;return[{name:o.tr("ComponentMenu Edit"),type:"default",closeAfter:!0,onClick:function(){s.trigger("activate",e),e.dblclick()}},{type:"separator"},{name:o.tr("Menu Edit Cut"),type:"default",closeAfter:!0,shortcut:"Ctrl + X",onClick:function(){s.trigger("cut",t(e))}},{name:o.tr("Menu Edit Copy"),type:"default",closeAfter:!0,shortcut:"Ctrl + C",onClick:function(){s.trigger("copy",t(e))}},{name:o.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){s.trigger("paste")},100)}},{name:o.tr("Menu Edit Delete"),type:"default",disabled:!e.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){s.trigger("remove",e)}},{type:"separator"},{name:o.tr("Layout BringToFront"),type:"default",closeAfter:!0,onClick:function(){s.trigger("bring-to-front",e)}},{name:o.tr("Layout SendToBack"),type:"default",closeAfter:!0,onClick:function(){s.trigger("send-to-back",e)}}]}})}),define("res-units/Tooltip",["jquery"],function(t){"use strict";return function(){var e=t("<div>"),i=t("<span>");return e.addClass("d-tooltip"),e.append(i),e}}),define("extensions/positionBlock",["utils","unit","Component","Control","res-units/Tooltip"],function(t,e,i,n,r){"use strict";var o,s=i.moving,a=i.movingEnd,l=i.remove;t.extend(i,{showPositionBlock:function(t){var i,n,s,a=this.$moveBlock[0].getBoundingClientRect(),l=this.prop("Left").toFixed(2),c=this.absoluteTop().toFixed(2);return o=o||require("head"),n=o.$main,s=n[0].getBoundingClientRect(),this.$posTip||(this.$posTip=new r,o.put(this.$posTip),this.$posTip.height(20)),this.$posTip.css({left:a.left-s.left,top:a.top-25-s.top}),i=this.$posTip.find("span"),t?i.html(e.toUnit(l)+", "+e.toUnit(c)):i.html(l+", "+c),this},hidePositionBlock:function(){return this.$posTip&&(this.$posTip.remove(),delete this.$posTip),this},remove:function(){var t=l.apply(this,arguments);return t&&this.hidePositionBlock(),t},moving:function(){s.apply(this,arguments),this.showPositionBlock(!0)},movingEnd:function(){a.apply(this,arguments),this.hidePositionBlock()}}),n.moving=function(){this.showPositionBlock()}}),define("res-units/Ruler",["jquery","utils","unit"],function(t,e,i){"use strict";return function(n){var r={cm:1,mm:10,hi:100,in:1};this.width=0,this.height=0,this.render=function(o){var s,a,l=r[i.getCurrent()],c=parseFloat(i.toPx(l),10),u=c/2,h=0,p=0;if(o=o||{},this.width=o.left||0,this.height=o.top||0,this.$g||(this.$g=t(e.createNS("g",{class:"ruler"})),this.$back=t(e.createNS("rect",{class:"ruler-back"})),this.$rulerBack=t(e.createNS("rect",{class:"ruler-m-back"})),this.$marks=t(e.createNS("g")),this.$g.append(this.$back,this.$marks)),this.$marks.empty(),this.$marks.append(this.$rulerBack),n){for(e.attr(this.$g[0],"text-anchor","end"),e.attr(this.$marks[0],"transform","translate(5, 0)");p<this.width;p+=c,h+=l)s=e.createNS("text"),a=e.createNS("text"),t(s).text(h||" "),e.attr(s,"transform","translate(8, "+(p+3)+")"),this.$marks.append(s),t(a).text("."),e.attr(a,"transform","translate(5, "+(p+u)+")"),this.$marks.append(a);this.$marks.find(":last").remove(),e.attr(this.$back[0],{width:this.height,height:this.width}),e.attr(this.$rulerBack[0],{width:this.height/2,height:this.width})}else{for(e.attr(this.$g[0],"text-anchor","middle"),e.attr(this.$marks[0],"transform","translate(0, 5)");p<this.width;p+=c,h+=l)s=e.createNS("text"),a=e.createNS("text"),t(s).text(h||" "),e.attr(s,"transform","translate("+p+", 8)"),this.$marks.append(s),t(a).text("."),e.attr(a,"transform","translate("+(p+u)+", 5)"),this.$marks.append(a);this.$marks.find(":last").remove(),e.attr(this.$back[0],{width:this.width,height:this.height}),e.attr(this.$rulerBack[0],{width:this.width,height:this.height/2})}return this.$g}}}),define("extensions/ruler",["utils","ReportPage","Band","res-units/Ruler"],function(t,e,i,n){"use strict";var r=18,o=e.render,s=i.render;e.render=function(){o.apply(this,arguments),this.ruler?this.ruler.render({left:this.attr("Width"),top:r}):(this.ruler=new n,this.$g.append(this.ruler.render({left:this.attr("Width"),top:r})),t.attr(this.ruler.$g[0],"transform","translate("+(this.attr("margin")+this.attr("padding"))+", 0)"))},i.render=function(){s.apply(this,arguments),this.ruler||(this.ruler=new n(!0),this.ruler.render({left:this.prop("Height"),top:r}),this.$title.after(this.ruler.$g)),this.ruler.render({left:this.prop("Height"),top:r}),t.attr(this.ruler.$g[0],"transform","translate("+this.attr("margin")+", 0)")}}),define("bands/ReportTitleBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands ReportTitle",info:"ReportTitleBandInfo",icon:"icon-154",pos:10,type:"ReportTitleBand",_init:function(){e._init.call(this),this.prop("Name","ReportTitle"),this.attr("pos",10)}})}),define("bands/ReportSummaryBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands ReportSummary",info:"ReportSummaryBandInfo",icon:"icon-155",pos:20,type:"ReportSummaryBand",_init:function(){e._init.call(this),this.prop("Name","ReportSummary"),this.attr("pos",60)}})}),define("bands/PageHeaderBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands PageHeader",info:"PageHeaderBandInfo",icon:"icon-156",pos:30,type:"PageHeaderBand",_init:function(){e._init.call(this),this.prop("Name","PageHeader"),this.attr("pos",20)}})}),define("bands/PageFooterBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands PageFooter",info:"PageFooterBandInfo",icon:"icon-157",pos:40,type:"PageFooterBand",_init:function(){e._init.call(this),this.prop("Name","PageFooter"),this.attr("pos",70)}})}),define("bands/ColumnHeaderBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands ColumnHeader",info:"ColumnHeaderBandInfo",icon:"icon-158",pos:50,type:"ColumnHeaderBand",_init:function(){e._init.call(this),this.prop("Name","ColumnHeader"),this.attr("pos",30)}})}),define("bands/ColumnFooterBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands ColumnFooter",info:"ColumnFooterBandInfo",icon:"icon-159",pos:60,type:"ColumnFooterBand",_init:function(){e._init.call(this),this.prop("Name","ColumnFooter"),this.attr("pos",50)}})}),define("bands/DataHeaderBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands DataHeader",info:"DataHeaderBandInfo",icon:"icon-160",pos:70,type:"DataHeaderBand",_init:function(){e._init.call(this),this.defaultValues={SortOrder:"Ascending"},this.prop("Name","DataHeader"),this.attr({pos:34,layer_defect:-1})},render:function(){return e.render.apply(this,arguments),this.attr("fill-title",this._parent.attr("fill-title")),this.$g}})}),define("res-units/PopupTabs",["jquery","utils"],function(t,e){"use strict";return function(i){return e.render("modal-tabs",{tabs:i}).done(function(e){var i=t(".fr-modal-tabs-content",e);e.on("click",".fr-modal-tabs-item",function(){var e=t(this);e.parent().find(".active").removeClass("active"),e.addClass("active"),i.find(".active").removeClass("active"),i.find("."+e.attr("data-block")).addClass("active")})})}}),define("bands/DataBand",["jquery","utils","Band","l10n","EventEmitter","expression","res-units/Popup","res-units/PopupTabs"],function(t,e,i,n,r,o,s,a){"use strict";function l(i){var n=i.attr("Sort");t.when(new s("Edit DataBand"),e.render("bands/edit-data-band"),new a({ds:"DataSource",sort:"DataBandEditor Sort",filter:"DataBandEditor Filter"}),e.render("bands/data-band-sort-tab",{Sort:n})).done(function(e,s,a,l){var c,u,h,p,d,f,g,m=i.getProp("Data:DataSource"),v=i.getProp("Data:Filter"),b=require("currentReport");return m&&v?(c=m.control.self.$body.clone(),u=v.control.self.$body.clone(!0),h=t(".fr-modal-tabs-content",a),p=t(".fr-modal-content-ds",h),d=t(".fr-modal-content-sort",h),f=t(".fr-modal-content-filter",h),a.find(".fr-modal-content-sort").append(l),s.find(".edit-band").append(a),e.find(".fr-modal-content").html(s),p.append(c),f.append(u),h.on("click",".sort-expr .d-fc-exp-but",function(){g=t(this),o.edit(g.prev().val(),null,!0).done(function(t){t.onClick=function(e,i){g.prev().val(i),t.$popup.find(".close").trigger("click")},require("head").put(t.$popup)})}),e.on("click",".edit-db",function(){var e=t(".sort-expr .d-fc",d),o=t(".sort-dir",d),s=c.find(":selected").val();e.each(function(e){g=t(this),n[e]=n[e]||{},n[e].Expression=g.val()}),o.each(function(e){g=t(this).find("[name=Sort"+e+"]:checked"),n[e]=n[e]||{},"Ascending"===g.val()?delete n[e].Descending:n[e].Descending=!0}),""!==s&&(s=b.connections.pullDSByView(s)||b.dataSources.pullByView(s)),i.prop("DataSource",s),i.prop("Filter",u.find("input").val()),r.trigger("remove-popups"),i.render(),r.trigger("update-properties-panel",i)}),void require("head").put(e)):null})}return i.createObject(i,{title:"Bands Data",info:"DataBandInfo",icon:"icon-162",pos:80,type:"DataBand",_init:function(){i._init.call(this),this.defaultValues={"Columns.Count":0,"Columns.Width":0,"Columns.MinRowCount":0,"Columns.Layout":"AcrossThenDown",KeepDetail:!1,KeepTogether:!1,CollectChildRows:!1,PrintIfDatasourceEmpty:!1,PrintIfDetailEmpty:!1,MaxRows:0,RowCount:1},this.prop({Name:"Data",Height:207.874}),this.attr({Sort:[],pos:35,"fill-title":"#ffa500"})},canHaveChildren:function(e){var n=e.type||e;return i.canHaveChildren.apply(this,arguments)||t.inArray(n,["DataBand","DataHeaderBand","DataFooterBand","GroupHeaderBand"])>-1},canBeAdded:function(){return!0},creatingComponentEnd:function(t,e,i){var n,r=require("currentReport");i&&!this.prop("DataSource")&&(n=r.connections.pullDSByView(i)||r.dataSources.pullByView(i),n&&(this.prop("DataSource",n),this.render()))},dblclick:function(){return l(this)},getContextMenuItems:function(){var t=this,e=function(e){return t.onChangeCM(e)};return[{name:n.tr("ComponentMenu Edit"),type:"default",closeAfter:!0,onClick:function(){r.trigger("activate",t),l(t)}},{name:n.tr("Band AddChildBand"),type:"default",closeAfter:!0,disabled:!!t.has("ChildBand"),onClick:function(){r.trigger("add-band","ChildBand",t)}},{name:n.tr("DataBand AddDetailDataBand"),type:"default",closeAfter:!0,disabled:!!t.has("DataBand"),onClick:function(){r.trigger("add-band","DataBand",t)}},{type:"separator"},{name:n.tr("ComponentMenu CanGrow"),type:"checkbox",curVal:t.prop("CanGrow"),prop:"CanGrow",onChange:e},{name:n.tr("ComponentMenu CanShrink"),type:"checkbox",curVal:t.prop("CanShrink"),prop:"CanShrink",onChange:e},{name:n.tr("ComponentMenu CanBreak"),type:"checkbox",curVal:t.prop("CanBreak"),prop:"CanBreak",onChange:e},{type:"separator"},{name:n.tr("ComponentMenu KeepTogether"),type:"checkbox",curVal:t.prop("KeepTogether"),prop:"KeepTogether",onChange:e},{name:n.tr("ComponentMenu KeepDetail"),type:"checkbox",curVal:t.prop("KeepDetail"),prop:"KeepDetail",onChange:e},{name:n.tr("Band StartNewPage"),type:"checkbox",curVal:t.prop("StartNewPage"),prop:"StartNewPage",onChange:e},{name:n.tr("ComponentMenu PrintOnBottom"),type:"checkbox",curVal:t.prop("PrintOnBottom"),prop:"PrintOnBottom",onChange:e},{type:"separator"},{name:n.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){r.trigger("paste")},100)}},{name:n.tr("Menu Edit Delete"),type:"default",disabled:!t.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){r.trigger("remove",t)}}]},fillProps:function(n){var r,o,s=this;i.fillProps.apply(this,arguments),r=n.find("> Sort"),r.length&&t.each(r,function(){t.each(t(this).children(),function(){o={},t.each(this.attributes,function(){o[this.name]=e.convertVal(this.value)}),s.attr("Sort").push(o)}),t(this).remove()})},toXML:function(){var e,n,r=t(i.toXML.apply(this,arguments)),o=+r.attr("Columns.Count"),s=+r.attr("Columns.Width"),a=this.attr("Sort");return t.isNumeric(o)||(o=0),t.isNumeric(s)||(s=0),0===o?(r.removeAttr("Columns.Count"),r.removeAttr("Columns.Width")):0!==s?r.attr("Width",s):o&&(r.attr("Width",this.prop("Width")/this.prop("Columns.Count")),r.removeAttr("Columns.Width")),t.each(a,function(){this&&this.Expression&&(e||(e=t(r[0].ownerDocument.createElement("Sort")),r.append(e)),e&&(n=t(e[0].ownerDocument.createElement("Sort")),t.each(this,function(t,e){n.attr(t,e)}),e.append(n)))}),r},toString:function(){var t=this.prop("Name"),e=this.prop("DataSource");return e&&(t+=": "+e),t}})}),define("bands/DataFooterBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands DataFooter",info:"DataFooterBandInfo",icon:"icon-161",pos:90,type:"DataFooterBand",_init:function(){e._init.call(this),this.prop("Name","DataFooter"),this.attr({pos:37,layer_defect:-1,"fill-title":"#ffa500"})},render:function(){return e.render.apply(this,arguments),this.attr("fill-title",this._parent.attr("fill-title")),this.$g}})}),define("bands/GroupHeaderBand",["jquery","utils","Band","l10n","EventEmitter","queue","expression","res-units/Popup"],function(t,e,i,n,r,o,s,a){"use strict";function l(i){new a("Edit Group").done(function(n){e.render("bands/edit-group-header-band").done(function(e){var o,a,l,c=i.getProp("Data:Condition"),u=i.getProp("Behavior:SortOrder"),h=t(".ghb-condition",e),p=t(".ghb-sort",e);return c&&u?(o=c.control.self.$body.clone(),a=u.control.self.$body.clone(),h.append(o),p.append(a),e.on("click",".d-fc-exp-but",function(){l=t(this),s.edit(l.prev().val(),null,!0).done(function(t){t.onClick=function(e,i){l.prev().val(i),t.$popup.find(".close").trigger("click")},require("head").put(t.$popup)})}),e.on("click",".edit-ghb",function(){i.prop("Condition",o.find("input").val()),i.prop("SortOrder",a.find(":selected").val()),r.trigger("remove-popups"),i.render(),r.trigger("update-properties-panel",i)}),t(".fr-modal-content",n).html(e),void require("head").put(n)):null})})}return i.createObject(i,{title:"Bands GroupHeader",info:"GroupHeaderBandInfo",icon:"icon-163",pos:100,type:"GroupHeaderBand",_init:function(){i._init.call(this),this.defaultValues={KeepTogether:!1,KeepWithData:!1},this.prop("Name","GroupHeader"),this.attr({pos:35,"fill-title":"#01DF3A"})},canHaveChildren:function(t){var e=t.type||t;return i.canHaveChildren.apply(this,arguments)||["DataBand","DataHeaderBand","DataFooterBand","GroupHeaderBand","GroupFooterBand"].indexOf(e)>-1},canBeAdded:function(){return!0},applyRule:function(){var i,n,s,a,l=["GroupHeaderBand","DataBand"],c=this._parent;return"DataBand"===c.type?(i=c,c=i._parent):(c.isPage()&&(l=["DataBand"]),i=c.bands.all(l)[0],i?s=t.inArray(i,i.collection.entities):(i=e.getModule("bands/DataBand"),i&&(i=i.create()),n=!0)),a=e.getModule("bands/GroupFooterBand"),a&&(a=a.create()),c.addBand(this,s),i&&(this.addBand(i),o.push({context:r,undo:function(t,e,i){this.trigger("remove-band",i),n||(t.addBand(e),this.trigger("render-band",e)),t.updateExts()},redo:function(t,e,i){this.trigger("remove-band",e),i.addBand(e),t.addBand(i),this.trigger("render-band",i),this.trigger("render-band",e),t.updateExts()},data:[c,i,this]})),a&&this.addBand(a),!0},dblclick:function(){return l(this)},getContextMenuItems:function(){var t=this,e=function(e){return t.onChangeCM(e)};return[{name:n.tr("ComponentMenu Edit"),type:"default",closeAfter:!0,onClick:function(){return r.trigger("activate",t),l(t)}},{name:n.tr("Band AddChildBand"),type:"default",closeAfter:!0,disabled:!!t.has("ChildBand"),onClick:function(){r.trigger("add-band","ChildBand",t)}},{type:"separator"},{name:n.tr("ComponentMenu CanGrow"),type:"checkbox",curVal:t.prop("CanGrow"),prop:"CanGrow",onChange:e},{name:n.tr("ComponentMenu CanShrink"),type:"checkbox",curVal:t.prop("CanShrink"),prop:"CanShrink",onChange:e},{name:n.tr("ComponentMenu CanBreak"),type:"checkbox",curVal:t.prop("CanBreak"),prop:"CanBreak",onChange:e},{type:"separator"},{name:n.tr("ComponentMenu KeepWithData"),type:"checkbox",curVal:t.prop("KeepWithData"),prop:"KeepWithData",onChange:e},{name:n.tr("ComponentMenu RepeatOnEveryPage"),type:"checkbox",curVal:t.prop("RepeatOnEveryPage"),prop:"RepeatOnEveryPage",onChange:e},{name:n.tr("ComponentMenu KeepTogether"),type:"checkbox",curVal:t.prop("KeepTogether"),prop:"KeepTogether",onChange:e},{name:n.tr("ComponentMenu ResetPageNumber"),type:"checkbox",curVal:t.prop("ResetPageNumber"),prop:"ResetPageNumber",onChange:e},{name:n.tr("Band StartNewPage"),type:"checkbox",curVal:t.prop("StartNewPage"),prop:"StartNewPage",onChange:e},{name:n.tr("ComponentMenu PrintOnBottom"),type:"checkbox",curVal:t.prop("PrintOnBottom"),prop:"PrintOnBottom",onChange:e},{type:"separator"},{name:n.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){r.trigger("paste")},100)}},{name:n.tr("Menu Edit Delete"),type:"default",disabled:!t.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){r.trigger("remove",t)}}]},toString:function(){return this.prop("Condition")?this.prop("Name")+": "+this.prop("Condition"):this.prop("Name")}})}),define("bands/GroupFooterBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands GroupFooter",info:"GroupFooterBandInfo",icon:"icon-164",pos:110,type:"GroupFooterBand",_init:function(){e._init.call(this),this.attr({pos:36,"fill-title":"#01DF3A",layer_defect:-1}),this.prop("Name","GroupFooter")}})}),define("bands/ChildBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands Child",info:"ChildBandInfo",icon:"icon-165",pos:120,type:"ChildBand",_init:function(){e._init.call(this),this.defaultValues={CompleteToNRows:0,FillUnusedSpace:!1},this.prop("Name","Child"),this.attr("pos",32)}})}),define("bands/OverlayBand",["utils","Band"],function(t,e){"use strict";return e.createObject(e,{title:"Bands Overlay",info:"OverlayBandInfo",icon:"icon-166",pos:130,type:"OverlayBand",_init:function(){e._init.call(this),this.prop("Name","Overlay"),this.attr("pos",80)}})}),define("events/band",["jquery","utils","queue","EventEmitter"],function(t,e,i,n){"use strict";return e.object(n,{_init:function(){var t=require("currentReport"),n=this.bind,r=this.trigger;n("balance-band",function(e,i){e.bands&&(e.balance(i),t.getCurrentPage().render())}),n("remove-band",function(t){t.remove(),t.getPage().render()}),n("render-band",function(t){t.render(),t.getPage().render()}),n("add-band",function(n,o,s){var a=t.getCurrentPage();"string"==typeof n&&(n=e.getModule("bands/"+n)),n&&(n=n.create(),s=s!==!1,o||(o=a.bands.getSelectedBand()),o&&o.canHaveChildren(n)||(o=a),n=o.addBand(n),n&&(n.applyRule()&&(s=!1),s&&i.push({undo:function(t,e){r("remove-band",t),e.updateExts()},redo:function(t,e){r("render-band",t),e.updateExts()},data:[n,o]}),r("balance-band",n,0),r("update-menu"),o.updateExts()))})}})}),define("components/TextObject",["jquery","config","utils","TextComponent","Collection","l10n","EventEmitter","res-units/Tooltip"],function(t,e,i,n,r,o,s,a){"use strict";return n.createObject(n,{title:"Objects TextObject",info:"TextObjectInfo",icon:"icon-102",pos:10,type:"TextObject",_init:function(){n._init.apply(this,arguments),this.highlights=r.create(this),this.defaultValues={Angle:0,VertAlign:"Top",HorzAlign:"Left","TextFill.Color":"#000","Padding.Left":2,"Padding.Right":2,AutoShrinkMinSize:0,CanBreak:!0,Clip:!0,FirstTabOffset:0,FontWidthRatio:1,LineHeight:0,ParagraphOffset:0,TabWidth:58,ProcessAt:"Default",WordWrap:!0,AllowExpressions:!0,HtmlTags:!1},this.attr({"droppable-view":!0,"droppable-component":!0,withPadding:!0,"text-anchor":"start"}),this.prop({Name:"Text",Width:94.5,Height:18.9,Text:""}),this.setDefaultFont()},setDefaultFont:function(){this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"10pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1})},getHorzAlign:function(){var t=this.prop("HorzAlign"),e=this.attr("innerWidth"),i=0;return"Center"===t||"Justify"===t?(i=e/2,this.attr("text-anchor","middle")):"Left"===t?(i=0,this.attr("text-anchor","start")):"Right"===t&&(i=e,this.attr("text-anchor","end")),parseInt(i,10)},getVertAlign:function(){var t=this.prop("VertAlign"),e=this.attr("innerHeight"),i=this.attr("contentHeight"),n=0;return"Center"===t?n=e/2-i/2:"Bottom"===t&&(n=e-i),n+parseFloat(this.attr("Font.Size"),10)},dblclick:function(){s.trigger("show-expression-editor",this,"Text",!0)},getContextMenuItems:function(){var e=this,i=function(t){return e.onChangeCM(t)};return[{name:o.tr("ComponentMenu Edit"),type:"default",closeAfter:!0,onClick:function(){s.trigger("activate",e),e.dblclick()}},{name:o.tr("TextObject Format"),type:"default",closeAfter:!0,onClick:function(){s.trigger("activate",e),s.trigger("format",e)}},{name:o.tr("ComponentMenu Clear"),type:"default",closeAfter:!0,onClick:function(){e.prop("Text","",!0),e.render(),s.trigger("activate",e)}},{type:"separator"},{name:o.tr("ComponentMenu CanGrow"),type:"checkbox",curVal:e.prop("CanGrow"),prop:"CanGrow",onChange:i},{name:o.tr("ComponentMenu CanShrink"),type:"checkbox",curVal:e.prop("CanShrink"),prop:"CanShrink",onChange:i},{name:o.tr("ComponentMenu CanBreak"),type:"checkbox",curVal:e.prop("CanBreak"),prop:"CanBreak",onChange:i},{name:o.tr("ComponentMenu GrowToBottom"),type:"checkbox",curVal:e.prop("GrowToBottom"),prop:"GrowToBottom",onChange:i},{type:"separator"},{name:o.tr("ComponentMenu AutoWidth"),type:"checkbox",curVal:e.prop("AutoWidth"),prop:"AutoWidth",onChange:i},{name:o.tr("ComponentMenu WordWrap"),type:"checkbox",curVal:e.prop("WordWrap"),prop:"WordWrap",onChange:i},{name:o.tr("Allow Expressions"),type:"checkbox",curVal:e.prop("AllowExpressions"),prop:"AllowExpressions",onChange:i},{type:"separator"},{name:o.tr("Menu Edit Cut"),type:"default",closeAfter:!0,shortcut:"Ctrl + X",onClick:function(){s.trigger("cut",t(e))}},{name:o.tr("Menu Edit Copy"),type:"default",closeAfter:!0,shortcut:"Ctrl + C",onClick:function(){s.trigger("copy",t(e))}},{name:o.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){s.trigger("paste")},100)}},{name:o.tr("Menu Edit Delete"),type:"default",disabled:!e.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){s.trigger("remove",e)}},{type:"separator"},{name:o.tr("Layout BringToFront"),type:"default",closeAfter:!0,onClick:function(){s.trigger("bring-to-front",e)}},{name:o.tr("Layout SendToBack"),type:"default",closeAfter:!0,onClick:function(){s.trigger("send-to-back",e)}}]},mouseover:function(){var e,i,n=this.$moveBlock[0].getBoundingClientRect(),r=this.prop("Text"),o=this.attr("Font.Size"),s=require("head"),l=this.prop("Width"),c=this.prop("Height"),u=this.prop("HorzAlign"),h=this.prop("VertAlign"),p="";r&&"in_move"!==this.attr("state")&&this.prop("HtmlTags")&&(this.$tooltip||(this.$tooltip=new a,s.put(this.$tooltip)),i=this.$tooltip,i.css({left:n.left,top:n.top+n.height+10,width:l,height:c,"text-align":u.toLowerCase(),"background-color":this.$moveBlock.css("fill")}),this.attr("Font.Underline")&&(p+="underline "),this.attr("Font.Strikeout")&&(p+="line-through"),e=i.find("span"),e.css({"vertical-align":"Center"===h?"middle":h.toLowerCase(),transform:"rotate("+this.prop("Angle")+"deg)","font-size":o+(t.isNumeric(o)?"pt":""),"font-family":this.attr("Font.Name"),color:this.prop("TextFill.Color"),"font-weight":this.attr("Font.Bold")?700:400,"font-style":this.attr("Font.Italic")?"italic":"normal"}),p&&e.css("text-decoration",p),r=r.replace(/\n/g,"<br/>"),e.html(r),s.$node.height()<i.offset().top+i.height()&&i.css("top",n.top-i.innerHeight()-10))},mouseout:function(){this.$tooltip&&(this.$tooltip.remove(),delete this.$tooltip)},movingStart:function(){n.movingStart.apply(this,arguments),this.mouseout()},creatingComponentEnd:function(t,e,i){this.prop("Text",i)},linesAmount:function(){return this.$textNode.find("tspan").length||1},_getLineHeight:function(t){var e=this.prop("LineHeight");return e?e:t},_createMultiline:function(){var e,n,r,o,s,a,l,c,u,h,p,d=this.prop("Text"),f=this.$textNode,g=d.split(/[\n]/g),m=0,v=g.length,b=f.css("font-size"),y=f.css("font-family"),x=f.css("font-weight"),C=0,w=!1,k=this.attr("innerWidth"),_=function(t){return t.dimensions({"font-size":b,"font-family":y,"font-weight":x})};for(f.empty();m<v;m+=1){if(e=g[m],l=i.createNS("tspan"),c=t(l),""===e.trim())e="&nbsp;",c.append(e);else for(r=e.split(" "),c.append(r[0]),f.append(c),s=1,a=r.length;s<a;s+=1)o=r[s],n=c.text().length,c.text(c.text()+" "+o),u=_(c.text()),u.w>k&&(l.firstChild.data=l.firstChild.data.slice(0,n),p=this._getLineHeight(u.h),0===m||w||i.attr(l,{x:0,dy:p}),l=i.createNS("tspan"),c=t(l),i.attr(l,{x:0,dy:p}),C+=p,c.append(o),f.append(c),w=!0);u||(u=_(e)),p=this._getLineHeight(u.h),C+=p,h=0!==m||w?p:0,i.attr(l,{x:0,dy:h}),f.append(c),u=null,w=!1}this.attr("contentHeight",C||0)},render:function(){var e=0,r=0,o=this.prop("Angle"),s=this.attr("Font.Size"),a=this.attr("Font.Name"),l=this.prop("Text");return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$contentGroup.append(this.$nestedG1)),this.attr("droppable-component")?i.addClass(this.g,"droppable-component"):i.removeClass(this.g,"droppable-component"),this.attr("droppable-view")?i.addClass(this.g,"droppable-view"):i.removeClass(this.g,"droppable-view"),l!==this.$textNode.text()&&this.$textNode.text(l),this.$textNode.css({"font-size":s+(t.isNumeric(s)?"pt":""),fill:this.prop("TextFill.Color"),"font-family":a}),this.applyFontStyles(this.$textNode),this._createMultiline(),e=this.getHorzAlign(),r=this.getVertAlign(),this.$textNode.css("text-anchor",this.attr("text-anchor")),i.attr(this.$nestedG2[0],"transform","translate("+e+", "+r+")"),"undefined"!=typeof o&&i.attr(this.$nestedG1[0],"transform","translate({0}, {1}) rotate({2} {3} {4})".format(this.prop("Width")/2-this.attr("innerWidth")/2,this.prop("Height")/2-this.attr("innerHeight")/2,o,this.attr("innerWidth")/2,this.attr("innerHeight")/2)),this.$g}})}),define("components/PictureObject",["jquery","utils","Component","EventEmitter","res-units/Popup","res-units/PopupTabs"],function(t,e,i,n,r,o){"use strict";return i.createObject(i,{title:"Objects PictureObject",info:"PictureObjectInfo",icon:"icon-103",pos:20,type:"PictureObject",_init:function(){i._init.apply(this,arguments),this.defaultValues={Angle:0,Tile:!1,Transparency:0,TransparentColor:"transparent",Image:"",ShowErrorImage:!1,SizeMode:"Zoom"},this.prop({Name:"Picture",Width:75.6,Height:75.6}),this.attr({prefix:"data:image/png;base64,","fill-opacity":1,withPadding:!0})},dblclick:function(){var i=this;t.when(new r("Edit Picture"),e.render("components/edit-picture"),new o({dc:"Data Column",fn:"File",hyperlink:"Hyperlink"})).done(function(r,o,s){var a=i.getProp("Data:Image");if(!a)return console.error("there is no needed property (Data:Image)"),!1;var l,c=i.getProp("Data:Image").control.self.$body.clone(),u=t('<img src=""/>'),h=t("<button>"),p=i.getProp("Data:ImageLocation").control.self.$body.clone(),d=i.getProp("Data:DataColumn").control.self.$body.clone(),f=t(".fr-modal-tabs-content",s),g=t(".fr-modal-content-fn",f),m=t(".fr-modal-content-hyperlink",f),v=t(".fr-modal-content-dc",f);o.find(".edit-picture").append(s),r.find(".fr-modal-content").html(o),h.addClass("clear-picture-preview"),h.text("Clear"),g.append(c,u,h),m.append(p),v.append(d),i.prop("Image")&&u.attr("src",i.prop("Image")),c.on("change","input",function(){e.readURL(this,function(t){l=t.target.result,u.attr("src",l)})}),h.on("click",function(){i.prop("Image",""),l=null,u=t('<img src=""/>'),g.find("img").replaceWith(u),u.css("max-width",f.width())}),r.on("click",".edit-pic",function(){i.prop("DataColumn",d.find("input").val()),i.prop("ImageLocation",p.find("input").val()),l&&i.prop("Image",l),n.trigger("remove-popups"),i.render(),n.trigger("update-properties-panel",i)}),require("head").put(r),u.css("max-width",f.width())})},render:function(){var n=this.prop("Angle");return i.render.apply(this,arguments),this.$image&&this.$rGroup||(this.$rGroup=t(e.createNS("g")),this.$image=t(e.createNS("image",{class:"move"})),this.$contentGroup.append(this.$rGroup)),this.$image.attr({width:this.prop("Width")+"px",height:this.prop("Height")+"px",x:0,y:0}),this.$rGroup.append(this.$image),e.xAttr(this.$image[0],"href",this.prop("ImageLocation")||this.prop("Image")),"undefined"!=typeof n&&e.attr(this.$rGroup[0],"transform","rotate($angle $x $y)".replace(/\$angle/g,n).replace(/\$x/g,this.prop("Width")/2).replace(/\$y/g,this.prop("Height")/2)),this.$g},fillProps:function(){var t="";return i.fillProps.apply(this,arguments),this.prop("Image")&&(t=this.attr("prefix")+this.prop("Image")),this.prop("Image",t),this},toXML:function(){var e,n=i.toXML.apply(this,arguments);return this.prop("ImageLocation")?t(n).removeAttr("Image"):(e=this.prop("Image").replace(/^([\w:\/;]+base64,){1}/,""),e&&t(n).attr("Image",e)),n}})}),define("components/ShapeObject",["jquery","config","utils","Component"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"Objects Shapes",info:"ShapeObjectInfo",icon:"icon-108",pos:30,type:"ShapeObject",figures:{Rectangle:{label:"rectangle",render:function(e,n){var r=t(i.createNS("rect",{width:e,height:n}));return r}},RoundRectangle:{label:"round rectangle",render:function(e,n){var r=t(i.createNS("rect",{width:e,height:n,rx:10,ry:10}));return r}},Ellipse:{label:"ellipse",render:function(e,n){var r=e/2,o=n/2,s=t(i.createNS("ellipse",{cx:r,cy:o,rx:r,ry:o}));return s}},Triangle:{label:"triangle",render:function(e,n){var r=t(i.createNS("polygon",{points:e/2+", 0 0, "+n+" "+e+", "+n}));return r}},Diamond:{label:"diamond",render:function(e,n){var r=e/2,o=n/2,s=t(i.createNS("polygon",{points:r+",0 0,"+o+" "+r+","+n+" "+e+","+o}));return s}}},_init:function(){n._init.apply(this,arguments),this.defaultValues={Curve:0},this.prop({Name:"Shape",Width:94.5,Height:18.9,Shape:"Rectangle","Fill.Color":"transparent"})},appendBorders:function(){},appendPadding:function(){},canHaveProp:function(t){return"Appearance:Border"!==t&&n.canHaveProp.apply(this,arguments)},render:function(){var r,o=this.prop("Border.Width")||0,s=this.prop("Width")-o,a=this.prop("Height")-o;return n.render.apply(this,arguments),this.$shape||(this.$shape=t(i.createNS("g"))),
this.$shape.empty(),r=this.figures[this.prop("Shape")].render.call(this,s<0?0:s,a<0?0:a),r.css({fill:this.prop("Fill.Color"),stroke:this.prop("Border.Color"),"stroke-width":o,"stroke-dasharray":e.get("dasharrays")[this.prop("Border.Style")]}),i.attr(this.$shape[0],"transform","translate("+o/2+","+o/2+")"),this.$shape.append(r),this.$contentGroup.append(this.$shape),this.$moveBlock.css("fill","transparent"),this.$g},toXML:function(){var e=t(n.toXML.apply(this,arguments));return e.removeAttr("Border.Lines"),e[0]}})}),define("components/LineObject",["jquery","config","utils","Component"],function(t,e,i,n){"use strict";function r(t,e){return Math.atan2(e,t)*(180/Math.PI)}return n.createObject(n,{title:"Objects Shapes Line",info:"LineObjectInfo",icon:"icon-105",pos:40,type:"LineObject",tips:{Normal:{label:"Normal",render:function(){return null}},Arrow:{label:"Arrow",render:function(e,n,r,o){r=2*(r||10);var s=t(i.createNS("g",{transform:"translate("+e+","+n+")"})),a=t(i.createNS("g")),l=t(i.createNS("line")),c=t(i.createNS("line")),u={x1:0,y1:0,x2:r,y2:0};return l.attr(u),u.x2=0,u.y2=r,c.attr(u),l.css({"stroke-width":this.prop("Border.Width"),stroke:this.prop("Border.Color")}),c.css({"stroke-width":this.prop("Border.Width"),stroke:this.prop("Border.Color")}),a.append(l),a.append(c),i.attr(a[0],"transform","rotate("+o+")"),s.append(a),s}},Circle:{label:"Circle",render:function(e,n,r,o){var s=t(i.createNS("g",{transform:"translate("+e+","+n+")"})),a=t(i.createNS("g")),l=t(i.createNS("ellipse",{cx:r/2,cy:r/2,rx:r,ry:r}));return l.css({fill:this.attr("fill_tip"),stroke:this.prop("Border.Color"),"stroke-width":this.prop("Border.Width")}),a.append(l),i.attr(a[0],"transform","rotate("+o+")"),s.append(a),s}},Square:{label:"Square",render:function(e,n,r,o){r=3*(r||10);var s=t(i.createNS("g",{transform:"translate("+e+","+n+")"})),a=t(i.createNS("g")),l=r/2-18,c=r/2-18,u=r-16,h=t(i.createNS("polygon",{points:l+", -20 -20, "+c+" "+l+", "+u+" "+u+", "+c}));return h.css({fill:this.attr("fill_tip"),stroke:this.prop("Border.Color"),"stroke-width":this.prop("Border.Width")}),a.append(h),i.attr(a[0],"transform","rotate("+o+")"),s.append(a),s}},Diamond:{label:"Diamond",render:function(e,n,r,o){var s=t(i.createNS("g",{transform:"translate("+e+","+n+")"})),a=t(i.createNS("g")),l=t(i.createNS("polygon",{points:"25,10 0,0 10,25 32,32"}));return l.css({fill:this.attr("fill_tip"),stroke:this.prop("Border.Color"),"stroke-width":this.prop("Border.Width")}),a.append(l),i.attr(a[0],"transform","rotate("+o+")"),s.append(a),s}}},_init:function(){n._init.apply(this,arguments),this.defaultValues={"EndCap.Style":"None","EndCap.Height":8,"EndCap.Width":8,"StartCap.Style":"None","StartCap.Height":8,"StartCap.Width":8,Diagonal:!1,"Border.Width":1,"Border.Color":"#000000"},this.prop({Name:"Line",Width:0,Height:0}),this.attr({dasharray:"",fill_tip:"#ffffff",defaultValueWidth:100})},resizingComponents:function(){var n=e.get("circleButtonWidth"),r=e.get("circleButtonHeight"),o=this.prop("Width")-n,s=this.prop("Height")-r,a=o,l=s;if(!this.$resizing){var c=i.createNS("use"),u=t(i.createNS("rect",{class:"se-resize"}));this.$resizing=t(),this.$resizing.push(null,null,t(i.createNS("g",{class:"resizing-line fr-hidden"}))),i.xAttr(c,"xlink:href","#d-button-circle"),u.css("fill","transparent"),u.attr({width:2*n,height:2*r}),this.$resizing[2].append(c,u),this.$controlElements.append(this.$resizing[2])}return this.prop("Diagonal")||(o>s?l=0:a=0),i.attr(this.$resizing[2][0],"transform","translate("+a+","+l+")"),this},addStartCap:function(t){var e;this.prop("StartCap.Style")&&this.tips[this.prop("StartCap.Style")]&&(e=this.tips[this.prop("StartCap.Style")].render.call(this,t.x1,t.y1,this.prop("StartCap.Height"),r(t.x2-t.x1,t.y2-t.y1)-45),e&&this.$lineContainer.append(e))},addEndCap:function(t){var e;this.prop("EndCap.Style")&&this.tips[this.prop("EndCap.Style")]&&(e=this.tips[this.prop("EndCap.Style")].render.call(this,t.x2,t.y2,this.prop("EndCap.Height"),r(t.x2-t.x1,t.y2-t.y1)+135),e&&this.$lineContainer.append(e))},setPosition:function(){return n.setPosition.apply(this,arguments),this.attr("isHorizontal")?(this.attr("bottom",this.prop("Top")+this.prop("Border.Width")),this.attr("right",this.prop("Left")+this.prop("Width"))):this.attr("isVertical")&&(this.attr("bottom",this.prop("Top")+this.prop("Height")),this.attr("right",this.prop("Left")+this.prop("Border.Width"))),this},render:function(){return 0===this.prop("Width")&&0===this.prop("Height")&&this.prop("Width",this.attr("defaultValueWidth")),n.renderContainer.apply(this,arguments),this.$content=t(i.createNS("g",{class:"move"})),this.$body.html(this.$content),this.$moveBlock=t(i.createNS("line")),this.$content.prepend(this.$moveBlock),this.$lineContainer=t(i.createNS("g")),this.$content.prepend(this.$lineContainer),i.attr(this.$lineContainer[0],{transform:"translate(0, 0)"}),this.render=function(){var n=this.prop("Width"),r=this.prop("Height"),o={};return o.style=e.get("dasharrays")[this.prop("Border.Style")],this.$lineContainer.empty(),this.$workspace=t(i.createNS("rect")),this.$line=this.$line||t(i.createNS("line")),this.$moveBlock.css({"stroke-width":+this.prop("Border.Width")+e.get("lineMovingScope"),stroke:"transparent"}),this.$line.css({"stroke-dasharray":o.style,"stroke-width":this.prop("Border.Width"),stroke:this.prop("Border.Color")}),this.$lineContainer.append(this.$workspace,this.$line),this.attr("bottom",this.prop("Top")),this.prop("Diagonal")?(o={x1:0,y1:0,x2:n,y2:r},r>0&&this.attr("bottom",this.attr("bottom")+r),this.attr("isVertical",!1),this.attr("isHorizontal",!1)):n>r?(o={x1:0,y1:0,x2:n,y2:0},this.attr("isHorizontal",!0),this.attr("isVertical",!1)):(o={x1:0,y1:0,x2:0,y2:r},this.attr("isVertical",!0),this.attr("isHorizontal",!1)),i.attr(this.$line[0],o),i.attr(this.$moveBlock[0],o),this.addEndCap(o),this.addStartCap(o),this.resizingComponents(),this.setPosition(),this.$g},this.render()},resizingEnd:function(){n.resizingEnd.apply(this,arguments),this.prop("Diagonal")||this.prop(this.attr("isHorizontal")?"Height":"Width",0)},toXML:function(){var e=t(n.toXML.apply(this,arguments));return this.prop("Border.Color")&&e.attr("Border.Color",this.prop("Border.Color")),this.prop("Border.Width")&&e.attr("Border.Width",this.prop("Border.Width")),this.prop("Border.Style")&&e.attr("Border.Style",this.prop("Border.Style")),e[0]}})}),define("components/SubreportObject",["jquery","utils","l10n","EventEmitter","Component"],function(t,e,i,n,r){"use strict";return r.createObject(r,{title:"Objects SubreportObject",info:"SubreportObjectInfo",icon:"icon-104",pos:50,type:"SubreportObject",_init:function(){r._init.apply(this,arguments),this.defaultValues={PrintOnParent:!1},this.prop({Name:"Subreport",Width:70,Height:40,"Fill.Color":"#C9C9C9"})},getReportPage:function(){return require("currentReport").pages.findOneAmongAll({Name:this.prop("ReportPage"),isSubreport:!0})},getContextMenuItems:function(){var e=this,r=function(t){return e.onChangeCM(t)};return[{name:i.tr("SubreportObject PrintOnParent"),type:"checkbox",curVal:e.prop("PrintOnParent"),prop:"PrintOnParent",onChange:r},{type:"separator"},{name:i.tr("Menu Edit Cut"),type:"default",disabled:!0,closeAfter:!0,shortcut:"Ctrl + X",onClick:function(){n.trigger("cut",t(e))}},{name:i.tr("Menu Edit Copy"),type:"default",disabled:!0,closeAfter:!0,shortcut:"Ctrl + C",onClick:function(){n.trigger("copy",t(e))}},{name:i.tr("Menu Edit Paste"),type:"default",disabled:!require("currentReport").getCurrentPage().buffer.length,closeAfter:!0,shortcut:"Ctrl + V",onClick:function(){setTimeout(function(){n.trigger("paste")},100)}},{name:i.tr("Menu Edit Delete"),type:"default",disabled:!e.canBeRemoved(),closeAfter:!0,shortcut:"Del",onClick:function(){n.trigger("remove",e)}},{type:"separator"},{name:i.tr("Layout BringToFront"),type:"default",closeAfter:!0,onClick:function(){n.trigger("bring-to-front",e)}},{name:i.tr("Layout SendToBack"),type:"default",closeAfter:!0,onClick:function(){n.trigger("send-to-back",e)}}]},render:function(){var i,n,o=this.getReportPage(),s=0,a=10;return r.render.apply(this,arguments),this.$contentGroup.empty(),i=t(e.createNS("g")),n=t(e.createNS("text",{class:"text"})),i.append(n),this.$contentGroup.append(i),n.text(this.prop("Name")),n.css({"font-size":a,fill:"#000000","text-anchor":"start"}),e.attr(i[0],"transform","translate("+s+","+a+")"),o&&o.attr("removed")&&o.attr("removed",!1),this.$g},remove:function(){r.remove.apply(this,arguments),require("currentReport").removePage(this.getReportPage())},fillProps:function(){r.fillProps.apply(this,arguments),t.each(require("currentReport").pages.findBy({Name:this.prop("ReportPage")}),function(){this.attr("isSubreport",!0)})}})}),define("components/TableObject/TableColumn",["jquery","utils","Entity"],function(t,e,i){"use strict";return i.createObject(null,{icon:"icon-215",type:"TableColumn",_init:function(){this.prop("Name","Column"),this.prop({Name:this.formName(),MaxWidth:500,MinWidth:0,Width:66})},create:function(t){var e=this.createObject(this);return e.parent=t,e._init(),e},_getInx:function(){return this.getTable().columns.indexOf(this)},getTable:function(){return this.parent.matrix||this.parent},activate:function(){var t=this._getInx();return this.getTable()._eachRow(function(e,i){i.cells[t].activate()}),i.activate.call(this),this},deactivate:function(){var t=this._getInx();return this.getTable()._eachRow(function(e,i){i.cells[t].deactivate()}),this},toXML:function(e){var i=t(e.parentNode.ownerDocument.createElement(this.type));return this.eachProp(function(t,e){i.attr(t,e)}),i[0]}})}),define("components/TableObject/TableRow",["jquery","utils","Entity","EventEmitter"],function(t,e,i,n){"use strict";return i.createObject(i,{icon:"icon-216",type:"TableRow",_init:function(){this.cells=[],this.prop("Name","Row"),this.prop({Name:this.formName(),MaxHeight:500,MinHeight:0,Height:18})},create:function(t){var e=this.createObject(this);return e.parent=t,e._init(),e},getTable:function(){return this.parent.matrix||this.parent},_getInx:function(){return t.inArray(this,this.getTable().rows)},activate:function(){var t=this._getInx();return this.getTable()._eachColumn(function(e,i){this.rows[t].cells[e].activate()}),i.activate.call(this),this},deactivate:function(){var t=this._getInx();return this.getTable()._eachColumn(function(e,i){this.rows[t].cells[e].deactivate()}),this},toXML:function(e){var i=t(e.parentNode.ownerDocument.createElement(this.type));return this.eachProp(function(t,e){i.attr(t,e)}),i[0]}})}),define("components/TableObject/TableCell",["jquery","config","utils","l10n","components/TextObject","EventEmitter","ComponentCollection"],function(t,e,i,n,r,o,s){"use strict";return r.createObject(r,{icon:"icon-214",type:"TableCell",_init:function(e){r._init.call(this),this.parent=e,this.prop({Name:"Cell",Text:"",ColSpan:1,RowSpan:1}),this.attr({DefaultBorderColor:"#C0C0C0",removeable:!1,copyable:!1,movable:!1,resizableX:!0,resizableY:!0,resizableXY:!1}),this.components=s.create(this),this.render(),i.removeClass(this.$moveBlock[0],"move"),i.removeClass(this.$moveBlock[0],"move-decor"),i.removeClass(this.content,"move"),this.$components=t(i.createNS("g")),this.$g.append(this.$components),i.addClass(this.g,"cell")},clone:function(){var t=r.clone.apply(this,arguments);return this.components.isEmpty()||this.components.everyEntity(function(e){e=e.clone(),e&&(e.render(),t.put(e))}),t},getContextMenuItems:function(){var t=this;return[{name:n.tr("ComponentMenu Edit"),type:"default",closeAfter:!0,onClick:function(){o.trigger("activate",t),t.dblclick()}},{name:n.tr("TextObject Format"),type:"default",closeAfter:!0,onClick:function(){o.trigger("activate",t),o.trigger("format",t)}}]},getTable:function(){return this.parent.parent.matrix||this.parent.parent},appendEdges:function(){this.$moveBlock.css({stroke:this.attr("DefaultBorderColor"),"stroke-dasharray":"","stroke-width":"1px"})},resizingComponents:function(){var t,e;return r.resizingComponents.apply(this,arguments),t=this.resizingElements.map(function(t){return t.className}),e=[t.indexOf("e-resize"),t.indexOf("s-resize")],this.resizingElements.forEach(function(t,i){~e.indexOf(i)||(t.hidden=!0)}),this},getPosInRow:function(){return this.parent.cells.indexOf(this)},getPosInColumn:function(){return this.getTable().rows.indexOf(this.parent)},prev:function(){return this.parent.cells[this.getPosInRow()-1]},next:function(){return this.parent.cells[this.getPosInRow()+this.prop("ColSpan")]},under:function(){var t=this.getTable().rows[this.getPosInColumn()+this.prop("RowSpan")];return t?t.cells[this.getPosInRow()]:null},over:function(){var t=this.getTable().rows[this.getPosInColumn()-1];return t?t.cells[this.getPosInRow()]:null},afterInRow:function(t){return this.parent.cells.slice(this.getPosInRow()+(t?0:1),this.parent.cells.length)},afterInColumn:function(t){var e=[],i=this.getPosInRow(),n=this.getPosInColumn()+(t?0:1);return this.getTable()._eachRow(function(t,r){n<=t&&e.push(r.cells[i])}),e},activate:function(){r.activate.call(this),this.$blanket||(this.$blanket=t(i.createNS("rect")),this.$moveBlock.after(this.$blanket)),this.$blanket.attr({width:this.prop("Width"),height:this.prop("Height")}),this.$blanket.attr("fill","rgba(160, 195, 255, 0.5)"),this.showResizingComponents()},deactivate:function(){return r.deactivate.call(this),this.$blanket&&this.$blanket.removeAttr("fill"),this},put:function(t){this.components.add(t.g.component)},mouseStart:function(e){return o.trigger("activate",this),!!t(e.target).is(".resizing-component > ")&&null},resizing:function(t,e){var i,n=this.getTable();"e"===e.dir?(i=this.getPosInRow(),n.columns[i].prop("Width",this.prop("Width")),n.update()):"s"===e.dir&&(i=this.getPosInColumn(),n.rows[i].prop("Height",this.prop("Height")),n.update())},resizingEnd:function(){o.trigger("balance-band",this.getTable().collection.container)},canHaveChildren:function(t){return"TableObject"!==t&&"MatrixObject"!==t},toXML:function(e){var n=t(r.toXML.apply(this,arguments));return e=i.extend({parentNode:n[0]},e),this.components.everyEntity(function(t){n.append(t.toXML(e))}),n.removeAttr("Left"),n.removeAttr("Top"),n.removeAttr("Width"),n.removeAttr("Height"),n[0]}})}),define("components/TableObject",["jquery","utils","Component","l10n","EventEmitter","components/TableObject/TableColumn","components/TableObject/TableRow","components/TableObject/TableCell"],function(t,e,i,n,r,o,s,a){"use strict";return i.createObject(i,{title:"Objects TableObject",info:"TableObjectInfo",icon:"icon-127",pos:60,type:"TableObject",_init:function(){i._init.apply(this,arguments),this.rows=[],this.columns=[],this.defaultValues={Layout:"AcrossThenDown",WrappedGap:0,AdjustSpannedCellsWidth:!1,RepeatHeaders:!0,ManualBuildAutoSpans:!0,FixedColumns:0,FixedRows:0},this.prop("Name","Table"),this.attr({RowCount:3,ColumnCount:3})},createCell:function(t){return a.create(t)},clone:function(){var t,e=i.clone.apply(this);return this._eachRow(function(i,n){e.rows[i]=n.clone(e),this._eachColumn(function(r,o){e.columns[r]||(e.columns[r]=o.clone(e)),t=n.cells[r].clone(e.rows[i]),e.rows[i].cells[r]=t})}),e},getContextMenuItems:function(){var t=this,e=function(e){return t.onChangeCM(e)};return[{name:n.tr("TableObject RepeatHeaders"),type:"checkbox",curVal:t.prop("RepeatHeaders"),prop:"RepeatHeaders",onChange:e},{name:n.tr("BreakableComponent CanBreak"),type:"checkbox",curVal:t.prop("CanBreak"),prop:"CanBreak",onChange:e},{name:n.tr("ComponentMenu GrowToBottom"),type:"checkbox",curVal:t.prop("GrowToBottom"),prop:"GrowToBottom",onChange:e},{type:"separator"},{name:n.tr("Menu Edit Delete"),type:"default",disabled:!t.canBeRemoved(),closeAfter:!0,onClick:function(){r.trigger("remove",t)}},{type:"separator"},{name:n.tr("Layout BringToFront"),type:"default",closeAfter:!0,onClick:function(){r.trigger("bring-to-front",t)}},{name:n.tr("Layout SendToBack"),type:"default",closeAfter:!0,onClick:function(){r.trigger("send-to-back",t)}}]},attr:function(t,e){var n=i.attr.apply(this,arguments);return"undefined"!=typeof e&&("RowCount"===t?this.rows=this.rows.slice(0,e):"ColumnCount"===t&&(this.columns=this.columns.slice(0,e),this._eachRow(function(t,i){i.cells=i.cells.slice(0,e)}))),n},resizingComponents:function(){var t;return i.resizingComponents.apply(this,arguments),t=this.resizingElements.map(function(t){return t.className}).indexOf("nw-resize"),~t&&(this.resizingElements[t].hidden=!0),this},appendRow:function(e){var i=s.create(this);return this.attr("RowCount",this.attr("RowCount")+1),t.isNumeric(e)||(e=this.rows.length),this.rows.splice(e,0,i),this._eachColumn(function(){i.cells.push(this.createCell(i))}),i},removeRow:function(t){return this.rows.splice(t,1),this.attr("RowCount",this.attr("RowCount")-1),this},appendColumn:function(e){var i=o.create(this);return this.attr("ColumnCount",this.attr("ColumnCount")+1),t.isNumeric(e)||(e=this.columns.length),this.columns.splice(e,0,i),this._eachRow(function(t,i){this._eachColumn(function(t){t===e&&i.cells.splice(t,0,this.createCell(i))})}),i},removeColumn:function(t){return this.columns.splice(t,1),this.attr("ColumnCount",this.attr("ColumnCount")-1),this},getCell:function(t,e){return this.rows[t].cells[e]},_eachRow:function(t){var e=0,i=this.attr("RowCount");for(t=t||function(){};e<i;e+=1)t.call(this,e,this.rows[e]||(this.rows[e]=s.create(this)))},_eachColumn:function(t){var e=0,i=this.attr("ColumnCount");for(t=t||function(){};e<i;e+=1)t.call(this,e,this.columns[e]||(this.columns[e]=o.create(this)))},_eachCell:function(t){var e;t=t||function(){},this._eachRow(function(i,n){this._eachColumn(function(i,r){e=n.cells[i]||(n.cells[i]=this.createCell(n)),t.call(this,i,e,n,r)})})},_percentage:function(){var t=this.prop("Width"),e=this.prop("Height");this._eachColumn(function(e,i){i.attr("percentage",i.prop("Width")/(t/100))}),this._eachRow(function(t,i){i.attr("percentage",i.prop("Height")/(e/100))})},_recalculate:function(){var t=this.prop("Width"),e=this.prop("Height");this._eachRow(function(t,i){i.prop("Height",e/100*i.attr("percentage"))}),this._eachColumn(function(e,i){i.prop("Width",t/100*i.attr("percentage"))})},_processSpanCell:function(){var t,e,i=[];return this._processSpanCell=function(n,r,o){if(e=n.prop("RowSpan"),i[o]&&i[o].self!==n){if(i[o].counter+=1,i[o].counter<=i[o].need&&(i[o].self.prop("Height",i[o].self.prop("Height")+this.rows[r].prop("Height")),n.$g.addClass("fr-hidden"),i[o].self.render(),e=i[o].self.prop("ColSpan"),e>1&&(i[o].self.getPosInRow()+e>this.attr("ColumnCount")&&(e=Math.abs(i[o].self.getPosInRow()-this.attr("ColumnCount"))),t={self:n,counter:1,need:e})),i[o].counter>i[o].need)return n.$g.removeClass("fr-hidden"),i[o].self.render(),i[o]=void 0,this._processSpanCell(n,r,o);if(r+1===this.attr("RowCount"))return i[o].self.render(),void(i[o]=void 0)}else e>1&&(i[o]={self:n,counter:1,need:e});if(e=n.prop("ColSpan"),t&&t.self!==n){if(t.counter+=1,t.counter<=t.need&&(t.self.prop("Width",t.self.prop("Width")+this.columns[o].prop("Width")),n.$g.addClass("fr-hidden"),t.self.render()),t.counter>t.need)return n.$g.removeClass("fr-hidden"),t.self.render(),t=null,this._processSpanCell(n,r,o);if(t.self.parent!==n.parent)return n.$g.removeClass("fr-hidden"),t.self.render(),void(t=null)}else e>1&&(n.getPosInRow()+e>this.attr("ColumnCount")&&(e=Math.abs(n.getPosInRow()-this.attr("ColumnCount"))),t={self:n,counter:1,need:e});t||i[o]||n.$g.removeClass("fr-hidden")},this._processSpanCell.apply(this,arguments)},_generate:function(){var t,e,i,n,r=0;this.$contentGroup&&this.$contentGroup.children().length>this.attr("RowCount")*this.attr("ColumnCount")&&this.$contentGroup.empty(),this._eachRow(function(o,s){e=0,n=s.prop("Height"),this._eachColumn(function(a,l){t=s.cells[a]||(s.cells[a]=this.createCell(s)),i=l.prop("Width"),t.prop({Width:i,Height:n,Left:e,Top:r}),e+=i,t.render(),this._processSpanCell(t,o,a),this.$contentGroup&&this.$contentGroup.append(t.$g)}),r+=n}),e&&r&&(this.prop("Width",e),this.prop("Height",r))},appendEdges:function(){},update:function(){return this._generate(),this._percentage(),this.render()},render:function(){return this.render=function(){return this.attr("ColumnCount")===this.columns.length&&this.attr("RowCount")===this.rows.length||this.update(),i.render.apply(this,arguments),this._recalculate(),this._generate(),this.$g},i.render.apply(this,arguments),this.$additionalMoveBlock=this.createMoveBlock(),e.removeClass(this.content,"move"),e.removeClass(this.$moveBlock[0],"move"),e.removeClass(this.$moveBlock[0],"move-decor"),this.$g.append(this.$additionalMoveBlock),this.update(),this.$g},fillProps:function(n){function r(i,n){i.each(function(){var i=t(this),r=e.getModule("components/"+i.prop("tagName"));r&&(r=r.create(),r.fillProps(i),r.render(),n.put(r))})}i.fillProps.apply(this,arguments);var o=t("TableRow",n),s=t("TableColumn",n),a=0,l=s.length;for(this.attr("RowCount",o.length),this.attr("ColumnCount",l),this._generate();a<l;a+=1)this.columns[a].fillProps(t(s[a]));var c,u,h,p,d,f,g,m;for(a=0,l=o.length;a<l;a+=1)for(c=t(o[a]),u=c.children(),g=this.rows[a],g.fillProps(c),d=0,f=u.length;d<f;d+=1)h=t(u[d]),m=g.cells[d],m.fillProps(h),p=h.children(),p.length&&r(p,m)},toXML:function(n){var r=t(i.toXML.apply(this,arguments));return n=e.extend({parentNode:r[0]},n),this._eachColumn(function(e,i){var o=t(i.toXML(n));o&&r.append(o)}),this._eachRow(function(e,i){n.parentNode=r[0];var o=t(i.toXML(n));o&&(r.append(o),t.each(i.cells,function(){n.parentNode=o[0];var e=t(this.toXML(n));o&&o.append(e)}))}),r[0]}})}),define("components/MatrixObject",["jquery","utils","components/TableObject","l10n","EventEmitter"],function(t,e,i,n,r){"use strict";function o(i,n){var r,o=this.getTable(),s=o.prop("Left"),a=o.prop("Top")+o.collection.container.prop("Top"),l=n.x-(s+this.prop("Left")),c=s+this.attr("right")-n.x,u=n.y-(a+this.prop("Top")),h=a+this.attr("bottom")-n.y,p=this.prop("Width"),d=this.prop("Height"),f=this.attr("droppable-dir");this.$droppableBorder||(this.$droppableBorder=t(e.createNS("polyline",{class:"droppable-border"})),this.$g.append(this.$droppableBorder)),this.$droppableBorder.addClass("fr-hidden"),e.removeClass(this.$moveBlock[0],"drop-in-left"),e.removeClass(this.$moveBlock[0],"drop-in-right"),e.removeClass(this.$moveBlock[0],"drop-in-top"),e.removeClass(this.$moveBlock[0],"drop-in-bottom"),f&&(l<c&&l<u&&l<h&&"1"===f[0]&&(r="0,0 0,"+d,this.$droppableBorder.attr("points",r),e.addClass(this.$droppableBorder[0],"drop-in-left")),c<l&&c<u&&c<h&&"1"===f[2]&&(r=p+",0 "+p+","+d,this.$droppableBorder.attr("points",r),e.addClass(this.$droppableBorder[0],"drop-in-right")),u<l&&u<c&&u<h&&"1"===f[1]&&(r="0,0 "+p+",0",this.$droppableBorder.attr("points",r),e.addClass(this.$droppableBorder[0],"drop-in-top")),h<l&&h<c&&h<u&&"1"===f[3]&&(r="0,"+d+" "+p+","+d,this.$droppableBorder.attr("points",r),e.addClass(this.$droppableBorder[0],"drop-in-bottom")),this.$droppableBorder.removeClass("fr-hidden"))}function s(){this.$droppableBorder&&(this.$droppableBorder.remove(),this.$droppableBorder=null)}function a(e,i,n){var r;this.expr?(r=e.indexOf(this.expr),r===-1?e.push(i):(n&&t.inArray(n,[1,2])!==-1||(r+=1),e.splice(r,0,i))):e.push(i)}function l(t){return t.$droppableBorder.is(".drop-in-left")?1:t.$droppableBorder.is(".drop-in-top")?2:t.$droppableBorder.is(".drop-in-right")?3:t.$droppableBorder.is(".drop-in-bottom")?4:0}function c(t,e,i){var n,o=this.attr("m-type"),s=this.getTable(),c={Expression:i},u=l(this),h=s.attr("MatrixRows"),p=s.attr("MatrixColumns"),d=s.attr("MatrixCells"),f=require("currentReport");switch(i&&!s.prop("DataSource")&&(n=f.connections.pullDSByView(i)||f.dataSources.pullByView(i),n&&(s.prop("DataSource",n),r.trigger("update-properties-panel",s))),o){case 1:a.call(this,h,c,u),s.droppedOnRow(this,u,c);break;case 0:a.call(this,p,c,u),s.droppedOnColumn(this,u,c);break;case 2:a.call(this,d,c,u),s.droppedOnCell(this,u,c)}this.deleteComponentOver(),r.trigger("balance-band",s.collection.container)}function u(t){var e;t.expr&&(t.getContextMenuTitle=function(){return this.toString()+": "+this.prop("Text")},t.getContextMenuItems=function(){var t=this;return e=function(e){t.onChangeCM(e,t.expr)},[{name:n.tr("DataBandEditor Sort"),type:"list",items:[{name:n.tr("GroupBandEditor Ascending"),type:"checkbox",prop:"Sort",curVal:"Ascending"===t.expr.Sort||"undefined"==typeof t.expr.Sort,val:"Ascending",onChange:e,closeAfter:!0},{name:n.tr("GroupBandEditor Descending"),type:"checkbox",prop:"Sort",curVal:"Descending"===t.expr.Sort,val:"Descending",onChange:e,closeAfter:!0},{name:n.tr("GroupBandEditor NoSort"),type:"checkbox",prop:"Sort",curVal:"None"===t.expr.Sort,val:"None",onChange:e,closeAfter:!0}]},{name:n.tr("Dictionary Totals"),type:"checkbox",curVal:"undefined"==typeof t.expr.Totals||t.expr.Totals!==!1,prop:"Totals",onChange:function(i){function n(t,e,i){for(var n=t;n<t+e;n+=1)o[i](n)}var r,o=t.getTable(),s=o.attr("MatrixCells");e(i),i.curVal===!1?1===t.attr("m-type")?(r=t.under(),r&&n(r.getPosInColumn(),r.prop("RowSpan"),"removeRow")):(r=t.next(),r&&n(r.getPosInRow(),r.prop("ColSpan"),"removeColumn")):1===t.attr("m-type")?n(t.getPosInColumn()+1,s.vert&&s.length||1,"appendRow"):n(t.getPosInRow()+1,s.horz&&s.length||1,"appendColumn"),o.adjust(),o.update()}},{name:n.tr("Band StartNewPage"),type:"checkbox",curVal:t.expr.PageBreak,prop:"PageBreak",onChange:e},{name:n.tr("MatrixCell SuppressTotals"),type:"checkbox",curVal:t.expr.SuppressTotals,prop:"SuppressTotals",onChange:e},{name:n.tr("MatrixCell TotalsFirst"),type:"checkbox",curVal:t.expr.TotalsFirst,prop:"TotalsFirst",onChange:e}]})}function h(e,i,n,r){i&&t.isPlainObject(i)&&t.each(i,function(t,i){e.prop(t,i)}),e.attr("droppable-dir",n),e.attr("m-type",r),e.creatingComponentOver=o,e.deleteComponentOver=s,e.creatingComponentEnd=c,e.attr("droppable-component",!0),e.attr("droppable-view",!0),2!==r&&u(e),e.render()}return i.createObject(i,{title:"Objects MatrixObject",info:"MatrixObjectInfo",icon:"icon-142",pos:70,type:"MatrixObject",_init:function(){i._init.apply(this,arguments),this.defaultValues={Layout:"AcrossThenDown",WrappedGap:0,AdjustSpannedCellsWidth:!1,RepeatHeaders:!0,AutoSize:!1,CellsSideBySide:!1,KeepCellsSideBySide:!1,MatrixEventStylePriority:"Rows",ShowTitle:!1,Style:"No style"},this.prop("Name","Matrix"),this.attr({RowCount:2,ColumnCount:2,MatrixColumns:[],MatrixRows:[],MatrixCells:[],Styles:{"No style":{cr:"transparent",cells:"transparent",bc:"#C0C0C0"},White:{cr:"#FFFFFF",cells:"#FFFFFF",bc:"#C0C0C0"},Gray:{cr:"#DCDCDC",cells:"#F5F5F5",bc:"#FFFFFF"},Orange:{cr:"#FFDA46",cells:"#FFEB9B",bc:"#FFFFFF"},Green:{cr:"#7BA400",cells:"#9ED200",bc:"#FFFFFF"},"Green and Orange":{cr:"#98CC00",cells:"#FFCC00",bc:"#FFFFFF"},Blue:{cr:"#97BDFD",cells:"#BAD3FE",bc:"#FFFFFF"},"Blue and White":{cr:"#97BDFD",cells:"#FFFFFF",bc:"#FFFFFF"},"Gray and Orange":{cr:"#808080",cells:"#FFCC00",bc:"#FFFFFF"},"Blue and Orange":{cr:"#97BDFD",cells:"#FFCF6A",bc:"#FFFFFF"},"Orange and White":{cr:"#FFCC00",cells:"#FFFFFF",bc:"#FFFFFF"}}})},createCell:function(t){var e=i.createCell.call(this,t);return e.attr("droppable-view",!1),e},showResizingComponents:function(){this.prop("AutoSize")?this.hideResizingComponents():i.showResizingComponents.apply(this,arguments)},clone:function(){var t,n,r=i.clone.apply(this,arguments),o=this.attr("MatrixColumns"),s=this.attr("MatrixRows"),a=this.attr("MatrixCells"),l=[],c=[],u=[];for(t=0,n=o.length;t<n;t+=1)l.push(e.extend({},o[t]));for(t=0,n=s.length;t<n;t+=1)c.push(e.extend({},s[t]));for(t=0,n=a.length;t<n;t+=1)u.push(e.extend({},a[t]));return r.attr("MatrixColumns",l),r.attr("MatrixRows",c),r.attr("MatrixCells",u),r.bindEvents(),r},getContextMenuItems:function(){var e=this,i=e.onChangeCM.bind(e);return[{name:n.tr("MatrixObject ShowTitle"),type:"checkbox",curVal:e.prop("ShowTitle"),prop:"ShowTitle",onChange:function(t){i(t),e.onShowTitleChange(t.prop,t.curVal)}},{name:n.tr("TableObject RepeatHeaders"),type:"checkbox",curVal:e.prop("RepeatHeaders"),prop:"RepeatHeaders",onChange:i},{name:n.tr("MatrixObject CellsSideBySide"),type:"checkbox",curVal:e.prop("CellsSideBySide"),prop:"CellsSideBySide",onChange:i},{type:"separator"},{name:n.tr("MatrixObject Style"),type:"list",items:function(){var r=[],o=e.prop("Style"),s=function(t){i(t),e.colorize()};return t.each(e.attr("Styles"),function(t){r.push({name:n.tr(t),type:"checkbox",prop:"Style",curVal:o===t,val:t,closeAfter:!0,onChange:s})}),r}}]},getCurStyle:function(){return this.attr("Styles")[this.prop("Style")]},_setDefaultCellValues:function(t,e,i){var n=e;n&&(n=n.match(/.([^.]+)\]$/),n&&n[1]?(n=n[1],i||(n="["+n+"]")):n=e),t.prop("Text",n||i||""),t.prop("TextFill.Color",t.defaultValues["TextFill.Color"]),t.prop("Fill.Color",t.defaultValues["Fill.Color"]),t.prop("HorzAlign","Center"),t.prop("VertAlign","Center")},colorize:function(t){var e,i=this,n=this.getCurStyle(),r=function(t){i._setDefaultCellValues(t,null,t.prop("Text")),t.getPosInRow()<e[0]||t.getPosInColumn()<e[1]?t.prop("Fill.Color",n.cr):t.prop("Fill.Color",n.cells),t.prop("Border.Lines","All"),t.prop("Border.Width",1),t.prop("Border.Style","Solid"),t.prop("Border.Color",n.bc||t.prop("Border.Color")),t.render()};e=this.getFirstCellPos(),t?r(t):this._eachCell(function(t,e){r(e)})},onShowTitleChange:function(t,e){if(e&&!this.attr("hasTitle")){var i=this.appendRow(0),n=0,r=i.cells.length;for(this.attr("hasTitle",!0);n<r;n+=1)this.colorize(i.cells[n])}else!e&&this.attr("hasTitle")&&(this.removeRow(0),this.attr("hasTitle",!1));this.adjustTitle(),this.update()},afterAlign:function(){var t=this.rows[0].cells[1],e=this.rows[1].cells[0],i=this.rows[1].cells[1];h(t,{Text:n.tr("Matrix NewColumn"),"TextFill.Color":"gray"},null,0),h(e,{Text:n.tr("Matrix NewRow"),"TextFill.Color":"gray"},null,1),h(i,{Text:n.tr("Matrix NewCell"),"TextFill.Color":"gray"},null,2)},_eachCR:function(t,e){var i,r,o,s,a,l,c,u,h,p,d=this.attr("MatrixCells");for("ColSpan"===e?(a="horz",s="RowSpan",l="next"):(a="vert",s="ColSpan",l="under"),c=t.length-1;c>=0;c-=1){for(h=t[c].cell,o=d[a]&&d.length?d.length:1,r=(r||0)+o,p=h[l](),u=r-1;u>0;u-=1)p&&(p.prop("ColSpan",1),p.prop("RowSpan",1),this._setDefaultCellValues(p),p=p[l]());h.prop(e,r),i=h[l](),t[c].Totals!==!1?i&&(i.prop(s,t.length-c),i.prop(e,o),this._setDefaultCellValues(i,n.tr("TotalEditor Total"))):r-=1,this._setDefaultCellValues(h,t[c].Expression)}},adjust:function(){this.adjustCells(),this._eachCR(this.attr("MatrixColumns"),"ColSpan"),this._eachCR(this.attr("MatrixRows"),"RowSpan"),this.adjustTitle(),this.colorize()},adjustTitle:function(){var t=this.attr("MatrixRows").length,e=this.rows[0].cells[0],i=1;this.prop("ShowTitle")&&(t&&(i=t,this.attr("MatrixCells").vert&&(i+=1),e.prop("ColSpan",i)),e=this.rows[0].cells[i],i=this.attr("ColumnCount")-e.getPosInRow(),e.prop("ColSpan",i))},getFirstCellPos:function(){var t=this.attr("MatrixColumns"),e=this.attr("MatrixRows"),i=this.attr("MatrixCells"),n=[1,1];return e.length?n[0]=e[e.length-1].cell.getPosInRow()+(i.vert&&i.length>1?2:1):i.vert&&(n[0]+=1),t.length?n[1]=t[t.length-1].cell.getPosInColumn()+(i.horz&&i.length>1?2:1):(this.prop("ShowTitle")&&(n[1]+=1),i.horz&&(n[1]+=1)),n},adjustCells:function(){var e,i,n,r,o,s=this.getFirstCellPos(),a=this.attr("MatrixColumns"),l=this.attr("MatrixRows"),c=this.attr("MatrixCells"),u=a.length,p=l.length,d=c.length,f=[];if(i=this.rows[s[1]].cells[s[0]],e=i,c.horz){for(r=u*d+d||1,o=u-1;o>=0;o-=1)a[o].Totals===!1&&(r-=d);e.afterInRow().length<r&&(this.attr("ColumnCount",e.getPosInRow()+r),this.update())}else if(c.vert){for(r=p*d+d||1,o=p-1;o>=0;o-=1)l[o].Totals===!1&&(r-=d);e.afterInColumn().length<r&&(this.attr("RowCount",e.getPosInColumn()+r),this.update())}for(o=0;o<d;o+=1)c[o].cell=e,e.expr=c[o],this._setDefaultCellValues(e,c[o].Expression),c.horz?(h(e,null,"1010",2),e=e.next()):c.vert&&(h(e,null,"0101",2),e=e.under());if(e&&c.horz)f=e.afterInRow(!0),e=i.over(),n="next";else{if(!e||!c.vert)return;f=e.afterInColumn(!0),e=i.prev(),n="under"}for(f.length>1&&t.each(f,function(t,e){this._setDefaultCellValues(e,"")}.bind(this)),o=0;e;)this._setDefaultCellValues(e,c[o%d].Expression,!0),e=e[n](),
o+=1},droppedOnColumn:function(t,e,i){1===this.attr("MatrixColumns").length?this.appendColumn(this.attr("ColumnCount")):2===e?(this.appendColumn(t.getPosInRow()+2),this.appendRow(t.getPosInColumn()+0),t=t.over()):(this.appendColumn(t.getPosInRow()+1),this.appendRow(t.getPosInColumn()+1),t=t.under()),i.cell=t,t.expr=i,h(t,null,"0101",0),this.adjust(),this.update()},droppedOnRow:function(t,e,i){1===this.attr("MatrixRows").length?this.appendRow(this.attr("RowCount")):1===e?(this.appendRow(t.getPosInColumn()+2),this.appendColumn(t.getPosInRow()+0),t=t.prev()):(this.appendRow(t.getPosInColumn()+1),this.appendColumn(t.getPosInRow()+1),t=t.next()),i.cell=t,t.expr=i,h(t,null,"1010",1),this.adjust(),this.update()},droppedOnCell:function(t,e){var i=this.attr("MatrixCells");i.length>1?2===i.length&&(1===e||3===e?(i.horz=!0,this.appendRow(t.getPosInColumn())):(i.vert=!0,this.appendColumn(t.getPosInRow()))):h(t,null,"1111",2),this.adjust(),this.update()},bindEvents:function(){var t,e,i=this.attr("MatrixCells"),n=this.attr("MatrixRows"),r=this.attr("MatrixColumns"),o=n.length||1,s=i.length||1,a=r.length||1,l=[0,1],c=[1,0],u=[0,0];for(1===s?(l=[0,o],c=[a,0]):s>0&&(this.attr("RowCount")>this.attr("ColumnCount")?(i.vert=!0,l=[0,o+1],c=[a,0],u[1]=1):(i.horz=!0,l=[0,o],c=[a+1,0],u[0]=1)),this.prop("ShowTitle")&&(this.attr("hasTitle",!0),l[0]+=1,c[0]+=1),e=this.rows[l[0]].cells[l[1]],t=0;e&&t<a;)r[t]&&(r[t].cell=e,e.expr=r[t]),h(e,null,"0101",0),e=e.under(),t+=1;for(u[0]+=e.getPosInColumn(),e=this.rows[c[0]].cells[c[1]],t=0;e&&t<o;)n[t]&&(n[t].cell=e,e.expr=n[t]),h(e,null,"1010",1),e=e.next(),t+=1;for(u[1]+=e.getPosInRow(),e=this.rows[u[0]].cells[u[1]],t=0;e&&t<s;)i.horz?(h(e,null,"1010",2),e=e.next()):i.vert?(h(e,null,"0101",2),e=e.under()):(h(e,null,"1111",2),e=e.next()),t+=1},fillProps:function(e){var n,r=this.attr("MatrixCells"),o=this.attr("MatrixRows"),s=this.attr("MatrixColumns");i.fillProps.apply(this,arguments),n=function(i,n){var r,o;e.find(i).each(function(e,i){r={},t.each(i.attributes,function(t,e){o="false"!==e.value&&("true"===e.value||e.value),r[e.name]=o}),n.push(r)})},n("MatrixColumns >",s),n("MatrixRows >",o),n("MatrixCells >",r),this.bindEvents()},toXML:function(e){var n,r=t(i.toXML.apply(this,arguments)),o=t(e.parentNode.ownerDocument.createElement("MatrixColumns")),s=t(e.parentNode.ownerDocument.createElement("MatrixRows")),a=t(e.parentNode.ownerDocument.createElement("MatrixCells")),l=this.attr("MatrixColumns"),c=this.attr("MatrixRows"),u=this.attr("MatrixCells");return t.each(l,function(){n=t(e.parentNode.ownerDocument.createElement("Header")),t.each(this,function(t,e){"object"!=typeof e&&n.attr(t,e)}),o.append(n)}),t.each(c,function(){n=t(e.parentNode.ownerDocument.createElement("Header")),t.each(this,function(t,e){"object"!=typeof e&&n.attr(t,e)}),s.append(n)}),t.each(u,function(){n=t(e.parentNode.ownerDocument.createElement("Cell")),t.each(this,function(t,e){"object"!=typeof e&&n.attr(t,e)}),a.append(n)}),r.prepend(a),r.prepend(s),r.prepend(o),r[0]}})}),define("components/BarcodeObject",["jquery","utils","Component"],function(t,e,i){"use strict";return i.createObject(i,{title:"Objects BarcodeObject",info:"BarcodeObjectInfo",icon:"icon-123",pos:80,type:"BarcodeObject",types:{"2/5 Interleaved":{label:"2/5 Interleaved",render:function(){this.prop("Width",80),e.attr(this.$preview[0],"d",this.getD(150,0)),e.attr(this.$preview[0],"transform","translate(-150, 0)")}},"2/5 Industrial":{label:"2/5 Industrial",render:function(){this.prop("Width",140),e.attr(this.$preview[0],"d",this.getD(0,0)),e.attr(this.$preview[0],"transform","translate(0, 0)")}},"2/5 Matrix":{label:"2/5 Matrix",render:function(){this.prop("Width",105),e.attr(this.$preview[0],"d",this.getD(240,0)),e.attr(this.$preview[0],"transform","translate(-240, 0)")}},Codabar:{label:"Codabar",render:function(){this.prop("Width",126),e.attr(this.$preview[0],"d",this.getD(355,0)),e.attr(this.$preview[0],"transform","translate(-355, 0)")}},Code128:{label:"Code128",render:function(){this.prop("Width",99),e.attr(this.$preview[0],"d",this.getD(1093,0)),e.attr(this.$preview[0],"transform","translate(-1093, 0)")}},Code39:{label:"Code39",render:function(){this.prop("Width",145),e.attr(this.$preview[0],"d",this.getD(491,0)),e.attr(this.$preview[0],"transform","translate(-491, 0)")}},"Code39 Extended":{label:"Code39 Extended",render:function(){this.prop("Width",145),e.attr(this.$preview[0],"d",this.getD(646,0)),e.attr(this.$preview[0],"transform","translate(-646, 0)")}},Code93:{label:"Code93",render:function(){this.prop("Width",136),e.attr(this.$preview[0],"d",this.getD(801,0)),e.attr(this.$preview[0],"transform","translate(-801, 0)")}},"Code93 Extended":{label:"Code93 Extended",render:function(){this.prop("Width",136),e.attr(this.$preview[0],"d",this.getD(947,0)),e.attr(this.$preview[0],"transform","translate(-947, 0)")}},EAN8:{label:"EAN8",render:function(){this.prop("Width",84),e.attr(this.$preview[0],"d",this.getD(1284,0)),e.attr(this.$preview[0],"transform","translate(-1284, 0)")}},EAN13:{label:"EAN13",render:function(){this.prop("Width",129),e.attr(this.$preview[0],"d",this.getD(1378,0)),e.attr(this.$preview[0],"transform","translate(-1378, 0)")}},MSI:{label:"MSI",render:function(){this.prop("Width",144),e.attr(this.$preview[0],"d",this.getD(1517,0)),e.attr(this.$preview[0],"transform","translate(-1517, 0)")}},PostNet:{label:"PostNet",render:function(){this.prop("Width",155),e.attr(this.$preview[0],"d",this.getD(1767,0)),e.attr(this.$preview[0],"transform","translate(-1767, 0)")}},"UPC-A":{label:"UPC-A",render:function(){this.prop("Width",139),e.attr(this.$preview[0],"d",this.getD(2256,0)),e.attr(this.$preview[0],"transform","translate(-2256, 0)")}},"UPC-E0":{label:"UPC-E0",render:function(){this.prop("Width",84),e.attr(this.$preview[0],"d",this.getD(2162,0)),e.attr(this.$preview[0],"transform","translate(-2162, 0)")}},"UPC-E1":{label:"UPC-E1",render:function(){this.prop("Width",84),e.attr(this.$preview[0],"d",this.getD(2162,0)),e.attr(this.$preview[0],"transform","translate(-2162, 0)")}},"Supplement 2":{label:"Supplement 2",render:function(){this.prop("Width",25),e.attr(this.$preview[0],"d",this.getD(2058,0)),e.attr(this.$preview[0],"transform","translate(-2058, 0)")}},"Supplement 5":{label:"Supplement 5",render:function(){this.prop("Width",59),e.attr(this.$preview[0],"d",this.getD(2093,0)),e.attr(this.$preview[0],"transform","translate(-2093, 0)")}},PDF417:{label:"PDF417",render:function(){this.prop("Width",86),e.attr(this.$preview[0],"d",this.getD(1671,0)),e.attr(this.$preview[0],"transform","translate(-1671, 0)")}},Datamatrix:{label:"Datamatrix",render:function(){this.prop("Width",72),e.attr(this.$preview[0],"d",this.getD(1202,0)),e.attr(this.$preview[0],"transform","translate(-1202, 0)")}},"QR Code":{label:"QR Code",render:function(){this.prop("Width",116),e.attr(this.$preview[0],"d",this.getD(1932,0)),e.attr(this.$preview[0],"transform","translate(-1932, 0)")}},Plessey:{label:"Plessey",render:function(){this.prop("Width",154),e.attr(this.$preview[0],"d",this.getD(2400,0)),e.attr(this.$preview[0],"transform","translate(-2400, 0)")}},"GS1-128 (UCC/EAN-128)":{label:"GS1-128 (UCC/EAN-128)",render:function(){this.prop("Width",112),e.attr(this.$preview[0],"d",this.getD(2559,0)),e.attr(this.$preview[0],"transform","translate(-2559, 0)")}},Aztec:{label:"Aztec",render:function(){this.prop("Width",88),e.attr(this.$preview[0],"d",this.getD(2676,0)),e.attr(this.$preview[0],"transform","translate(-2676, 0)")}}},_init:function(){i._init.apply(this,arguments),this.defaultValues={HideIfNoData:!0,ShowText:!0,Zoom:1,Text:"12345678"},this.prop({Name:"Barcode",Barcode:"Code39",Height:85}),this.attr({resizableX:!1,resizableY:!0,resizableXY:!1,withPadding:!0})},getD:function(t,e){var i=[t,e],n=[i[0]+this.prop("Width"),0],r=[n[0],116],o=[i[0],r[1]];return"M"+i[0]+" "+i[1]+" L"+n[0]+" "+n[1]+" L"+r[0]+" "+r[1]+" L"+o[0]+" "+o[1]+" L"+i[0]+" "+i[1]+"Z"},render:function(){var n;return this.$previewContainer||(this.$previewContainer=t(e.createNS("g",{transform:"scale(1)"}))),this.$preview||(this.$preview=t(e.createNS("path",{fill:"url(#d-barcode-sprite)",class:"move"}))),n=this.prop("Barcode"),this.types[n]&&this.types[n].render.call(this),i.render.apply(this,arguments),this.prop("Zoom")&&(e.attr(this.$previewContainer[0],"transform","scale("+this.prop("Zoom")+", 1)"),this.prop("Width",this.prop("Width")*this.prop("Zoom"))),this.$previewContainer.append(this.$preview),this.$contentGroup.append(this.$previewContainer),this.$g}})}),define("components/RichObject",["jquery","utils","Component"],function(t,e,i){"use strict";return i.createObject(i,{title:"Objects RichObject",info:"RichObjectInfo",icon:"icon-126",pos:90,type:"RichObject",_init:function(){i._init.apply(this,arguments),this.defaultValues={"Padding.Left":2,"Padding.Right":2,CanBreak:!0,ProcessAt:"Default",AllowExpressions:!0,OldBreakStyle:!1},this.prop({Name:"Rich",Width:94.5,Height:18.9,Text:""}),this.attr({withPadding:!0})}})}),define("components/CheckBoxObject",["jquery","utils","Component"],function(t,e,i){"use strict";return i.createObject(i,{title:"Objects CheckBoxObject",info:"CheckBoxObjectInfo",icon:"icon-116",pos:100,type:"CheckBoxObject",_init:function(){i._init.apply(this,arguments),this.defaultValues={UncheckedSymbol:"None",CheckWithRatio:1,CheckedSymbol:"Check",HideIfUnchecked:!1},this.prop({Name:"CheckBox",Width:18.9,Height:18.9,CheckColor:"#000000",CheckedSymbol:"Check",CheckWithRatio:1,UncheckedSymbol:"None",Checked:!0,DataColumn:"",expression:""})},render:function(){var n,r,o,s,a,l,c,u=this.prop("Width"),h=this.prop("Height"),p=this.prop("Left"),d=this.prop("Top"),f=this.prop("CheckWithRatio");if(i.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(e.createNS("g")),this.$nestedG2=t(e.createNS("g")),this.$textNode=t(e.createNS("text",{class:"text"})),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$contentGroup.append(this.$nestedG1)),this.prop("Checked"))switch(n=this.prop("CheckedSymbol")){case"Check":n="✓";break;case"Cross":n="x";break;case"Plus":n="+";break;case"Fill":n="-";break;default:n="✓"}else switch(n=this.prop("UncheckedSymbol")){case"None":n="";break;case"Cross":n="x";break;case"Minus":n="-";break;default:n=""}return this.$textNode.text(n),r=[p,d],o=[p+u,d+h],s=Math.sqrt(Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2)),c=s/2,a=u/2-c/2,l=h/2-c/2,a<0&&(a=0),l<c&&(l=c),e.attr(this.$nestedG1[0],"transform","translate("+a+","+l+")"),this.$textNode.css({"font-size":c,fill:this.prop("CheckColor"),"font-weight":f<1?"normal":"bold"}),this.$g}})}),define("components/CellularTextObject",["jquery","config","utils","TextComponent","Collection","l10n","EventEmitter"],function(t,e,i,n,r,o,s){"use strict";return n.createObject(n,{title:"Objects CellularTextObject",info:"CellularTextObjectInfo",icon:"icon-cellular_text",pos:120,type:"CellularTextObject",_init:function(){n._init.apply(this,arguments),this.highlights=r.create(this),this.defaultValues={VertAlign:"Top",HorzAlign:"Left","TextFill.Color":"#000000",ParagraphOffset:0,ProcessAt:"Default",WordWrap:!0,AllowExpressions:!0},this.prop({Name:"CellularText",Text:"",Width:226.8,Height:28.35,CellWidth:0,CellHeight:0,HorzSpacing:0,VertSpacing:0,"Border.Lines":"All"}),this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"10pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,"text-anchor":"middle",cellWidth:28.34,cellHeight:28.34}),this.setMinWH()},setMinWH:function(){this.prop("CellWidth")&&this.prop("CellHeight")?(this.attr("minWidth",this.prop("CellWidth")+this.prop("HorzSpacing")),this.attr("minHeight",this.prop("CellHeight")+this.prop("VertSpacing"))):(this.attr("minWidth",this.attr("cellWidth")+this.prop("HorzSpacing")),this.attr("minHeight",this.attr("cellHeight")+this.prop("VertSpacing")))},_createLine:function(e){var n=t(i.createNS("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}));return n.css({stroke:e.Color,"stroke-width":e.Width,"stroke-dasharray":e.Style}),n},appendEdges:function(){},appendBorders:function(){},appendBordersForCell:function(i,n,r){var o=e.get("dasharrays"),s=this.prop("Border.Lines").split(/,[\s]?/),a=this.prop("Border.Color"),l=this.prop("Border.Width"),c=this.prop("Border.Style"),u=t();t.inArray("None",s)===-1&&((t.inArray("All",s)>-1||t.inArray("Top",s)>-1)&&u.push(this._createLine({x1:0,y1:0,x2:n,y2:0,Color:this.prop("Border.TopLine.Color")||a,Width:this.prop("Border.TopLine.Width")||l,Style:o[this.prop("Border.TopLine.Style")||c]})),(t.inArray("All",s)>-1||t.inArray("Right",s)>-1)&&u.push(this._createLine({x1:n,y1:0,x2:n,y2:r,Color:this.prop("Border.RightLine.Color")||a,Width:this.prop("Border.RightLine.Width")||l,Style:o[this.prop("Border.RightLine.Style")||c]})),(t.inArray("All",s)>-1||t.inArray("Bottom",s)>-1)&&u.push(this._createLine({x1:n,y1:r,x2:0,y2:r,Color:this.prop("Border.BottomLine.Color")||a,Width:this.prop("Border.BottomLine.Width")||l,Style:o[this.prop("Border.BottomLine.Style")||c]})),(t.inArray("All",s)>-1||t.inArray("Left",s)>-1)&&u.push(this._createLine({x1:0,y1:r,x2:0,y2:0,Color:this.prop("Border.LeftLine.Color")||a,Width:this.prop("Border.LeftLine.Width")||l,Style:o[this.prop("Border.LeftLine.Style")||c]}))),u.each(function(){i.append(this)})},generateCell:function(e,n,r,o){var s=t(i.createNS("g")),a=t(i.createNS("rect",{width:e,height:n}));return a.css("fill",this.prop("Fill.Color")),i.attr(s[0],"transform","translate("+r+","+o+")"),s.append(a),this.appendBordersForCell(s,e,n),s},dblclick:function(){s.trigger("show-expression-editor",this,"Text",!0)},getContextMenuItems:function(){var t=this,e=function(e){return t.onChangeCM(e)};return[{name:o.tr("Edit..."),type:"default",closeAfter:!0,onClick:function(){s.trigger("activate",t),t.dblclick()}},{name:o.tr("TextObject Format"),type:"default",closeAfter:!0,onClick:function(){s.trigger("activate",t),s.trigger("format",t)}},{name:o.tr("Clear"),type:"default",closeAfter:!0,onClick:function(){t.prop("Text","",!0),t.render(),s.trigger("activate",t)}},{type:"separator"},{name:o.tr("Can Grow"),type:"checkbox",curVal:t.prop("CanGrow"),prop:"CanGrow",onChange:e},{name:o.tr("Can Shrink"),type:"checkbox",curVal:t.prop("CanShrink"),prop:"CanShrink",onChange:e},{name:o.tr("Can Break"),type:"checkbox",curVal:t.prop("CanBreak"),prop:"CanBreak",onChange:e},{name:o.tr("Grow To Bottom"),type:"checkbox",curVal:t.prop("GrowToBottom"),prop:"GrowToBottom",onChange:e},{type:"separator"},{name:o.tr("Auto Width"),type:"checkbox",curVal:t.prop("AutoWidth"),prop:"AutoWidth",onChange:e},{name:o.tr("WordWrap"),type:"checkbox",curVal:t.prop("WordWrap"),prop:"WordWrap",onChange:e},{name:o.tr("Allow Expressions"),type:"checkbox",curVal:t.prop("AllowExpressions"),prop:"AllowExpressions",onChange:e},{type:"separator"},{name:o.tr("Delete"),type:"default",disabled:!t.canBeRemoved(),closeAfter:!0,onClick:function(){s.trigger("remove",t)}},{type:"separator"},{name:o.tr("Bring to Front"),type:"default",closeAfter:!0,onClick:function(){s.trigger("bring-to-front",t)}},{name:o.tr("Send to back"),type:"default",closeAfter:!0,onClick:function(){s.trigger("send-to-back",t)}}]},render:function(){n.render.apply(this,arguments);var e,r,o,s=this.prop("Text").toString(),a=this.attr("cellWidth"),l=this.attr("cellHeight"),c=this.prop("HorzSpacing"),u=this.prop("VertSpacing"),h=this.attr("Font.Size"),p=this.attr("Font.Name"),d=0,f=0,g=0,m=t(i.createNS("g")),v=this.prop("Width"),b=this.prop("Height");for(this.$contentGroup.empty(),this.prop("CellWidth")&&this.prop("CellHeight")&&(a=this.prop("CellWidth"),l=this.prop("CellHeight")),e=Math.floor(v/a)*Math.floor(b/l);d<e&&(f+a>v+1&&(f=0,g+=l+u),!(g+l>b+1));d+=1)r=this.generateCell(a,l,f,g),o=t(i.createNS("text")),o.text(s[d]),o.css({"font-size":h+(t.isNumeric(h)?"pt":""),fill:this.prop("TextFill.Color"),"font-family":p,"text-anchor":this.attr("text-anchor")}),i.attr(o[0],"transform","translate("+a/2+","+l/1.3+")"),this.applyFontStyles(o),r.append(o),m.append(r),f+=a+c;return this.$moveBlock.css("fill","transparent"),this.$contentGroup.append(m),this.$g}})}),define("components/LinearGauge",["jquery","config","utils","TextComponent"],function(t,e,i,n){"use strict";var r=6,o=3,s=3.6,a=40,l=18.89;return n.createObject(n,{title:"Objects Gauge Linear",info:"LinearGaugeInfo",icon:"icon-135",pos:130,type:"LinearGauge",_init:function(){n._init.apply(this,arguments),this.defaultValues={Maximum:100,Minimum:0,Value:10,Inverted:!1,"Pointer.BorderColor":"#000","Pointer.Color":"#FFA500","Scale.MajorTicks.Color":"#000","Scale.MajorTicks.Width":2,"Scale.MinorTicks.Color":"#000","Scale.MinorTicks.Width":2},this.prop({Name:"LinearGauge",Width:302.36,Height:75.59,"Border.Lines":"All"}),this.attr({"Scale.Font.Name":e.get("default-font-name"),"Scale.Font.Size":"8pt","Scale.Font.Bold":!1,"Scale.Font.Italic":!1,"Scale.Font.Underline":!1,"Scale.Font.Strikeout":!1})},getRange:function(){return this.prop("Maximum")-this.prop("Minimum")},getPace:function(){return Math.floor(this.getRange()/(r-1))},appendPointer:function(){var e,n,r=this.prop("Width"),o=this.prop("Height"),c=this.prop("Value"),u=this.getRange(),h=100*c/u,p=r-2*l,d=o-2*l;return this.$pointer||(this.$pointerContainer=t(i.createNS("g")),this.$pointer=t(i.createNS("path"))),n=this.prop("Pointer.Width",r*s/100),e=this.prop("Pointer.Height",o*a/100),i.attr(this.$pointer[0],"d","M"+n/2+" 0 L0 10 L0 "+e+" L"+n+" "+e+" L"+n+" 10 L"+n/2+" 0 Z"),this.$pointer.css({stroke:this.prop("Pointer.BorderColor"),fill:this.prop("Pointer.Color")}),this.prop("Inverted")?this.attr("isHorizontal")?(i.attr(this.$pointer[0],"transform","rotate(180, "+n/2+", "+e/2+")"),i.attr(this.$pointerContainer[0],"transform","translate("+(p*h/100+l-n/2)+", "+l+")")):(i.attr(this.$pointer[0],"transform","rotate(90, "+n/2+", "+e/2+")"),i.attr(this.$pointerContainer[0],"transform","translate("+2*l+", "+(d+l-e/2-d*h/100)+")")):this.attr("isHorizontal")?(i.attr(this.$pointer[0],"transform","rotate(0)"),i.attr(this.$pointerContainer[0],"transform","translate("+(p*h/100+l-n/2)+", "+o/2+")")):(i.attr(this.$pointer[0],"transform","rotate(270, "+n/2+", "+e/2+")"),i.attr(this.$pointerContainer[0],"transform","translate("+r/2+", "+(d+l-e/2-d*h/100)+")")),this.$pointerContainer.append(this.$pointer),this.$contentGroup.append(this.$pointerContainer),this.$pointer},createHorz:function(){var e,n,s,a=l,c=20,u=this.prop("Width"),h=this.prop("Height"),p=this.getPace(),d=this.prop("Minimum"),f=u-2*l,g=f/(r-1);for(this.paces&&!this.attr("isVertical")||(this.$contentGroup.empty(),this.paces=[]),e=0;e<r;e+=1){if(this.paces[e]||(this.paces[e]={$self:t(i.createNS("g")),$minorTicks:[],$majorTick:t(i.createNS("line")),$paceText:t(i.createNS("text"))},this.paces[e].$self.append(this.paces[e].$majorTick,this.paces[e].$paceText),this.$contentGroup.append(this.paces[e].$self)),this.paces[e].$majorTick.css({"stroke-width":this.prop("Scale.MajorTicks.Width"),stroke:this.prop("Scale.MajorTicks.Color")}),this.paces[e].$majorTick.attr({x1:0,y1:1,x2:0,y2:h-2*c}),this.paces[e].$paceText.text(d),this.applyFontStyles(this.paces[e].$paceText,"Scale."),this.paces[e].$paceText.css({"font-size":this.attr("Scale.Font.Size")+(t.isNumeric(this.attr("Scale.Font.Size"))?"pt":""),fill:"#000","font-family":this.attr("Scale.Font.Name"),"text-anchor":"middle"}),i.attr(this.paces[e].$self[0],"transform","translate("+a+", "+c+")"),a+=g,e+1!==r)for(n=0,s=0;n<o;n+=1)this.paces[e].$minorTicks[n]||(this.paces[e].$minorTicks[n]=t(i.createNS("line")),this.paces[e].$self.append(this.paces[e].$minorTicks[n])),this.paces[e].$minorTicks[n].css({"stroke-width":this.prop("Scale.MinorTicks.Width"),stroke:this.prop("Scale.MinorTicks.Color")}),this.paces[e].$minorTicks[n].attr({x1:0,y1:0,x2:0,y2:h-3*c}),s+=g/(o+1),i.attr(this.paces[e].$minorTicks[n][0],"transform","translate("+s+", "+c/2+")");d+=p,this.prop("Inverted")?i.attr(this.paces[e].$paceText[0],"transform","translate(0, "+(h-c-5)+")"):i.attr(this.paces[e].$paceText[0],"transform","translate(0, 0)")}},createVert:function(){var e,n,s,a=l,c=20,u=this.prop("Width"),h=this.prop("Height"),p=this.getPace(),d=this.prop("Minimum"),f=h-2*l,g=f/(r-1);for(a+=f,this.paces&&!this.attr("isHorizontal")||(this.$contentGroup.empty(),this.paces=[]),e=0;e<r;e+=1)if(this.paces[e]||(this.paces[e]={$self:t(i.createNS("g")),$minorTicks:[],$majorTick:t(i.createNS("line")),$paceText:t(i.createNS("text"))},this.paces[e].$self.append(this.paces[e].$majorTick,this.paces[e].$paceText),this.$contentGroup.append(this.paces[e].$self)),this.paces[e].$majorTick.css({"stroke-width":this.prop("Scale.MajorTicks.Width"),stroke:this.prop("Scale.MajorTicks.Color")}),this.paces[e].$majorTick.attr({x1:0,y1:1,x2:u-2*c,y2:0}),this.paces[e].$paceText.text(d),this.paces[e].$paceText.css({"font-size":this.attr("Scale.Font.Size")+(t.isNumeric(this.attr("Scale.Font.Size"))?"pt":""),fill:"#000","font-family":this.attr("Scale.Font.Name"),"text-anchor":"middle"}),this.applyFontStyles(this.paces[e].$paceText,"Scale."),i.attr(this.paces[e].$self[0],"transform","translate("+c+", "+a+")"),a-=g,d+=p,this.prop("Inverted")?i.attr(this.paces[e].$paceText[0],"transform","translate("+(u-c-10)+", 5)"):i.attr(this.paces[e].$paceText[0],"transform","translate(-10, 5)"),0!==e)for(n=0,s=0;n<o;n+=1)this.paces[e].$minorTicks[n]||(this.paces[e].$minorTicks[n]=t(i.createNS("line")),this.paces[e].$self.append(this.paces[e].$minorTicks[n])),this.paces[e].$minorTicks[n].css({"stroke-width":this.prop("Scale.MinorTicks.Width"),stroke:this.prop("Scale.MinorTicks.Color")}),this.paces[e].$minorTicks[n].attr({x1:0,y1:0,x2:u-3*c,y2:0}),s+=g/(o+1),i.attr(this.paces[e].$minorTicks[n][0],"transform","translate("+c/2+", "+s+")")},render:function(){return n.render.apply(this,arguments),this.prop("Width")>this.prop("Height")?(this.createHorz(),this.attr("isHorizontal",!0),this.attr("isVertical",!1)):(this.createVert(),this.attr("isVertical",!0),this.attr("isHorizontal",!1)),this.appendPointer(),this.$g},fillProps:function(t){return n.fillProps.apply(this,arguments),this.fillFont(t,"Scale."),this},toXML:function(){var e=t(n.toXML.apply(this,arguments));return this.bindFontView(e,"Scale."),e[0]}})}),define("components/SimpleGauge",["jquery","config","utils","TextComponent"],function(t,e,i,n){"use strict";var r=6,o=3,s=10,a=18.89,l=14.89;return n.createObject(n,{title:"Objects Gauge Simple",info:"SimpleGaugeInfo",icon:"icon-135",pos:140,type:"SimpleGauge",_init:function(){n._init.apply(this,arguments),this.defaultValues={Maximum:100,Minimum:0,Value:75,Inverted:!1,"Pointer.BorderColor":"#000","Pointer.Color":"#FFA500","Scale.FirstSubScale.Enabled":!0,"Scale.FirstSubScale.ShowCaption":!0,"Scale.SecondSubScale.Enabled":!0,"Scale.SecondSubScale.ShowCaption":!0,"Scale.MajorTicks.Color":"#000","Scale.MajorTicks.Width":2,"Scale.MinorTicks.Color":"#000","Scale.MinorTicks.Width":2,"Pointer.Height":6},this.prop({Name:"SimpleGauge",Width:302.36,Height:75.59,"Border.Lines":"All"}),this.attr({"Scale.Font.Name":e.get("default-font-name"),"Scale.Font.Size":"8pt","Scale.Font.Bold":!1,"Scale.Font.Italic":!1,"Scale.Font.Underline":!1,"Scale.Font.Strikeout":!1})},getRange:function(){return this.prop("Maximum")-this.prop("Minimum")},getPace:function(){return Math.floor(this.getRange()/(r-1))},appendPointer:function(){var e,n=this.prop("Pointer.Height"),r=this.prop("Width"),o=this.prop("Height"),s=this.prop("Value"),c=this.getRange(),u=100*s/c,h=r-2*a,p=o-2*l;this.$pointer||(this.$pointerContainer=t(i.createNS("g")),this.$pointer=t(i.createNS("rect"))),this.$pointer.css({stroke:this.prop("Pointer.BorderColor"),fill:this.prop("Pointer.Color")}),this.$pointerContainer.append(this.$pointer),this.$contentGroup.append(this.$pointerContainer),this.attr("isHorizontal")?(e=this.prop("Pointer.Width",h*u/100),this.$pointer.attr({width:e,height:n}),i.attr(this.$pointerContainer[0],"transform","translate("+a+", "+(o/2-n/2)+")")):(e=this.prop("Pointer.Width",p*u/100),this.$pointer.attr({width:n,height:e}),i.attr(this.$pointerContainer[0],"transform","translate("+(r/2-n/2)+", "+(o-l-e)+")"))},createHorz:function(){var e,n,c,u=this,h=a,p=this.prop("Width"),d=this.prop("Height"),f=this.getPace(),g=this.prop("Minimum"),m=p-2*a,v=m/(r-1),b=parseInt(this.attr("Scale.Font.Size"),10),y=d-2*l-s,x=50*y/100,C=x/2,w=function(e,i){i.text(g),u.applyFontStyles(i,"Scale."),i.css({"font-size":b+(t.isNumeric(u.attr("Scale.Font.Size"))?"pt":""),fill:"#000","font-family":u.attr("Scale.Font.Name"),"text-anchor":"middle"})};for(this.paces&&!this.attr("isVertical")||(this.$contentGroup.empty(),this.paces=[]),e=0;e<r;e+=1){if(this.paces[e]||(this.paces[e]={$self:t(i.createNS("g")),$minorTicksTop:[],$majorTickTop:t(i.createNS("line")),$paceTextTop:t(i.createNS("text")),$majorTickBottom:t(i.createNS("line")),$minorTicksBottom:[],$paceTextBottom:t(i.createNS("text"))},this.paces[e].$self.append(this.paces[e].$majorTickTop,this.paces[e].$paceTextTop,this.paces[e].$majorTickBottom,this.paces[e].$paceTextBottom),this.$contentGroup.append(this.paces[e].$self)),this.paces[e].$majorTickTop.css({"stroke-width":this.prop("Scale.MajorTicks.Width"),stroke:this.prop("Scale.MajorTicks.Color")}),this.paces[e].$majorTickBottom.css({"stroke-width":this.prop("Scale.MajorTicks.Width"),stroke:this.prop("Scale.MajorTicks.Color")}),this.paces[e].$majorTickTop.attr({x1:0,y1:1,x2:0,y2:x}),this.paces[e].$majorTickBottom.attr({x1:0,y1:x+s,x2:0,y2:x+s+x}),t.each([this.paces[e].$paceTextTop,this.paces[e].$paceTextBottom],w),i.attr(this.paces[e].$paceTextBottom[0],"transform","translate(0, "+(y+l+2)+")"),i.attr(this.paces[e].$self[0],"transform","translate("+h+", "+l+")"),h+=v,e+1!==r)for(n=0,c=0;n<o;n+=1)this.paces[e].$minorTicksTop[n]||(this.paces[e].$minorTicksTop[n]=t(i.createNS("line")),this.paces[e].$self.append(this.paces[e].$minorTicksTop[n])),this.paces[e].$minorTicksBottom[n]||(this.paces[e].$minorTicksBottom[n]=t(i.createNS("line")),this.paces[e].$self.append(this.paces[e].$minorTicksBottom[n])),this.paces[e].$minorTicksTop[n].css({"stroke-width":this.prop("Scale.MinorTicks.Width"),stroke:this.prop("Scale.MinorTicks.Color")}),this.paces[e].$minorTicksBottom[n].css({"stroke-width":this.prop("Scale.MinorTicks.Width"),stroke:this.prop("Scale.MinorTicks.Color")}),this.paces[e].$minorTicksTop[n].attr({x1:0,y1:0,x2:0,y2:C}),this.paces[e].$minorTicksBottom[n].attr({x1:0,y1:C+x+s,x2:0,y2:C+x+s+C}),c+=v/(o+1),i.attr(this.paces[e].$minorTicksTop[n][0],"transform","translate("+c+", "+C+")"),i.attr(this.paces[e].$minorTicksBottom[n][0],"transform","translate("+c+", "+-C+")");g+=f}},createVert:function(){var e,n,c,u=this,h=l,p=this.prop("Width"),d=this.prop("Height"),f=this.getPace(),g=this.prop("Minimum"),m=d-2*l,v=m/(r-1),b=parseInt(this.attr("Scale.Font.Size"),10),y=p-2*a-s,x=50*y/100,C=x/2,w=function(e,i){i.text(g),u.applyFontStyles(i,"Scale."),i.css({"font-size":b+(t.isNumeric(u.attr("Scale.Font.Size"))?"pt":""),fill:"#000","font-family":u.attr("Scale.Font.Name"),"text-anchor":"middle"})};for(h+=m,this.paces&&!this.attr("isHorizontal")||(this.$contentGroup.empty(),this.paces=[]),e=0;e<r;e+=1){if(this.paces[e]||(this.paces[e]={$self:t(i.createNS("g")),$minorTicksLeft:[],$majorTickLeft:t(i.createNS("line")),$paceTextLeft:t(i.createNS("text")),$majorTickRight:t(i.createNS("line")),$minorTicksRight:[],$paceTextRight:t(i.createNS("text"))},this.paces[e].$self.append(this.paces[e].$majorTickLeft,this.paces[e].$paceTextLeft,this.paces[e].$majorTickRight,this.paces[e].$paceTextRight),this.$contentGroup.append(this.paces[e].$self)),this.paces[e].$majorTickLeft.css({"stroke-width":this.prop("Scale.MajorTicks.Width"),stroke:this.prop("Scale.MajorTicks.Color")}),this.paces[e].$majorTickRight.css({"stroke-width":this.prop("Scale.MajorTicks.Width"),stroke:this.prop("Scale.MajorTicks.Color")}),this.paces[e].$majorTickLeft.attr({x1:1,y1:0,x2:x,y2:0}),this.paces[e].$majorTickRight.attr({x1:x+s,y1:0,x2:x+s+x,y2:0}),t.each([this.paces[e].$paceTextLeft,this.paces[e].$paceTextRight],w),i.attr(this.paces[e].$paceTextRight[0],"transform","translate("+(y+a)+", 0)"),i.attr(this.paces[e].$self[0],"transform","translate("+a+", "+h+")"),h-=v,e>0)for(n=0,c=0;n<o;n+=1)this.paces[e].$minorTicksLeft[n]||(this.paces[e].$minorTicksLeft[n]=t(i.createNS("line")),this.paces[e].$self.append(this.paces[e].$minorTicksLeft[n])),this.paces[e].$minorTicksRight[n]||(this.paces[e].$minorTicksRight[n]=t(i.createNS("line")),this.paces[e].$self.append(this.paces[e].$minorTicksRight[n])),this.paces[e].$minorTicksLeft[n].css({"stroke-width":this.prop("Scale.MinorTicks.Width"),stroke:this.prop("Scale.MinorTicks.Color")}),this.paces[e].$minorTicksRight[n].css({"stroke-width":this.prop("Scale.MinorTicks.Width"),stroke:this.prop("Scale.MinorTicks.Color")}),this.paces[e].$minorTicksLeft[n].attr({x1:0,y1:0,x2:C,y2:0}),this.paces[e].$minorTicksRight[n].attr({x1:C+x+s,y1:0,x2:C+x+s+C,y2:0}),c+=v/(o+1),i.attr(this.paces[e].$minorTicksLeft[n][0],"transform","translate("+C+", "+c+")"),i.attr(this.paces[e].$minorTicksRight[n][0],"transform","translate("+-C+", "+c+")");g+=f}},render:function(){return n.render.apply(this,arguments),this.prop("Width")>this.prop("Height")?(this.createHorz(),this.attr("isHorizontal",!0),this.attr("isVertical",!1)):(this.createVert(),this.attr("isVertical",!0),this.attr("isHorizontal",!1)),this.appendPointer(),this.$g},fillProps:function(t){return n.fillProps.apply(this,arguments),this.fillFont(t,"Scale."),this},toXML:function(){var e=t(n.toXML.apply(this,arguments));return this.bindFontView(e,"Scale."),e[0]}})}),define("controls/ButtonControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"ButtonControl",info:"ButtonControl info",icon:"icon-115",pos:10,type:"ButtonControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#F0F0F0",ImageAlign:"MiddleCenter",TextAlign:"MiddleCenter",TextImageRelation:"Overlay",RightToLeft:"No",AutoSize:!1,Enabled:!0,TabIndex:4,TabStop:!0},this.prop({Name:"Button",Width:75,Height:23,Text:"Button"}),this.attr({"text-anchor":"middle","Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1})},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=this.prop("Text"),s=this.prop("Width")/2,a=this.prop("Height")/2+parseFloat(e,10)/3;return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$contentGroup.append(this.$nestedG1)),o!==this.$textNode.text()&&this.$textNode.text(o),this.$moveBlock.css({fill:this.prop("BackColor"),stroke:"silver"}),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r,"text-anchor":this.attr("text-anchor")}),this.applyFontStyles(this.$textNode),i.attr(this.$nestedG1[0],"transform","translate("+s+", "+a+")"),this.$g}})}),define("controls/CheckBoxControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"CheckBoxControl",info:"CheckBoxControl info",icon:"icon-116",pos:20,type:"CheckBoxControl",CHECKBOXWH:12,_init:function(){n._init.apply(this,arguments),this.defaultValues={Appearance:"Normal",ForeColor:"#000",BackColor:"#F0F0F0",CheckAlign:"MiddleLeft",Checked:!1,CheckState:"Unchecked",ImageAlign:"MiddleCenter",TextAlign:"MiddleLeft",TextImageRelation:"Overlay",Enabled:!0,AutoSize:!0,TabStop:!0,RightToLeft:"No",AutoFilter:!0,FilterOpeartion:"Equal",DetailControl:"None"},this.prop({Name:"CheckBox",Width:73,Height:17,Text:"CheckBox"}),this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableX:!1,resizableY:!1,resizableXY:!1})},resizingComponents:function(){},generateCheckbox:function(){var e=t(i.createNS("g")),n=t(i.createNS("rect",{width:this.CHECKBOXWH,
height:this.CHECKBOXWH,fill:"#fff",stroke:"gray",x:5,y:0})),r=t(i.createNS("text"));return e.append(n,r),e},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=this.prop("Text"),s=this.prop("CheckState"),a=0,l=this.prop("Height")/2+parseFloat(e,10)/3;return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$checkbox=this.generateCheckbox(),this.$contentGroup.append(this.$checkbox,this.$nestedG1)),o!==this.$textNode.text()&&this.$textNode.text(o),"Checked"===s?this.$checkbox.find("text").text("✓").attr({x:7,y:10}):"Indeterminate"===s?this.$checkbox.find("text").text("■").attr({x:8,y:9}):this.$checkbox.find("text").text(""),this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r}),this.applyFontStyles(this.$textNode),i.attr(this.$checkbox[0],"transform","translate(0, 2)"),i.attr(this.$nestedG1[0],"transform","translate("+(a+1.7*this.CHECKBOXWH)+", "+l+")"),this.$g}})}),define("controls/CheckedListBoxControl",["jquery","config","utils","Control","controls/CheckBoxControl"],function(t,e,i,n,r){"use strict";return n.createObject(n,{title:"CheckedListBoxControl",info:"CheckedListBoxControl info",icon:"icon-148",pos:30,type:"CheckedListBoxControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#FFF",ColumnWidth:0,Enabled:!0,MultiColumn:!1,SelectionMode:"One",Sorted:!1,TabIndex:2,TabStop:!0,UseTabStops:!0,AutoFill:!0,AutoFilter:!0,CheckOnClick:!1},this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1}),this.prop({Name:"CheckedListBox",ItemsText:"",Width:120,Height:96})},render:function(){var e,o,s,a,l,c=this.attr("Font.Size"),u=this.attr("Font.Name"),h=this.prop("ItemsText"),p=this.prop("Width"),d=this.prop("Height"),f=0,g=parseFloat(c,10)+2,m=-9;if(n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$checkboxes=t(i.createNS("g")),this.$nestedG2.append(this.$textNode,this.$checkboxes),this.$nestedG1.append(this.$nestedG2),this.$textNode[0].setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.$back=t(i.createNS("rect",{stroke:"gray",x:0,y:0})),this.$contentGroup.append(this.$back,this.$nestedG1)),this.$back.attr({width:p-2,height:d-2,fill:this.prop("BackColor")}),this.$textNode.empty(),this.$checkboxes.empty(),l=h.dimensions({"font-size":c,"font-family":u,"font-weight":c}),h=h.split(/\n\r|\n|\r/g),l.h+=2,s=0,a=h.length,a>1||h[0])for(;s<a;s+=1)e=t(i.createNS("tspan")),e.text(h[s]||" "),i.attr(e[0],"x",20),s>0&&i.attr(e[0],"dy",l.h),this.$textNode.append(e),o=r.generateCheckbox(),i.attr(o[0],"transform","translate(0, "+m+")"),m+=l.h,this.$checkboxes.append(o);return this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":c+(t.isNumeric(c)?"pt":""),fill:this.prop("ForeColor"),"font-family":u}),this.applyFontStyles(this.$textNode),i.attr(this.$back[0],"transform","translate(0, 0)"),i.attr(this.$nestedG1[0],"transform","translate("+f+", "+g+")"),this.$g},fillProps:function(){return n.fillProps.apply(this,arguments),this.prop("ItemsText",this.prop("ItemsText").fromASCIICode()),this},toXML:function(){var e=t(n.toXML.apply(this,arguments)),i=this.prop("ItemsText").replace(/\n/g,"\r\n").toASCIICode();return i&&e.attr("ItemsText",i),e[0]}})}),define("controls/ComboBoxControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"ComboBoxControl",info:"ComboBoxControl info",icon:"icon-119",pos:40,type:"ComboBoxControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#FFF",DrawMode:"Normal",DropDownHeight:106,DropDownStyle:"DropDown",DropDownWidth:"121",ItemHeight:13,MaxDropDownItems:8,Sorted:!1,Enabled:!0,TabIndex:2,TabStop:!0,AutoFill:!0,AutoFilter:!0},this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableY:!1,resizableXY:!1}),this.prop({Name:"ComboBox",ItemsText:"",Text:"ComboBox",Width:121,Height:21})},showResizingComponents:function(){return n.showResizingComponents.call(this,!1)},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=this.prop("Text"),s=this.prop("Width"),a=this.prop("Height"),l=0,c=parseFloat(e,10);return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$arrow=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$textNode[0].setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.$arrow.text("▼"),this.$back=t(i.createNS("rect",{stroke:"gray",x:0,y:0})),this.$contentGroup.append(this.$back,this.$nestedG1,this.$arrow)),this.$back.attr({width:s-2,height:a-2,fill:this.prop("BackColor")}),this.$textNode.text()!==o&&this.$textNode.text(o),this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r}),this.applyFontStyles(this.$textNode),i.attr(this.$back[0],"transform","translate(0, 0)"),i.attr(this.$nestedG1[0],"transform","translate("+(l+2)+", "+(c+2)+")"),i.attr(this.$arrow[0],"transform","translate("+(s-15)+", 12)"),this.$g},fillProps:function(){return n.fillProps.apply(this,arguments),this.prop("ItemsText",this.prop("ItemsText").fromASCIICode()),this},toXML:function(){var e=t(n.toXML.apply(this,arguments)),i=this.prop("ItemsText").replace(/\n/g,"\r\n").toASCIICode();return i&&e.attr("ItemsText",i),e[0]}})}),define("controls/DateTimePickerControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"DateTimePickerControl",info:"DateTimePickerControl info",icon:"icon-120",pos:45,type:"DateTimePickerControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#FFF",DropDownAlign:"Left",ShowCheckBox:!1,ShowUpDown:!1,Checked:!0,Enabled:!0,TabIndex:3,TabStop:!0,Visible:!0,CustomFormat:"",Format:"Long",AutoFill:!0,AutoFilter:!0,FilterOperation:"Equal"},this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableXY:!1,resizableY:!1}),this.prop({Name:"DateTimePicker",MaxDate:new Date("12.31.9998"),MinDate:new Date("01.01.1753"),Value:new Date,Width:200,Height:20})},showResizingComponents:function(){return n.showResizingComponents.call(this,!1)},format:function(t,e,i){var n,r,o,s;return"string"==typeof t&&(t=new Date(t)),e=e||"/",n=t.getMonth()+1+e+t.getDate()+e+t.getFullYear(),i&&(r=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),r||o||s||(t=new Date,r=t.getHours(),o=t.getMinutes(),s=t.getSeconds()),n=n+" "+r+i+o+i+s),n},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=new Date(this.format(this.prop("Value"),"/",":")).toLocaleString(),s=this.prop("Width"),a=this.prop("Height"),l=0,c=parseFloat(e,10);return n.render.apply(this,arguments),this.prop("Text",o),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$arrow=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$textNode[0].setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.$arrow.text("▼"),this.$back=t(i.createNS("rect",{stroke:"gray",x:0,y:0})),this.$contentGroup.append(this.$back,this.$nestedG1,this.$arrow)),this.$back.attr({width:s-2,height:a-2,fill:this.prop("BackColor")}),this.$textNode.text()!==o&&this.$textNode.text(o),this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r}),this.applyFontStyles(this.$textNode),i.attr(this.$back[0],"transform","translate(0, 0)"),i.attr(this.$nestedG1[0],"transform","translate("+(l+2)+", "+(c+2)+")"),i.attr(this.$arrow[0],"transform","translate("+(s-15)+", 12)"),this.$g},fillProps:function(){var t,e,i;return n.fillProps.apply(this,arguments),t=this.prop("value"),e=this.prop("MaxDate"),i=this.prop("MinDate"),t&&this.prop("value",new Date(t)),e&&this.prop("MaxDate",new Date(e)),i&&this.prop("MinDate",new Date(i)),this},toXML:function(){var e=t(n.toXML.apply(this,arguments)),i=this.prop("Value"),r=this.prop("MinDate"),o=this.prop("MaxDate");return i&&e.attr("Value",this.format(i,"/",":")),r&&e.attr("MinDate",this.format(r,"-")),o&&e.attr("MaxDate",this.format(o,"-")),e[0]}})}),define("controls/LabelControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"LabelControl",info:"LabelControl info",icon:"icon-112",pos:50,type:"LabelControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#F0F0F0",TextAlign:"TopLeft",Enabled:!0,AutoSize:!0,TabStop:!1,TabIndex:2,RightToLeft:"No"},this.prop({Name:"Label",Width:32,Height:13,Text:"Label"}),this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableX:!1,resizableY:!1,resizableXY:!1})},resizingComponents:function(){},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=this.prop("Text"),s=0,a=this.prop("Height")/2+parseFloat(e,10)/3;return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$contentGroup.append(this.$nestedG1)),o!==this.$textNode.text()&&this.$textNode.text(o),this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r}),this.applyFontStyles(this.$textNode),i.attr(this.$nestedG1[0],"transform","translate("+s+", "+a+")"),this.$g}})}),define("controls/ListBoxControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"ListBoxControl",info:"ListBoxControl info",icon:"icon-118",pos:60,type:"ListBoxControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#FFF",ColumnWidth:0,DrawMode:"Normal",ItemHeight:13,MultiColumn:!1,SelectionMode:"One",Sorted:!1,UseTabStops:!0,Enabled:!0,TabIndex:2,TabStop:!0,AutoFill:!0,AutoFilter:!0},this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1}),this.prop({Name:"ListBox",ItemsText:"",Width:120,Height:96})},render:function(){var e,r,o,s,a=this.attr("Font.Size"),l=this.attr("Font.Name"),c=this.prop("ItemsText"),u=this.prop("Width"),h=this.prop("Height"),p=0,d=parseFloat(a,10);for(n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$textNode[0].setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.$back=t(i.createNS("rect",{stroke:"gray",x:0,y:0})),this.$contentGroup.append(this.$back,this.$nestedG1)),this.$back.attr({width:u-2,height:h-2,fill:this.prop("BackColor")}),this.$textNode.empty(),s=c.dimensions({"font-size":a,"font-family":l,"font-weight":a}),c=c.split(/\n\r|\n|\r/g),r=0,o=c.length;r<o;r+=1)e=t(i.createNS("tspan")),e.text(c[r]||" "),r>0&&i.attr(e[0],{x:0,dy:s.h}),this.$textNode.append(e);return this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":a+(t.isNumeric(a)?"pt":""),fill:this.prop("ForeColor"),"font-family":l}),this.applyFontStyles(this.$textNode),i.attr(this.$back[0],"transform","translate(0, 0)"),i.attr(this.$nestedG1[0],"transform","translate("+p+", "+d+")"),this.$g},fillProps:function(){return n.fillProps.apply(this,arguments),this.prop("ItemsText",this.prop("ItemsText").fromASCIICode()),this},toXML:function(){var e=t(n.toXML.apply(this,arguments)),i=this.prop("ItemsText").replace(/\n/g,"\r\n").toASCIICode();return i&&e.attr("ItemsText",i),e[0]}})}),define("controls/MonthCalendarControl",["jquery","config","utils","Control","controls/DateTimePickerControl"],function(t,e,i,n,r){"use strict";return n.createObject(n,{title:"MonthCalendarControl",info:"MonthCalendarControl info",icon:"icon-145",pos:65,type:"MonthCalendarControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={BackColor:"#FFF",ForeColor:"#000",ShowToday:!0,ShowTodayCircle:!0,ShowWeekNumbers:!1,RightToLeft:"No",FirstDayOfWeek:"Default",Enabled:!0,TabIndex:3,TabStop:!0,Visible:!0,AutoFill:!0,AutoFilter:!0,FilterOperation:"Equal",CalendarDimensions:"1; 1",MaxSelectionCount:7},this.attr({"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableX:!1,resizableY:!1,resizableXY:!1}),this.prop({Name:"MonthCalendar",Text:"MonthCalendar",MaxDate:new Date("12.31.9998"),MinDate:new Date("01.01.1753"),TodayDate:new Date,Width:164,Height:162})},resizingComponents:function(){},render:function(){var e=this.prop("Width"),r=this.prop("Height");return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$back=t(i.createNS("rect",{stroke:"gray",x:0,y:0})),this.$contentGroup.append(this.$back)),this.$back.attr({width:e-2,height:r-2,fill:this.prop("BackColor")}),this.$moveBlock.css("fill",this.prop("BackColor")),i.attr(this.$back[0],"transform","translate(0, 0)"),this.$g},fillProps:function(){var t,e,i;return n.fillProps.apply(this,arguments),t=this.prop("TodayDate"),e=this.prop("MaxDate"),i=this.prop("MinDate"),t&&this.prop("TodayDate",new Date(t)),e&&this.prop("MaxDate",new Date(e)),i&&this.prop("MinDate",new Date(i)),this},toXML:function(){var e=t(n.toXML.apply(this,arguments)),i=this.prop("TodayDate"),o=this.prop("MinDate"),s=this.prop("MaxDate");return i&&e.attr("TodayDate",r.format(i,"-")),o&&e.attr("MinDate",r.format(o,"-")),s&&e.attr("MaxDate",r.format(s,"-")),e[0]}})}),define("controls/RadioButtonControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"RadioButtonControl",info:"RadioButtonControl info",icon:"icon-117",pos:70,type:"RadioButtonControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#F0F0F0",CheckAlign:"MiddleLeft",Checked:!1,ImageAlign:"MiddleCenter",TextAlign:"MiddleLeft",TextImageRelation:"Overlay",Enabled:!0,AutoSize:!0,TabIndex:2,TabStop:!1,RightToLeft:"No",AutoFilter:!0,FilterOpeartion:"Equal",DetailControl:"None"},this.prop({Name:"RadioButton",Width:84,Height:17,Text:"RadioButton"}),this.attr({radioCX:15,radioCY:7,r:7,"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableX:!1,resizableY:!1,resizableXY:!1})},resizingComponents:function(){},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=this.attr("radioCX"),s=this.attr("radioCY"),a=this.attr("r"),l=this.prop("Text"),c=0,u=this.prop("Height")/2+parseFloat(e,10)/3;return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$radio=t(i.createNS("g")),this.$radioCirc=t(i.createNS("circle",{cx:o,cy:s,r:a,fill:"#fff",stroke:"gray"})),this.$radioDot=t(i.createNS("text")),this.$radio.append(this.$radioCirc,this.$radioDot),this.$contentGroup.append(this.$radio,this.$nestedG1)),l!==this.$textNode.text()&&this.$textNode.text(l),this.prop("Checked")?(this.$radioDot.text("●"),this.$radioDot.attr({x:12,y:10})):this.$radioDot.text(""),this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r}),this.applyFontStyles(this.$textNode),i.attr(this.$radio[0],"transform","translate(0, 0)"),i.attr(this.$nestedG1[0],"transform","translate("+(c+1.7*o)+", "+u+")"),this.$g}})}),define("controls/TextBoxControl",["jquery","config","utils","Control"],function(t,e,i,n){"use strict";return n.createObject(n,{title:"TextBoxControl",info:"TextBoxControl info",icon:"icon-113",pos:80,type:"TextBoxControl",_init:function(){n._init.apply(this,arguments),this.defaultValues={ForeColor:"#000",BackColor:"#fff",TextAlign:"Left",AcceptsReturn:!1,AcceptsTab:!1,CharacterCasing:"Normal",Enabled:!0,MaxLength:32767,Multiline:!1,AutoSize:!0,TabStop:!0,RightToLeft:"No",AutoFill:!0,AutoFilter:!0,FilterOpeartion:"Equal",DetailControl:"None"},this.attr({"text-anchor":"start",mulFHeight:20,mulTHeight:20,"Font.Name":e.get("default-font-name"),"Font.Size":"8pt","Font.Bold":!1,"Font.Italic":!1,"Font.Underline":!1,"Font.Strikeout":!1,resizableXY:!1,resizableY:!1}),this.prop({Name:"TextBox",Text:"TextBox",Width:100,Height:this.attr("mulFHeight")})},getHorzAlign:function(){var t,e=this.prop("TextAlign"),i=this.prop("Width");return"Center"===e?(t=i/2,this.attr("text-anchor","middle")):"Left"===e?(t=0,this.attr("text-anchor","start")):"Right"===e&&(t=i,this.attr("text-anchor","end")),parseInt(t,10)},showResizingComponents:function(){return n.showResizingComponents.call(this,!1)},render:function(){var e=this.attr("Font.Size"),r=this.attr("Font.Name"),o=this.prop("Text"),s=this.prop("Width"),a=this.prop("Height"),l=this.getHorzAlign(),c=parseFloat(e,10);return n.render.apply(this,arguments),this.$contentGroup.children().length||(this.$nestedG1=t(i.createNS("g")),this.$nestedG2=t(i.createNS("g")),this.$textNode=t(i.createNS("text")),this.$nestedG2.append(this.$textNode),this.$nestedG1.append(this.$nestedG2),this.$back=t(i.createNS("rect",{stroke:"gray",x:0,y:0})),this.$contentGroup.append(this.$back,this.$nestedG1)),this.prop("Multiline")&&this.attr("mulTHeight",a),this.$back.attr({width:s-2,height:a-2,fill:this.prop("BackColor")}),o!==this.$textNode.text()&&this.$textNode.text(o),this.$moveBlock.css("fill",this.prop("BackColor")),this.$textNode.css({"font-size":e+(t.isNumeric(e)?"pt":""),fill:this.prop("ForeColor"),"font-family":r,"text-anchor":this.attr("text-anchor")}),this.applyFontStyles(this.$textNode),i.attr(this.$back[0],"transform","translate(0, 0)"),i.attr(this.$nestedG1[0],"transform","translate("+l+", "+(c+2)+")"),this.$g}})}),define("Dialog",["jquery","utils","Page","ComponentCollection"],function(t,e,i,n){"use strict";return e.object(i,{title:"Form",info:"Form info",icon:"icon-136",type:"DialogPage",init:function(){this.report=null},create:function(){return this.createObject(this,{init:function(){this.SM.add(this),this._id="f"+e.guid(),this.unparsed=[],this.attr({isHidden:!0,activated:!1,removed:!1}),this.prop({Name:"Form",Width:300,Height:300}),this.g=this.workspace=e.createNS("g",{class:"form"}),this.$g=this.$workspace=t(this.g),this.$workspace.addClass("fr-hidden"),this.$g.data("form",this),this.defaultValues={FormBorderStyle:"FixedDialog",BackColor:"#F0F0F0",RightToLeft:"No"},this.components=n.create(this)}})},show:function(){i.show.apply(this,arguments),this.render()},updateSize:function(){i.updateSize.apply(this,arguments),this.$background.attr({width:this.prop("Width"),height:this.prop("Height")})},render:function(){i.render.call(this),this.$background||(this.$background=t(e.createNS("rect")),this.$workspace.append(this.$background)),this.$components||(this.$components=t(e.createNS("g")),this.$workspace.append(this.$components)),this.updateSize(),this.$background.css("fill",this.prop("BackColor"))},put:function(t){return this.components.add(t),this},fillProps:function(){return i.fillProps.apply(this,arguments),this},toXML:function(n){var r=t(i.toXML.apply(this,arguments));return n=e.extend({parentNode:r[0]},n),this.components.eachEntity(function(t){r.append(t.toXML(n))}),t.each(this.unparsed,function(){r.append(this)}),r[0]},isDialog:function(){return!0}})}),define("events/component",["jquery","webfonts","utils","queue","EventEmitter","notification","l10n","res-units/Popup","res-units/PopupTabs"],function(t,e,i,n,r,o,s,a,l){"use strict";return i.object(r,{_init:function(){function r(t){return t.filter(function(){return this.attr("copyable")})}function c(t,e,n,r){return t.render(),e.put(t),i.isMobile||0===n&&0===r?p("align-component",t,0,0,!0):(p("align-component",t,t.prop("Left")+n,t.prop("Top")+r,!0),t.state.set.call(t,"in_move"),d.movements.data.activate("moving-component")),t}function u(t){var e,i,n=d.getCurrentPage(),r=n.bands||n.components,o={action:"change"};if(n.isCode())return null;if(e=r.getSelectedComponents(),i=e.length){for(i-=1;i>=0;i-=1)t.call(e[i]),e[i].render(o);i=e.length}else e=d.getSelected(),e&&(t.call(e),e.render(o),i=1);return i}var h=this.bind,p=this.trigger,d=require("currentReport"),f=require("head");h("remove-component",function(t){var e=t.collection.container;t.remove(),e.updateThreshold&&e.updateThreshold()}),h("render-component",function(t){var e=t.collection.container;t.render(),e.updateThreshold&&e.updateThreshold()}),h("create-component",function(e,n){var r=t.Deferred();return"string"==typeof e&&(e=(new RegExp("Control$").test(e)?"controls/":"components/")+e,e=i.getModule(e)),e?r.resolve(e.create(n)):r.reject(),r.promise()}),h("add-component",function(e,r,a,l){var c=t.Deferred();return l=l||{left:0,top:0},r||(r=d.getCurrentPage().bands.first()),p("create-component",e).done(function(t){(!t.isDialogControl()&&r.isBand()||t.isDialogControl()&&r.isDialog())&&(a=a!==!1,l.view&&("undefined"!=typeof t.prop("Text")&&t.prop("Text",i.formatView(l.view)),"undefined"!=typeof t.prop("DataColumn")&&t.prop("DataColumn",l.view)),t.render({action:"init",left:l.left,top:l.top}),r.put(t),p("align-component",t,l.left,l.top),t.afterAlign(),a&&n.push({context:this,undo:function(t){t.remove()},redo:function(t){t.render()},data:[t]}),r.isBand()&&p("balance-band",r),p("re-render"),o.notify(t.toString()+" "+s.tr("created"),{success:!0}),"SubreportObject"!==t.type||t.prop("ReportPage")||p("new-subreport-page",t)),c.resolve(t)}).fail(function(){c.resolve(null)}),c.promise()}),h("put-component",function(t,e,i,n){t&&(e.collection.container!==t&&t.put(e),e.setPosition(i,n))}),h("align-component",function(t,e,n,r){var o;t.isDialogControl()||(o=i.nearPoint([e,n]),t.setPosition(o[0],o[1]),r||(o=i.nearPoint([t.prop("Left")+t.prop("Width"),t.prop("Top")+t.prop("Height")]),t.prop("Width",+(o[0]-t.prop("Left")).toFixed(2)),t.prop("Height",+(o[1]-t.prop("Top")).toFixed(2)),t.render({action:"align"})))}),h("new-subreport-page",function(t){var e=d.createPage(!0);e.attr("isSubreport",!0),p("add-band","DataBand",e,!1),t.prop("ReportPage",e.prop("Name")),e.render(),p("activate",e)}),h("copy",function(t){var e=d.getCurrentPage(),i=e.bands||e.components;e.buffer=r(t||i.getSelectedComponents()),e.buffer.length&&(o.notify(s.tr("copied")+" "+e.buffer.length,{info:!0,inEmptyList:!0}),p("update-menu"))}),h("cut",function(e){var i=d.getCurrentPage(),a=i.bands||i.components,l=function(t){return i.buffer=r(t||a.getSelectedComponents()),!!i.buffer.length&&(o.notify(s.tr("cut")+" "+i.buffer.length,{info:!0,inEmptyList:!0}),i.buffer.cut=!0,i.buffer.each(function(){this.remove()}),!0)};l(e)&&(n.push({context:this,undo:function(e){t.each(e,function(){this.render()}),i.buffer.length=0,p("update-menu")},redo:function(t){l(t),p("update-menu")},data:[i.buffer.slice(0)]}),p("update-menu"))}),h("paste",function(t){var e,i,r,a,l,u,h,f,g=d.getCurrentPage(),m=0,v=0,b=g.buffer.length,y=[];if(b){if(!t){for(h=b;h--;)f=g.buffer[h],m=f.prop("Left"),v=f.prop("Top"),l=f.attr("right"),u=f.attr("bottom"),(!e||e>m)&&(e=m),(!i||i<l)&&(i=l),(!r||r>v)&&(r=v),(!a||a<u)&&(a=u);m=-e+d.movements.data.pageX-4*g.attr("padding"),v=-r+d.movements.data.pageY-6*g.attr("padding")}if(g.buffer.cut)for(h=b;h--;)f=g.buffer[h],c(f,f.collection.container,m,v),y.push(f);else for(h=b;h--;)f=g.buffer[h].clone(),y.push(f),c(f,f.collection.container,m,v);n.push({func:function(t,e){for(var i,n=t.length;n--;)i=t[n],i.state.set.call(i,"normal"),p(e,i);d.movements.data.deactivate("moving-component")},undoData:[y,"remove-component"],redoData:[y,"render-component"]}),o.notify(s.tr("pasted")+" "+y.length,{success:!0,inEmptyList:!0}),g.buffer.cut&&(g.buffer=[]),p("update-properties-panel",d.getSelected()),p("update-events-panel",d.getSelected())}}),h("move-component",function(t,e,i){var n=u(function(){var i,n;if(this.canMove()){switch(i=this.prop("Left"),n=this.prop("Top"),e=e||1,t){case 1:i-=e;break;case 2:n-=e;break;case 3:i+=e;break;case 4:n+=e}this.setPosition(i,n,!0)}});n&&(1===n&&(p("update-properties-panel",d.getSelected()),p("update-events-panel",d.getSelected())),i&&i())}),h("select-all-components",function(){d.getCurrentPage().bands.everyEntity(function(t){t.components.eachEntity(function(t){t.activate()})}),p("update-info")}),h("vert-align-top",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("VertAlign","Top",!0)})}),h("vert-align-center",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("VertAlign","Center",!0)})}),h("vert-align-bottom",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("VertAlign","Bottom",!0)})}),h("horz-align-left",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("HorzAlign","Left",!0)})}),h("horz-align-center",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("HorzAlign","Center",!0)})}),h("horz-align-right",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("HorzAlign","Right",!0)})}),h("horz-align-justify",function(){u(function(){this.canModify()&&this.canEdit()&&this.prop("HorzAlign","Justify",!0)})}),h("font-bold",function(){u(function(){this.canModify()&&this.canEdit()&&this.attr("Font.Bold",!this.attr("Font.Bold"),!0)})}),h("font-italic",function(){u(function(){this.canModify()&&this.canEdit()&&this.attr("Font.Italic",!this.attr("Font.Italic"),!0)})}),h("font-underline",function(){u(function(){this.canModify()&&this.canEdit()&&this.attr("Font.Underline",!this.attr("Font.Underline"),!0)})}),h("font-strikeout",function(){u(function(){this.canModify()&&this.canEdit()&&this.attr("Font.Strikeout",!this.attr("Font.Strikeout"),!0)})}),h("lock",function(t){var e,i,n,r;t=t||["DontMove","DontResize","DontModify","DontEdit","DontDelete"],r=t.length,u(function(){for(e=this.prop("Restrictions").slice(0),"string"==typeof e&&(e=e.split(",").map(function(t){return t.trim()})),n=0;n<r;n+=1)i=t[n],~e.indexOf(i)||e.push(i);this.prop("Restrictions",e)})}),h("unlock",function(t){var e,i,n,r;t=t||["DontMove","DontResize","DontModify","DontEdit","DontDelete"],n=t.length,u(function(){for(r=this.prop("Restrictions").slice(0),"string"==typeof r&&(r=r.split(",").map(function(t){return t.trim()})),i=0;i<n;i+=1)e=r.indexOf(t[i]),~e&&r.splice(e,1);this.prop("Restrictions",r)})}),h("group",function(){var t,e=[];u(function(){t||(t=this.formGroupInx()),this.prop("GroupIndex",t),e.push(this)}),e.forEach(function(t){t.attr("group",e)})}),h("ungroup",function(){u(function(){this.deleteProp("GroupIndex"),this.deleteAttr("group")})}),h("send-to-back",function(t){t?t.collection.container.components.addInStart(t):u(function(){this.collection.container.components.addInStart(this)})}),h("bring-to-front",function(t){t?t.collection.container.components.add(t):u(function(){this.collection.container.components.add(this)})}),h("border-style",function(t){u(function(){this.canModify()&&this.canEdit()&&this.prop("Border.Style",t,!0)})}),h("border-width",function(t){u(function(){this.canModify()&&this.canEdit()&&this.prop("Border.Width",t,!0)})}),h("font-name",function(t,i){e.load(t).done(function(){i?(i.attr("Font.Name",t,!0),i.render()):u(function(){this.canModify()&&this.canEdit()&&this.attr("Font.Name",t,!0)}),p("update-menu")})}),h("font-width",function(t){u(function(){this.canModify()&&this.canEdit()&&this.attr("Font.Size",t,!0)})}),h("format",function(e){t.when(new a("FormatEditor"),i.render("components/format/main"),new l({general:"FormatEditor General",number:"FormatEditor Number",currency:"FormatEditor Currency",date:"FormatEditor Date",time:"FormatEditor Time",percent:"FormatEditor Percent",boolean:"FormatEditor Boolean",custom:"FormatEditor Custom"})).done(function(n,r,o){var s=e.prop("Format");o.on("click",".fr-modal-tabs-item",function(n){var r=t(this),s=r.data("tab"),a=r.data("block"),l=e.findProps(/^Format\./),c={},u=e.prop("Format");("string"==typeof u&&u.toLowerCase()===s||n)&&Object.keys(l).forEach(function(t){var e=t.replace("Format.","");c[e]=l[t]}),i.render("components/format/"+s,c).done(function(i){var n,r;t("."+a,o).html(i),i.find("[data-linkinput]").on("change",function(){var e=t(this);i.find('[name="'+e.data("linkinput")+'"]').val(e.val())}),n=i.find('[name="UseLocale"]'),n.length&&(r=n.is(":checked"),n.on("change",function(){t(this).is(":checked")!==r&&(e.prop("Format.UseLocale",t(this).is(":checked").toString()),o.find(".fr-modal-tabs-item.active").trigger("click",!0))}))})}),s?o.find('.fr-modal-tabs-item[data-tab="'+s.toLowerCase()+'"]').trigger("click"):o.find(".fr-modal-tabs-item.active").trigger("click"),t(".fr-format-btn",r).on("click",function(){var i,n,r=t(".fr-modal-content-item.active .fr-format-form",o),s=o.find(".fr-modal-tabs-item.active").data("tab"),a=e.findProps(/^Format\./);r.length&&(Object.keys(a).forEach(function(t){e.deleteProp(t)}),s=s.charAt(0).toUpperCase()+s.slice(1),e.prop("Format",s),n=r.serializeArray(),i=r.find('[name="UseLocale"]'),i.length&&!n.filter(function(t){return"UseLocale"===t.name}).length&&i.is(":not(:checked)")&&n.push({name:"UseLocale",value:"false"}),n.forEach(function(t){"UseLocale"===t.name&&"on"===t.value&&(t.value="true"),"undefined"!=typeof t.value&&""!==t.value&&e.prop("Format."+t.name,t.value)}),p("remove-popups"))}),r.find(".fr-format-component").append(o),n.find(".fr-modal-content").html(r),f.put(n)})})}})}),function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define("cm/lib/codemirror",[],t);(this||window).CodeMirror=t()}}(function(){"use strict";function t(i,n){if(!(this instanceof t))return new t(i,n);this.options=n=n?Or(n):{},Or(is,n,!1),d(n);var r=n.value;"string"==typeof r&&(r=new Ts(r,n.mode,null,n.lineSeparator)),this.doc=r;var o=new t.inputStyles[n.inputStyle](this),s=this.display=new e(i,r,o);s.wrapper.CodeMirror=this,c(this),a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),n.autofocus&&!Bo&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Br,keySeq:null,specialChars:null};var l=this;Co&&wo<11&&setTimeout(function(){l.display.input.reset(!0)},20),ze(this),Zr(),Ce(this),this.curOp.forceUpdate=!0,Zn(this,r),n.autofocus&&!Bo||l.hasFocus()?setTimeout(Hr(vi,this),20):bi(this);for(var u in ns)ns.hasOwnProperty(u)&&ns[u](this,n[u],rs);w(this),n.finishInit&&n.finishInit(this);for(var h=0;h<ls.length;++h)ls[h](this);ke(this),ko&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function e(t,e,i){var n=this;this.input=i,n.scrollbarFiller=Vr("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),
n.gutterFiller=Vr("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=Vr("div",null,"CodeMirror-code"),n.selectionDiv=Vr("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Vr("div",null,"CodeMirror-cursors"),n.measure=Vr("div",null,"CodeMirror-measure"),n.lineMeasure=Vr("div",null,"CodeMirror-measure"),n.lineSpace=Vr("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Vr("div",[Vr("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Vr("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Vr("div",null,null,"position: absolute; height: "+Rs+"px; width: 1px;"),n.gutters=Vr("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Vr("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Vr("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Co&&wo<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),ko||bo&&Bo||(n.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,i.init(n)}function i(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),n(e)}function n(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,Ot(t,100),t.state.modeGen++,t.curOp&&$e(t)}function r(t){t.options.lineWrapping?(ta(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Js(t.display.wrapper,"CodeMirror-wrap"),p(t)),s(t),$e(t),le(t),setTimeout(function(){b(t)},100)}function o(t){var e=ye(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/xe(t.display)-3);return function(r){if(kn(t.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*e:o+e}}function s(t){var e=t.doc,i=o(t);e.iter(function(t){var e=i(t);e!=t.height&&er(t,e)})}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),le(t)}function l(t){c(t),$e(t),setTimeout(function(){C(t)},20)}function c(t){var e=t.display.gutters,i=t.options.gutters;qr(e);for(var n=0;n<i.length;++n){var r=i[n],o=e.appendChild(Vr("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none",u(t)}function u(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function h(t){if(0==t.height)return 0;for(var e,i=t.text.length,n=t;e=mn(n);){var r=e.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=t;e=vn(n);){var r=e.find(0,!0);i-=n.text.length-r.from.ch,n=r.to.line,i+=n.text.length-r.to.ch}return i}function p(t){var e=t.display,i=t.doc;e.maxLine=Qn(i,i.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var i=h(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function d(t){var e=Nr(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function f(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+Vt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Gt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function g(t,e,i){this.cm=i;var n=this.vert=Vr("div",[Vr("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Vr("div",[Vr("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(n),t(r),As(n,"scroll",function(){n.clientHeight&&e(n.scrollTop,"vertical")}),As(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Co&&wo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Js(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),As(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?oi(e,t):ri(e,t)},e),e.display.scrollbars.addClass&&ta(e.display.wrapper,e.display.scrollbars.addClass)}function b(t,e){e||(e=f(t));var i=t.display.barWidth,n=t.display.barHeight;y(t,e);for(var r=0;r<4&&i!=t.display.barWidth||n!=t.display.barHeight;r++)i!=t.display.barWidth&&t.options.lineWrapping&&B(t),y(t,f(t)),i=t.display.barWidth,n=t.display.barHeight}function y(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function x(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-zt(t));var r=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,o=nr(e,n),s=nr(e,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=nr(e,rr(Qn(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=nr(e,rr(Qn(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function C(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=_(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){t.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function w(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=k(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(Vr("div",[Vr("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",u(t),!0}return!1}function k(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function _(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,i){var n=t.display;this.viewport=e,this.visible=x(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ut(t),this.force=i,this.dims=L(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Gt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Gt(t)+"px",e.scrollbarsClipped=!0)}function D(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return Ie(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==je(t))return!1;w(t)&&(Ie(t),e.dims=L(t));var r=n.first+n.size,o=Math.max(e.visible.from-t.options.viewportMargin,n.first),s=Math.min(r,e.visible.to+t.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),Oo&&(o=Cn(t.doc,o),s=wn(t.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;We(t,o,s),i.viewOffset=rr(Qn(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var l=je(t);if(!a&&0==l&&!e.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=Ur();return l>4&&(i.lineDiv.style.display="none"),N(t,i.updateLineNumbers,e.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,c&&Ur()!=c&&c.offsetHeight&&c.focus(),qr(i.cursorDiv),qr(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Ot(t,400)),i.updateLineNumbers=null,!0}function M(t,e){for(var i=e.viewport,n=!0;(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Ut(t)||(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Vt(t.display)-Kt(t),i.top)}),e.visible=x(t.display,t.doc,i),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&D(t,e);n=!1){B(t);var r=f(t);Nt(t),b(t,r),E(t,r)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function P(t,e){var i=new S(t,e);if(D(t,i)){B(t),M(t,i);var n=f(t);Nt(t),b(t,n),E(t,n),i.finish()}}function E(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Gt(t)+"px"}function B(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var r,o=e.view[n];if(!o.hidden){if(Co&&wo<8){var s=o.node.offsetTop+o.node.offsetHeight;r=s-i,i=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(r<2&&(r=ye(e)),(l>.001||l<-.001)&&(er(o.line,r),A(o.line),o.rest))for(var c=0;c<o.rest.length;c++)A(o.rest[c])}}}function A(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.parentNode.offsetHeight}function L(t){for(var e=t.display,i={},n={},r=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s)i[t.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,n[t.options.gutters[s]]=o.clientWidth;return{fixedPos:_(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function N(t,e,i){function n(e){var i=e.nextSibling;return ko&&Ao&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var r=t.display,o=t.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=n(a);var p=o&&null!=e&&e<=c&&h.lineNumber;h.changes&&(Nr(h.changes,"gutter")>-1&&(p=!1),F(t,h,c,i)),p&&(qr(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(k(t.options,c)))),a=h.node.nextSibling}else{var d=z(t,h,c,i);s.insertBefore(d,a)}c+=h.size}for(;a;)a=n(a)}function F(t,e,i,n){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?O(t,e):"gutter"==o?W(t,e,i,n):"class"==o?H(e):"widget"==o&&j(t,e,n)}e.changes=null}function $(t){return t.node==t.text&&(t.node=Vr("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),Co&&wo<8&&(t.node.style.zIndex=2)),t.node}function R(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var i=$(t);t.background=i.insertBefore(Vr("div",null,e),i.firstChild)}}function I(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):On(t,e)}function O(t,e){var i=e.text.className,n=I(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,H(e)):i&&(e.text.className=i)}function H(t){R(t),t.line.wrapClass?$(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function W(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=$(e);e.gutterBackground=Vr("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var r=$(e),s=e.gutter=Vr("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),r.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(Vr("div",k(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];c&&s.appendChild(Vr("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function j(t,e,i){e.alignable&&(e.alignable=null);for(var n,r=e.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}V(t,e,i)}function z(t,e,i,n){var r=I(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),H(e),W(t,e,i,n),V(t,e,n),e.node}function V(t,e,i){if(q(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)q(t,e.rest[n],e,i,!1)}function q(t,e,i,n,r){if(e.widgets)for(var o=$(i),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=Vr("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),G(l,c,i,n),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),Sr(l,"redraw")}}function G(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var r=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(r-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function U(t){return Ho(t.line,t.ch)}function K(t,e){return Wo(t,e)<0?e:t}function X(t,e){return Wo(t,e)<0?t:e}function Y(t){t.state.focused||(t.display.input.focus(),vi(t))}function Z(t,e,i,n,r){var o=t.doc;t.display.shift=!1,n||(n=o.sel);var s=t.state.pasteIncoming||"paste"==r,a=o.splitLines(e),l=null;if(s&&n.ranges.length>1)if(jo&&jo.text.join("\n")==e){if(n.ranges.length%jo.text.length==0){l=[];for(var c=0;c<jo.text.length;c++)l.push(o.splitLines(jo.text[c]))}}else a.length==n.ranges.length&&(l=Fr(a,function(t){return[t]}));for(var c=n.ranges.length-1;c>=0;c--){var u=n.ranges[c],h=u.from(),p=u.to();u.empty()&&(i&&i>0?h=Ho(h.line,h.ch-i):t.state.overwrite&&!s?p=Ho(p.line,Math.min(Qn(o,p.line).text.length,p.ch+Lr(a).length)):jo&&jo.lineWise&&jo.text.join("\n")==e&&(h=p=Ho(h.line,0)));var d=t.curOp.updateInput,f={from:h,to:p,text:l?l[c%l.length]:a,origin:r||(s?"paste":t.state.cutIncoming?"cut":"+input")};Ti(t.doc,f),Sr(t,"inputRead",t,f)}e&&!s&&J(t,e),Ii(t),t.curOp.updateInput=d,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function Q(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ee(e,function(){Z(e,i,0,null,"paste")}),!0}function J(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=t.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Hi(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qn(t.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Hi(t,r.head.line,"smart"));s&&Sr(t,"electricInput",t,r.head.line)}}}function tt(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var r=t.doc.sel.ranges[n].head.line,o={anchor:Ho(r,0),head:Ho(r+1,0)};i.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:i}}function et(t,e){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck",!!e)}function it(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Br,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function nt(){var t=Vr("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=Vr("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ko?t.style.width="1000px":t.setAttribute("wrap","off"),Eo&&(t.style.border="1px solid black"),et(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Br,this.gracePeriod=!1}function ot(t,e){var i=Jt(t,e.line);if(!i||i.hidden)return null;var n=Qn(t.doc,e.line),r=Yt(i,n,e.line),o=or(n),s="left";if(o){var a=ho(o,e.ch);s=a%2?"right":"left"}var l=ie(r.map,e.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function st(t,e){return e&&(t.bad=!0),t}function at(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return st(t.clipPos(Ho(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==n)return lt(o,e,i)}}function lt(t,e,i){function n(e,i,n){for(var r=-1;r<(u?u.length:0);r++)for(var o=r<0?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==i){var l=ir(r<0?t.line:t.rest[r]),h=o[s]+n;return(n<0||a!=e)&&(h=o[s+(n?1:0)]),Ho(l,h)}}}var r=t.text.firstChild,o=!1;if(!e||!Ys(r,e))return st(Ho(ir(t.line),0),!0);if(e==r&&(o=!0,e=r.childNodes[i],i=0,!e)){var s=t.rest?Lr(t.rest):t.line;return st(Ho(ir(s),s.text.length),o)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=t.measure,u=c.maps,h=n(a,l,i);if(h)return st(h,o);for(var p=l.nextSibling,d=a?a.nodeValue.length-i:0;p;p=p.nextSibling){if(h=n(p,p.firstChild,0))return st(Ho(h.line,h.ch-d),o);d+=p.textContent.length}for(var f=l.previousSibling,d=i;f;f=f.previousSibling){if(h=n(f,f.firstChild,-1))return st(Ho(h.line,h.ch+d),o);d+=f.textContent.length}}function ct(t,e,i,n,r){function o(t){return function(e){return e.id==t}}function s(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return""==i&&(i=e.textContent.replace(/\u200b/g,"")),void(a+=i);var u,h=e.getAttribute("cm-marker");if(h){var p=t.findMarks(Ho(n,0),Ho(r+1,0),o(+h));return void(p.length&&(u=p[0].find())&&(a+=Jn(t.doc,u.from,u.to).join(c)))}if("false"==e.getAttribute("contenteditable"))return;for(var d=0;d<e.childNodes.length;d++)s(e.childNodes[d]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var f=e.nodeValue;if(!f)return;l&&(a+=c,l=!1),a+=f}}for(var a="",l=!1,c=t.doc.lineSeparator();s(e),e!=i;)e=e.nextSibling;return a}function ut(t,e){this.ranges=t,this.primIndex=e}function ht(t,e){this.anchor=t,this.head=e}function pt(t,e){var i=t[e];t.sort(function(t,e){return Wo(t.from(),e.from())}),e=Nr(t,i);for(var n=1;n<t.length;n++){var r=t[n],o=t[n-1];if(Wo(o.to(),r.from())>=0){var s=X(o.from(),r.from()),a=K(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;n<=e&&--e,t.splice(--n,2,new ht(l?a:s,l?s:a))}}return new ut(t,e)}function dt(t,e){return new ut([new ht(t,e||t)],0)}function ft(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function gt(t,e){if(e.line<t.first)return Ho(t.first,0);var i=t.first+t.size-1;return e.line>i?Ho(i,Qn(t,i).text.length):mt(e,Qn(t,e.line).text.length)}function mt(t,e){var i=t.ch;return null==i||i>e?Ho(t.line,e):i<0?Ho(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function bt(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=gt(t,e[n]);return i}function yt(t,e,i,n){if(t.cm&&t.cm.display.shift||t.extend){var r=e.anchor;if(n){var o=Wo(i,r)<0;o!=Wo(n,r)<0?(r=i,i=n):o!=Wo(i,n)<0&&(i=n)}return new ht(r,i)}return new ht(n||i,i)}function xt(t,e,i,n){Tt(t,new ut([yt(t,t.sel.primary(),e,i)],0),n)}function Ct(t,e,i){for(var n=[],r=0;r<t.sel.ranges.length;r++)n[r]=yt(t,t.sel.ranges[r],e[r],null);var o=pt(n,t.sel.primIndex);Tt(t,o,i)}function wt(t,e,i,n){var r=t.sel.ranges.slice(0);r[e]=i,Tt(t,pt(r,t.sel.primIndex),n)}function kt(t,e,i,n){Tt(t,dt(e,i),n)}function _t(t,e,i){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var i=0;i<e.length;i++)this.ranges[i]=new ht(gt(t,e[i].anchor),gt(t,e[i].head))},origin:i&&i.origin};return Fs(t,"beforeSelectionChange",t,n),t.cm&&Fs(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?pt(n.ranges,n.ranges.length-1):e}function St(t,e,i){var n=t.history.done,r=Lr(n);r&&r.ranges?(n[n.length-1]=e,Dt(t,e,i)):Tt(t,e,i)}function Tt(t,e,i){Dt(t,e,i),pr(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function Dt(t,e,i){(Pr(t,"beforeSelectionChange")||t.cm&&Pr(t.cm,"beforeSelectionChange"))&&(e=_t(t,e,i));var n=i&&i.bias||(Wo(e.primary().head,t.sel.primary().head)<0?-1:1);Mt(t,Et(t,e,n,!0)),i&&i.scroll===!1||!t.cm||Ii(t.cm)}function Mt(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Mr(t.cm)),Sr(t,"cursorActivity",t))}function Pt(t){Mt(t,Et(t,t.sel,null,!1),Os)}function Et(t,e,i,n){for(var r,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=At(t,s.anchor,a&&a.anchor,i,n),c=At(t,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new ht(l,c))}return r?pt(r,e.primIndex):e}function Bt(t,e,i,n,r){var o=Qn(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(l.inclusiveRight?a.to>=e.ch:a.to>e.ch))){if(r&&(Fs(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var c,u=l.find(n<0?1:-1);if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Lt(t,u,-n,u&&u.line==e.line?o:null)),u&&u.line==e.line&&(c=Wo(u,i))&&(n<0?c<0:c>0))return Bt(t,u,e,n,r)}var h=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(h=Lt(t,h,n,h.line==e.line?o:null)),h?Bt(t,h,e,n,r):null}}return e}function At(t,e,i,n,r){var o=n||1,s=Bt(t,e,i,o,r)||!r&&Bt(t,e,i,o,!0)||Bt(t,e,i,-o,r)||!r&&Bt(t,e,i,-o,!0);return s?s:(t.cantEdit=!0,Ho(t.first,0))}function Lt(t,e,i,n){return i<0&&0==e.ch?e.line>t.first?gt(t,Ho(e.line-1)):null:i>0&&e.ch==(n||Qn(t,e.line)).text.length?e.line<t.first+t.size-1?Ho(e.line+1,0):null:new Ho(e.line,e.ch+i)}function Nt(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Ft(t,e){for(var i=t.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(e!==!1||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&$t(t,a.head,r),l||Rt(t,a,o)}}return n}function $t(t,e,i){var n=fe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=i.appendChild(Vr("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var o=i.appendChild(Vr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Rt(t,e,i){function n(t,e,i,n){e<0&&(e=0),e=Math.round(e),n=Math.round(n),a.appendChild(Vr("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==i?u-t:i)+"px; height: "+(n-e)+"px"))}function r(e,i,r){function o(i,n){return de(t,Ho(e,i),"div",h,n)}var a,l,h=Qn(s,e),p=h.text.length;return io(or(h),i||0,null==r?p:r,function(t,e,s){var h,d,f,g=o(t,"left");if(t==e)h=g,d=f=g.left;else{if(h=o(e-1,"right"),"rtl"==s){var m=g;g=h,h=m}d=g.left,f=h.right}null==i&&0==t&&(d=c),h.top-g.top>3&&(n(d,g.top,null,g.bottom),d=c,g.bottom<h.top&&n(d,g.bottom,null,h.top)),null==r&&e==p&&(f=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),d<c+1&&(d=c),n(d,h.top,f-d,h.bottom)}),{start:a,end:l}}var o=t.display,s=t.doc,a=document.createDocumentFragment(),l=qt(t.display),c=l.left,u=Math.max(o.sizerWidth,Ut(t)-o.sizer.offsetLeft)-l.right,h=e.from(),p=e.to();if(h.line==p.line)r(h.line,h.ch,p.ch);else{var d=Qn(s,h.line),f=Qn(s,p.line),g=yn(d)==yn(f),m=r(h.line,h.ch,g?d.text.length+1:null).end,v=r(p.line,g?0:null,p.ch).start;g&&(m.top<v.top-2?(n(m.right,m.top,null,m.bottom),n(c,v.top,v.left,v.bottom)):n(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&n(c,m.bottom,null,v.top)}i.appendChild(a)}function It(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ot(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Hr(Ht,t))}function Ht(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=us(e.mode,jt(t,e.frontier)),r=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength,l=Fn(t,o,a?us(e.mode,n):n,!0);o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var h=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!h&&p<s.length;++p)h=s[p]!=o.styles[p];h&&r.push(e.frontier),o.stateAfter=a?n:us(e.mode,n)}else o.text.length<=t.options.maxHighlightLength&&Rn(t,o.text,n),o.stateAfter=e.frontier%5==0?us(e.mode,n):null;if(++e.frontier,+new Date>i)return Ot(t,t.options.workDelay),!0}),r.length&&Ee(t,function(){for(var e=0;e<r.length;e++)Re(t,r[e],"text")})}}function Wt(t,e,i){for(var n,r,o=t.doc,s=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Qn(o,a-1);if(l.stateAfter&&(!i||a<=o.frontier))return a;var c=js(l.text,null,t.options.tabSize);(null==r||n>c)&&(r=a-1,n=c)}return r}function jt(t,e,i){var n=t.doc,r=t.display;if(!n.mode.startState)return!0;var o=Wt(t,e,i),s=o>n.first&&Qn(n,o-1).stateAfter;return s=s?us(n.mode,s):hs(n.mode),n.iter(o,e,function(i){Rn(t,i.text,s);var a=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;i.stateAfter=a?us(n.mode,s):null,++o}),i&&(n.frontier=o),s}function zt(t){return t.lineSpace.offsetTop}function Vt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function qt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Gr(t.measure,Vr("pre","x")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function Gt(t){return Rs-t.display.nativeBarWidth}function Ut(t){return t.display.scroller.clientWidth-Gt(t)-t.display.barWidth}function Kt(t){return t.display.scroller.clientHeight-Gt(t)-t.display.barHeight}function Xt(t,e,i){var n=t.options.lineWrapping,r=n&&Ut(t);if(!e.measure.heights||n&&e.measure.width!=r){var o=e.measure.heights=[];if(n){e.measure.width=r;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}function Yt(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var n=0;n<t.rest.length;n++)if(ir(t.rest[n])>i)return{map:t.measure.maps[n],cache:t.measure.caches[n],before:!0}}function Zt(t,e){e=yn(e);var i=ir(e),n=t.display.externalMeasured=new Ne(t.doc,e,i);n.lineN=i;var r=n.built=On(t,n);return n.text=r.pre,Gr(t.display.lineMeasure,r.pre),n}function Qt(t,e,i,n){return ee(t,te(t,e),i,n)}function Jt(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Oe(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function te(t,e){var i=ir(e),n=Jt(t,i);n&&!n.text?n=null:n&&n.changes&&(F(t,n,i,L(t)),t.curOp.forceUpdate=!0),n||(n=Zt(t,e));var r=Yt(n,e,i);return{line:e,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function ee(t,e,i,n,r){e.before&&(i=-1);var o,s=i+(n||"");return e.cache.hasOwnProperty(s)?o=e.cache[s]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Xt(t,e.view,e.rect),e.hasHeights=!0),o=re(t,e,i,n),o.bogus||(e.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function ie(t,e,i){for(var n,r,o,s,a=0;a<t.length;a+=3){var l=t[a],c=t[a+1];if(e<l?(r=0,o=1,s="left"):e<c?(r=e-l,o=r+1):(a==t.length-3||e==c&&t[a+3]>e)&&(o=c-l,r=o-1,e>=c&&(s="right")),null!=r){if(n=t[a+2],l==c&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)n=t[(a-=3)+2],s="left";if("right"==i&&r==c-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)n=t[(a+=3)+2],s="right";break}}return{node:n,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function ne(t,e){var i=Go;if("left"==e)for(var n=0;n<t.length&&(i=t[n]).left==i.right;n++);else for(var n=t.length-1;n>=0&&(i=t[n]).left==i.right;n--);return i}function re(t,e,i,n){var r,o=ie(e.map,i,n),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;u<4;u++){for(;a&&zr(e.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&zr(e.line.text.charAt(o.coverStart+l));)++l;if(r=Co&&wo<9&&0==a&&l==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():ne(Gs(s,a,l).getClientRects(),n),r.left||r.right||0==a)break;l=a,a-=1,c="right"}Co&&wo<11&&(r=oe(t.display.measure,r))}else{a>0&&(c=n="right");var h;r=t.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==n?h.length-1:0]:s.getBoundingClientRect()}if(Co&&wo<9&&!a&&(!r||!r.left&&!r.right)){var p=s.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+xe(t.display),top:p.top,bottom:p.bottom}:Go}for(var d=r.top-e.rect.top,f=r.bottom-e.rect.top,g=(d+f)/2,m=e.view.measure.heights,u=0;u<m.length-1&&!(g<m[u]);u++);
var v=u?m[u-1]:0,b=m[u],y={left:("right"==c?r.right:r.left)-e.rect.left,right:("left"==c?r.left:r.right)-e.rect.left,top:v,bottom:b};return r.left||r.right||(y.bogus=!0),t.options.singleCursorHeightPerLine||(y.rtop=d,y.rbottom=f),y}function oe(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!eo(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function se(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function ae(t){t.display.externalMeasure=null,qr(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)se(t.display.view[e])}function le(t){ae(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ce(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ue(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function he(t,e,i,n){if(e.widgets)for(var r=0;r<e.widgets.length;++r)if(e.widgets[r].above){var o=Tn(e.widgets[r]);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=rr(e);if("local"==n?s+=zt(t.display):s-=t.display.viewOffset,"page"==n||"window"==n){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:ue());var l=a.left+("window"==n?0:ce());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function pe(t,e,i){if("div"==i)return e;var n=e.left,r=e.top;if("page"==i)n-=ce(),r-=ue();else if("local"==i||!i){var o=t.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function de(t,e,i,n,r){return n||(n=Qn(t.doc,e.line)),he(t,n,Qt(t,n,e.ch,r),i)}function fe(t,e,i,n,r,o){function s(e,s){var a=ee(t,r,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,he(t,n,a,i)}function a(t,e){var i=l[e],n=i.level%2;return t==no(i)&&e&&i.level<l[e-1].level?(i=l[--e],t=ro(i)-(i.level%2?0:1),n=!0):t==ro(i)&&e<l.length-1&&i.level<l[e+1].level&&(i=l[++e],t=no(i)-i.level%2,n=!1),n&&t==i.to&&t>i.from?s(t-1):s(t,n)}n=n||Qn(t.doc,e.line),r||(r=te(t,n));var l=or(n),c=e.ch;if(!l)return s(c);var u=ho(l,c),h=a(c,u);return null!=la&&(h.other=a(c,la)),h}function ge(t,e){var i=0,e=gt(t.doc,e);t.options.lineWrapping||(i=xe(t.display)*e.ch);var n=Qn(t.doc,e.line),r=rr(n)+zt(t.display);return{left:i,right:i,top:r,bottom:r+n.height}}function me(t,e,i,n){var r=Ho(t,e);return r.xRel=n,i&&(r.outside=!0),r}function ve(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return me(n.first,0,!0,-1);var r=nr(n,i),o=n.first+n.size-1;if(r>o)return me(n.first+n.size-1,Qn(n,o).text.length,!0,1);e<0&&(e=0);for(var s=Qn(n,r);;){var a=be(t,s,r,e,i),l=vn(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=ir(s=c.to.line)}}function be(t,e,i,n,r){function o(n){var r=fe(t,Ho(i,n),"line",e,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-rr(e),a=!1,l=2*t.display.wrapper.clientWidth,c=te(t,e),u=or(e),h=e.text.length,p=oo(e),d=so(e),f=o(p),g=a,m=o(d),v=a;if(n>m)return me(i,d,v,1);for(;;){if(u?d==p||d==fo(e,p,1):d-p<=1){var b=n<f||n-f<=m-n?p:d,y=b==p?g:v,x=n-(b==p?f:m);if(v&&!u&&!/\s/.test(e.text.charAt(b))&&x>0&&b<e.text.length&&c.view.measure.heights.length>1){var C=ee(t,c,b,"right");s<=C.bottom&&s>=C.top&&Math.abs(n-C.right)<x&&(y=!1,b++,x=n-C.right)}for(;zr(e.text.charAt(b));)++b;var w=me(i,b,y,x<-1?-1:x>1?1:0);return w}var k=Math.ceil(h/2),_=p+k;if(u){_=p;for(var S=0;S<k;++S)_=fo(e,_,1)}var T=o(_);T>n?(d=_,m=T,(v=a)&&(m+=1e3),h=k):(p=_,f=T,g=a,h-=k)}}function ye(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==zo){zo=Vr("pre");for(var e=0;e<49;++e)zo.appendChild(document.createTextNode("x")),zo.appendChild(Vr("br"));zo.appendChild(document.createTextNode("x"))}Gr(t.measure,zo);var i=zo.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),qr(t.measure),i||1}function xe(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Vr("span","xxxxxxxxxx"),i=Vr("pre",[e]);Gr(t.measure,i);var n=e.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function Ce(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ko},Uo?Uo.ops.push(t.curOp):t.curOp.ownsGroup=Uo={ops:[t.curOp],delayedCallbacks:[]}}function we(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var r=t.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<e.length)}function ke(t){var e=t.curOp,i=e.ownsGroup;if(i)try{we(i)}finally{Uo=null;for(var n=0;n<i.ops.length;n++)i.ops[n].cm.curOp=null;_e(i)}}function _e(t){for(var e=t.ops,i=0;i<e.length;i++)Se(e[i]);for(var i=0;i<e.length;i++)Te(e[i]);for(var i=0;i<e.length;i++)De(e[i]);for(var i=0;i<e.length;i++)Me(e[i]);for(var i=0;i<e.length;i++)Pe(e[i])}function Se(t){var e=t.cm,i=e.display;T(e),t.updateMaxLine&&p(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Te(t){t.updatedDisplay=t.mustUpdate&&D(t.cm,t.update)}function De(t){var e=t.cm,i=e.display;t.updatedDisplay&&B(e),t.barMeasure=f(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Qt(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+Gt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Ut(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection(t.focus))}function Me(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&oi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==Ur()&&(!document.hasFocus||document.hasFocus());t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&b(e,t.barMeasure),t.updatedDisplay&&E(e,t.barMeasure),t.selectionChanged&&It(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Y(t.cm)}function Pe(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&M(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==t.scrollTop||i.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(n.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(n.scrollTop),i.scroller.scrollTop=n.scrollTop),null==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(n.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-i.scroller.clientWidth,t.scrollLeft)),i.scrollbars.setScrollLeft(n.scrollLeft),i.scroller.scrollLeft=n.scrollLeft,C(e)),t.scrollToPos){var r=Ni(e,gt(n,t.scrollToPos.from),gt(n,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Li(e,r)}var o=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Fs(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Fs(s[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Fs(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ee(t,e){if(t.curOp)return e();Ce(t);try{return e()}finally{ke(t)}}function Be(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Ce(t);try{return e.apply(t,arguments)}finally{ke(t)}}}function Ae(t){return function(){if(this.curOp)return t.apply(this,arguments);Ce(this);try{return t.apply(this,arguments)}finally{ke(this)}}}function Le(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Ce(e);try{return t.apply(this,arguments)}finally{ke(e)}}}function Ne(t,e,i){this.line=e,this.rest=xn(e),this.size=this.rest?ir(Lr(this.rest))-i+1:1,this.node=this.text=null,this.hidden=kn(t,e)}function Fe(t,e,i){for(var n,r=[],o=e;o<i;o=n){var s=new Ne(t.doc,Qn(t.doc,o),o);n=o+s.size,r.push(s)}return r}function $e(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var r=t.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Oo&&Cn(t.doc,e)<r.viewTo&&Ie(t);else if(i<=r.viewFrom)Oo&&wn(t.doc,i+n)>r.viewFrom?Ie(t):(r.viewFrom+=n,r.viewTo+=n);else if(e<=r.viewFrom&&i>=r.viewTo)Ie(t);else if(e<=r.viewFrom){var o=He(t,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):Ie(t)}else if(i>=r.viewTo){var o=He(t,e,e,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):Ie(t)}else{var s=He(t,e,e,-1),a=He(t,i,i+n,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Fe(t,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=n):Ie(t)}var l=r.externalMeasured;l&&(i<l.lineN?l.lineN+=n:e<l.lineN+l.size&&(r.externalMeasured=null))}function Re(t,e,i){t.curOp.viewChanged=!0;var n=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var o=n.view[Oe(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);Nr(s,i)==-1&&s.push(i)}}}function Ie(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Oe(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function He(t,e,i,n){var r,o=Oe(t,e),s=t.display.view;if(!Oo||i==t.doc.first+t.doc.size)return{index:o,lineN:i};for(var a=0,l=t.display.viewFrom;a<o;a++)l+=s[a].size;if(l!=e){if(n>0){if(o==s.length-1)return null;r=l+s[o].size-e,o++}else r=l-e;e+=r,i+=r}for(;Cn(t.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function We(t,e,i){var n=t.display,r=n.view;0==r.length||e>=n.viewTo||i<=n.viewFrom?(n.view=Fe(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=Fe(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Oe(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(Fe(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Oe(t,i)))),n.viewTo=i}function je(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var r=e[n];r.hidden||r.node&&!r.changes||++i}return i}function ze(t){function e(){r.activeTouch&&(o=setTimeout(function(){r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function n(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}var r=t.display;As(r.scroller,"mousedown",Be(t,Ke)),Co&&wo<11?As(r.scroller,"dblclick",Be(t,function(e){if(!Dr(t,e)){var i=Ue(t,e);if(i&&!Je(t,e)&&!Ge(t.display,e)){Ps(e);var n=t.findWordAt(i);xt(t.doc,n.anchor,n.head)}}})):As(r.scroller,"dblclick",function(e){Dr(t,e)||Ps(e)}),Ro||As(r.scroller,"contextmenu",function(e){yi(t,e)});var o,s={end:0};As(r.scroller,"touchstart",function(e){if(!Dr(t,e)&&!i(e)){clearTimeout(o);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),As(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),As(r.scroller,"touchend",function(i){var o=r.activeTouch;if(o&&!Ge(r,i)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=t.coordsChar(r.activeTouch,"page");s=!o.prev||n(o,o.prev)?new ht(a,a):!o.prev.prev||n(o,o.prev.prev)?t.findWordAt(a):new ht(Ho(a.line,0),gt(t.doc,Ho(a.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),Ps(i)}e()}),As(r.scroller,"touchcancel",e),As(r.scroller,"scroll",function(){r.scroller.clientHeight&&(ri(t,r.scroller.scrollTop),oi(t,r.scroller.scrollLeft,!0),Fs(t,"scroll",t))}),As(r.scroller,"mousewheel",function(e){si(t,e)}),As(r.scroller,"DOMMouseScroll",function(e){si(t,e)}),As(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(e){Dr(t,e)||Bs(e)},over:function(e){Dr(t,e)||(ii(t,e),Bs(e))},start:function(e){ei(t,e)},drop:Be(t,ti),leave:function(e){Dr(t,e)||ni(t)}};var a=r.input.getField();As(a,"keyup",function(e){fi.call(t,e)}),As(a,"keydown",Be(t,pi)),As(a,"keypress",Be(t,gi)),As(a,"focus",Hr(vi,t)),As(a,"blur",Hr(bi,t))}function Ve(e,i,n){var r=n&&n!=t.Init;if(!i!=!r){var o=e.display.dragFunctions,s=i?As:Ns;s(e.display.scroller,"dragstart",o.start),s(e.display.scroller,"dragenter",o.enter),s(e.display.scroller,"dragover",o.over),s(e.display.scroller,"dragleave",o.leave),s(e.display.scroller,"drop",o.drop)}}function qe(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ge(t,e){for(var i=wr(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Ue(t,e,i,n){var r=t.display;if(!i&&"true"==wr(e).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(t){return null}var l,c=ve(t,o,s);if(n&&1==c.xRel&&(l=Qn(t.doc,c.line).text).length==c.ch){var u=js(l,l.length,t.options.tabSize)-l.length;c=Ho(c.line,Math.max(0,Math.round((o-qt(t.display).left)/xe(t.display))-u))}return c}function Ke(t){var e=this,i=e.display;if(!(Dr(e,t)||i.activeTouch&&i.input.supportsTouch())){if(i.shift=t.shiftKey,Ge(i,t))return void(ko||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)));if(!Je(e,t)){var n=Ue(e,t);switch(window.focus(),kr(t)){case 1:e.state.selectingText?e.state.selectingText(t):n?Xe(e,t,n):wr(t)==i.scroller&&Ps(t);break;case 2:ko&&(e.state.lastMiddleDown=+new Date),n&&xt(e.doc,n),setTimeout(function(){i.input.focus()},20),Ps(t);break;case 3:Ro?yi(e,t):mi(e)}}}}function Xe(t,e,i){Co?setTimeout(Hr(Y,t),0):t.curOp.focus=Ur();var n,r=+new Date;qo&&qo.time>r-400&&0==Wo(qo.pos,i)?n="triple":Vo&&Vo.time>r-400&&0==Wo(Vo.pos,i)?(n="double",qo={time:r,pos:i}):(n="single",Vo={time:r,pos:i});var o,s=t.doc.sel,a=Ao?e.metaKey:e.ctrlKey;t.options.dragDrop&&ia&&!t.isReadOnly()&&"single"==n&&(o=s.contains(i))>-1&&(Wo((o=s.ranges[o]).from(),i)<0||i.xRel>0)&&(Wo(o.to(),i)>0||i.xRel<0)?Ye(t,e,i,a):Ze(t,e,i,n,a)}function Ye(t,e,i,n){var r=t.display,o=+new Date,s=Be(t,function(a){ko&&(r.scroller.draggable=!1),t.state.draggingText=!1,Ns(document,"mouseup",s),Ns(r.scroller,"drop",s),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(Ps(a),!n&&+new Date-200<o&&xt(t.doc,i),ko||Co&&9==wo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});ko&&(r.scroller.draggable=!0),t.state.draggingText=s,s.copy=Ao?e.altKey:e.ctrlKey,r.scroller.dragDrop&&r.scroller.dragDrop(),As(document,"mouseup",s),As(r.scroller,"drop",s)}function Ze(t,e,i,n,r){function o(e){if(0!=Wo(m,e))if(m=e,"rect"==n){for(var r=[],o=t.options.tabSize,s=js(Qn(c,i.line).text,i.ch,o),a=js(Qn(c,e.line).text,e.ch,o),l=Math.min(s,a),d=Math.max(s,a),f=Math.min(i.line,e.line),g=Math.min(t.lastLine(),Math.max(i.line,e.line));f<=g;f++){var v=Qn(c,f).text,b=zs(v,l,o);l==d?r.push(new ht(Ho(f,b),Ho(f,b))):v.length>b&&r.push(new ht(Ho(f,b),Ho(f,zs(v,d,o))))}r.length||r.push(new ht(i,i)),Tt(c,pt(p.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var y=u,x=y.anchor,C=e;if("single"!=n){if("double"==n)var w=t.findWordAt(e);else var w=new ht(Ho(e.line,0),gt(c,Ho(e.line+1,0)));Wo(w.anchor,x)>0?(C=w.head,x=X(y.from(),w.anchor)):(C=w.anchor,x=K(y.to(),w.head))}var r=p.ranges.slice(0);r[h]=new ht(gt(c,x),C),Tt(c,pt(r,h),Hs)}}function s(e){var i=++b,r=Ue(t,e,!0,"rect"==n);if(r)if(0!=Wo(r,m)){t.curOp.focus=Ur(),o(r);var a=x(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Be(t,function(){b==i&&s(e)}),150)}else{var u=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;u&&setTimeout(Be(t,function(){b==i&&(l.scroller.scrollTop+=u,s(e))}),50)}}function a(e){t.state.selectingText=!1,b=1/0,Ps(e),l.input.focus(),Ns(document,"mousemove",y),Ns(document,"mouseup",C),c.history.lastSelOrigin=null}var l=t.display,c=t.doc;Ps(e);var u,h,p=c.sel,d=p.ranges;if(r&&!e.shiftKey?(h=c.sel.contains(i),u=h>-1?d[h]:new ht(i,i)):(u=c.sel.primary(),h=c.sel.primIndex),Lo?e.shiftKey&&e.metaKey:e.altKey)n="rect",r||(u=new ht(i,i)),i=Ue(t,e,!0,!0),h=-1;else if("double"==n){var f=t.findWordAt(i);u=t.display.shift||c.extend?yt(c,u,f.anchor,f.head):f}else if("triple"==n){var g=new ht(Ho(i.line,0),gt(c,Ho(i.line+1,0)));u=t.display.shift||c.extend?yt(c,u,g.anchor,g.head):g}else u=yt(c,u,i);r?h==-1?(h=d.length,Tt(c,pt(d.concat([u]),h),{scroll:!1,origin:"*mouse"})):d.length>1&&d[h].empty()&&"single"==n&&!e.shiftKey?(Tt(c,pt(d.slice(0,h).concat(d.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=c.sel):wt(c,h,u,Hs):(h=0,Tt(c,new ut([u],0),Hs),p=c.sel);var m=i,v=l.wrapper.getBoundingClientRect(),b=0,y=Be(t,function(t){kr(t)?s(t):a(t)}),C=Be(t,a);t.state.selectingText=C,As(document,"mousemove",y),As(document,"mouseup",C)}function Qe(t,e,i,n){try{var r=e.clientX,o=e.clientY}catch(t){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&Ps(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Pr(t,i))return Cr(e);o-=a.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=nr(t.doc,o),h=t.options.gutters[l];return Fs(t,i,t,u,h,e),Cr(e)}}}function Je(t,e){return Qe(t,e,"gutterClick",!0)}function ti(t){var e=this;if(ni(e),!Dr(e,t)&&!Ge(e.display,t)){Ps(t),Co&&(Xo=+new Date);var i=Ue(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),s=0,a=function(t,n){if(!e.options.allowDropFileTypes||Nr(e.options.allowDropFileTypes,t.type)!=-1){var a=new FileReader;a.onload=Be(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[n]=t,++s==r){i=gt(e.doc,i);var l={from:i,to:i,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Ti(e.doc,l),St(e.doc,dt(i,es(l)))}}),a.readAsText(t)}},l=0;l<r;++l)a(n[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!e.state.draggingText.copy)var c=e.listSelections();if(Dt(e.doc,dt(i,i)),c)for(var l=0;l<c.length;++l)Ai(e.doc,"",c[l].anchor,c[l].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function ei(t,e){if(Co&&(!t.state.draggingText||+new Date-Xo<100))return void Bs(e);if(!Dr(t,e)&&!Ge(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!Do)){var i=Vr("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",To&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),To&&i.parentNode.removeChild(i)}}function ii(t,e){var i=Ue(t,e);if(i){var n=document.createDocumentFragment();$t(t,i,n),t.display.dragCursor||(t.display.dragCursor=Vr("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Gr(t.display.dragCursor,n)}}function ni(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function ri(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,bo||P(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),bo&&P(t),Ot(t,100))}function oi(t,e,i){(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,C(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function si(t,e){var i=Qo(e),n=i.x,r=i.y,o=t.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(n&&a||r&&l){if(r&&Ao&&ko)t:for(var c=e.target,u=o.view;c!=s;c=c.parentNode)for(var h=0;h<u.length;h++)if(u[h].node==c){t.display.currentWheelTarget=c;break t}if(n&&!bo&&!To&&null!=Zo)return r&&l&&ri(t,Math.max(0,Math.min(s.scrollTop+r*Zo,s.scrollHeight-s.clientHeight))),oi(t,Math.max(0,Math.min(s.scrollLeft+n*Zo,s.scrollWidth-s.clientWidth))),(!r||r&&l)&&Ps(e),void(o.wheelStartX=null);if(r&&null!=Zo){var p=r*Zo,d=t.doc.scrollTop,f=d+o.wrapper.clientHeight;p<0?d=Math.max(0,d+p-50):f=Math.min(t.doc.height,f+p+50),P(t,{top:d,bottom:f})}Yo<20&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=n,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var t=s.scrollLeft-o.wheelStartX,e=s.scrollTop-o.wheelStartY,i=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,i&&(Zo=(Zo*Yo+i)/(Yo+1),++Yo)}},200)):(o.wheelDX+=n,o.wheelDY+=r))}}function ai(t,e,i){if("string"==typeof e&&(e=ps[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),r=e(t)!=Is}finally{t.display.shift=n,t.state.suppressEdits=!1}return r}function li(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var r=fs(e,t.state.keyMaps[n],i,t);if(r)return r}return t.options.extraKeys&&fs(e,t.options.extraKeys,i,t)||fs(e,t.options.keyMap,i,t)}function ci(t,e,i,n){var r=t.state.keySeq;if(r){if(gs(e))return"handled";Jo.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),e=r+" "+e}var o=li(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Sr(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(Ps(i),It(t)),r&&!o&&/\'$/.test(e)?(Ps(i),!0):!!o}function ui(t,e){var i=ms(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?ci(t,"Shift-"+i,e,function(e){return ai(t,e,!0)})||ci(t,i,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ai(t,e)}):ci(t,i,e,function(e){return ai(t,e)}))}function hi(t,e,i){return ci(t,"'"+i+"'",e,function(e){return ai(t,e,!0)})}function pi(t){var e=this;if(e.curOp.focus=Ur(),!Dr(e,t)){Co&&wo<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=ui(e,t);To&&(ts=n?i:null,!n&&88==i&&!oa&&(Ao?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||di(e)}}function di(t){function e(t){18!=t.keyCode&&t.altKey||(Js(i,"CodeMirror-crosshair"),Ns(document,"keyup",e),Ns(document,"mouseover",e))}var i=t.display.lineDiv;ta(i,"CodeMirror-crosshair"),As(document,"keyup",e),As(document,"mouseover",e)}function fi(t){16==t.keyCode&&(this.doc.sel.shift=!1),Dr(this,t)}function gi(t){var e=this;if(!(Ge(e.display,t)||Dr(e,t)||t.ctrlKey&&!t.altKey||Ao&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(To&&i==ts)return ts=null,void Ps(t);if(!To||t.which&&!(t.which<10)||!ui(e,t)){var r=String.fromCharCode(null==n?i:n);hi(e,t,r)||e.display.input.onKeyPress(t)}}}function mi(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,bi(t))},100)}function vi(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Fs(t,"focus",t),t.state.focused=!0,ta(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),ko&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),It(t))}function bi(t){t.state.delayingBlurEvent||(t.state.focused&&(Fs(t,"blur",t),t.state.focused=!1,Js(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function yi(t,e){Ge(t.display,e)||xi(t,e)||Dr(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function xi(t,e){return!!Pr(t,"gutterContextMenu")&&Qe(t,e,"gutterContextMenu",!1)}function Ci(t,e){if(Wo(t,e.from)<0)return t;if(Wo(t,e.to)<=0)return es(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=es(e).ch-e.to.ch),Ho(i,n)}function wi(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var r=t.sel.ranges[n];i.push(new ht(Ci(r.anchor,e),Ci(r.head,e)))}return pt(i,t.sel.primIndex)}function ki(t,e,i){return t.line==e.line?Ho(i.line,t.ch-e.ch+i.ch):Ho(i.line+(t.line-e.line),t.ch)}function _i(t,e,i){for(var n=[],r=Ho(t.first,0),o=r,s=0;s<e.length;s++){var a=e[s],l=ki(a.from,r,o),c=ki(es(a),r,o);if(r=a.to,o=c,"around"==i){var u=t.sel.ranges[s],h=Wo(u.head,u.anchor)<0;n[s]=new ht(h?c:l,h?l:c)}else n[s]=new ht(l,l)}return new ut(n,t.sel.primIndex)}function Si(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return i&&(n.update=function(e,i,n,r){e&&(this.from=gt(t,e)),i&&(this.to=gt(t,i)),n&&(this.text=n),void 0!==r&&(this.origin=r)}),Fs(t,"beforeChange",t,n),t.cm&&Fs(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Ti(t,e,i){if(t.cm){if(!t.cm.curOp)return Be(t.cm,Ti)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(Pr(t,"beforeChange")||t.cm&&Pr(t.cm,"beforeChange"))||(e=Si(t,e,!0))){var n=Io&&!i&&cn(t,e.from,e.to);if(n)for(var r=n.length-1;r>=0;--r)Di(t,{from:n[r].from,to:n[r].to,text:r?[""]:e.text});else Di(t,e)}}function Di(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Wo(e.from,e.to)){var i=wi(t,e);ur(t,e,i,t.cm?t.cm.curOp.id:NaN),Ei(t,e,i,sn(t,e));var n=[];Yn(t,function(t,i){i||Nr(n,t.history)!=-1||(xr(t.history,e),n.push(t.history)),Ei(t,e,null,sn(t,e))})}}function Mi(t,e,i){if(!t.cm||!t.cm.state.suppressEdits||i){for(var n,r=t.history,o=t.sel,s="undo"==e?r.done:r.undone,a="undo"==e?r.undone:r.done,l=0;l<s.length&&(n=s[l],i?!n.ranges||n.equals(t.sel):n.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;n=s.pop(),n.ranges;){if(dr(n,a),i&&!n.equals(t.sel))return void Tt(t,n,{clearRedo:!1});o=n}var c=[];dr(o,a),a.push({changes:c,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var u=Pr(t,"beforeChange")||t.cm&&Pr(t.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var h=n.changes[l];if(h.origin=e,u&&!Si(t,h,!1))return void(s.length=0);c.push(ar(t,h));var p=l?wi(t,h):Lr(s);Ei(t,h,p,ln(t,h)),!l&&t.cm&&t.cm.scrollIntoView({from:h.from,to:es(h)});var d=[];Yn(t,function(t,e){e||Nr(d,t.history)!=-1||(xr(t.history,h),d.push(t.history)),Ei(t,h,null,ln(t,h))})}}}}function Pi(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(Fr(t.sel.ranges,function(t){return new ht(Ho(t.anchor.line+e,t.anchor.ch),Ho(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){$e(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)Re(t.cm,n,"gutter")}}function Ei(t,e,i,n){if(t.cm&&!t.cm.curOp)return Be(t.cm,Ei)(t,e,i,n);if(e.to.line<t.first)return void Pi(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);Pi(t,r),e={from:Ho(t.first,0),to:Ho(e.to.line+r,e.to.ch),text:[Lr(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ho(o,Qn(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Jn(t,e.from,e.to),i||(i=wi(t,e)),t.cm?Bi(t.cm,e,n):Un(t,e,n),Dt(t,i,Os)}}function Bi(t,e,i){var n=t.doc,r=t.display,s=e.from,a=e.to,l=!1,c=s.line;t.options.lineWrapping||(c=ir(yn(Qn(n,s.line))),n.iter(c,a.line+1,function(t){if(t==r.maxLine)return l=!0,!0})),n.sel.contains(e.from,e.to)>-1&&Mr(t),Un(n,e,i,o(t)),t.options.lineWrapping||(n.iter(c,s.line+e.text.length,function(t){var e=h(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),n.frontier=Math.min(n.frontier,s.line),Ot(t,400);var u=e.text.length-(a.line-s.line)-1;e.full?$e(t):s.line!=a.line||1!=e.text.length||Gn(t.doc,e)?$e(t,s.line,a.line+1,u):Re(t,s.line,"text");var p=Pr(t,"changes"),d=Pr(t,"change");if(d||p){var f={from:s,to:a,text:e.text,removed:e.removed,origin:e.origin};d&&Sr(t,"change",t,f),p&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}function Ai(t,e,i,n,r){if(n||(n=i),Wo(n,i)<0){var o=n;n=i,i=o}"string"==typeof e&&(e=t.splitLines(e)),Ti(t,{from:i,to:n,text:e,origin:r})}function Li(t,e){if(!Dr(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),r=null;if(e.top+n.top<0?r=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Po){var o=Vr("div","​",null,"position: absolute; top: "+(e.top-i.viewOffset-zt(t.display))+"px; height: "+(e.bottom-e.top+Gt(t)+i.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}function Ni(t,e,i,n){null==n&&(n=0);for(var r=0;r<5;r++){var o=!1,s=fe(t,e),a=i&&i!=e?fe(t,i):s,l=$i(t,Math.min(s.left,a.left),Math.min(s.top,a.top)-n,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+n),c=t.doc.scrollTop,u=t.doc.scrollLeft;if(null!=l.scrollTop&&(ri(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(oi(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function Fi(t,e,i,n,r){var o=$i(t,e,i,n,r);null!=o.scrollTop&&ri(t,o.scrollTop),null!=o.scrollLeft&&oi(t,o.scrollLeft)}function $i(t,e,i,n,r){var o=t.display,s=ye(t.display);i<0&&(i=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Kt(t),c={};r-i>l&&(r=i+l);var u=t.doc.height+Vt(o),h=i<s,p=r>u-s;if(i<a)c.scrollTop=h?0:i;else if(r>a+l){var d=Math.min(i,(p?u:r)-l);d!=a&&(c.scrollTop=d)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Ut(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),m=n-e>g;return m&&(n=e+g),e<10?c.scrollLeft=0:e<f?c.scrollLeft=Math.max(0,e-(m?0:10)):n>g+f-3&&(c.scrollLeft=n+(m?0:10)-g),c}function Ri(t,e,i){null==e&&null==i||Oi(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=i&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}function Ii(t){Oi(t);var e=t.getCursor(),i=e,n=e;t.options.lineWrapping||(i=e.ch?Ho(e.line,e.ch-1):e,n=Ho(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:n,margin:t.options.cursorScrollMargin,isCursor:!0}}function Oi(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=ge(t,e.from),n=ge(t,e.to),r=$i(t,Math.min(i.left,n.left),Math.min(i.top,n.top)-e.margin,Math.max(i.right,n.right),Math.max(i.bottom,n.bottom)+e.margin);t.scrollTo(r.scrollLeft,r.scrollTop)}}function Hi(t,e,i,n){var r,o=t.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=jt(t,e):i="prev");var s=t.options.tabSize,a=Qn(o,e),l=js(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&(c=o.mode.indent(r,a.text.slice(u.length),a.text),c==Is||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=e>o.first?js(Qn(o,e-1).text,null,s):0:"add"==i?c=l+t.options.indentUnit:"subtract"==i?c=l-t.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var h="",p=0;if(t.options.indentWithTabs)for(var d=Math.floor(c/s);d;--d)p+=s,h+="\t";if(p<c&&(h+=Ar(c-p)),h!=u)return Ai(o,h,Ho(e,0),Ho(e,u.length),"+input"),
a.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var f=o.sel.ranges[d];if(f.head.line==e&&f.head.ch<u.length){var p=Ho(e,u.length);wt(o,d,new ht(p,p));break}}}function Wi(t,e,i,n){var r=e,o=e;return"number"==typeof e?o=Qn(t,ft(t,e)):r=ir(e),null==r?null:(n(o,r)&&t.cm&&Re(t.cm,r,i),o)}function ji(t,e){for(var i=t.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=e(i[r]);n.length&&Wo(o.from,Lr(n).to)<=0;){var s=n.pop();if(Wo(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Ee(t,function(){for(var e=n.length-1;e>=0;e--)Ai(t.doc,"",n[e].from,n[e].to,"+delete");Ii(t)})}function zi(t,e,i,n,r){function o(){var e=a+i;return!(e<t.first||e>=t.first+t.size)&&(a=e,u=Qn(t,e))}function s(t){var e=(r?fo:go)(u,l,i,!0);if(null==e){if(t||!o())return!1;l=r?(i<0?so:oo)(u):i<0?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=i,u=Qn(t,a);if("char"==n)s();else if("column"==n)s(!0);else if("word"==n||"group"==n)for(var h=null,p="group"==n,d=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(i<0)||s(!f);f=!1){var g=u.text.charAt(l)||"\n",m=Wr(g,d)?"w":p&&"\n"==g?"n":!p||/\s/.test(g)?null:"p";if(!p||f||m||(m="s"),h&&h!=m){i<0&&(i=1,s());break}if(m&&(h=m),i>0&&!s(!f))break}var v=At(t,Ho(a,l),e,c,!0);return Wo(e,v)||(v.hitSide=!0),v}function Vi(t,e,i,n){var r,o=t.doc,s=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=e.top+i*(a-(i<0?1.5:.5)*ye(t.display))}else"line"==n&&(r=i>0?e.bottom+3:e.top-3);for(;;){var l=ve(t,s,r);if(!l.outside)break;if(i<0?r<=0:r>=o.height){l.hitSide=!0;break}r+=5*i}return l}function qi(e,i,n,r){t.defaults[e]=i,n&&(ns[e]=r?function(t,e,i){i!=rs&&n(t,e,i)}:n)}function Gi(t){for(var e,i,n,r,o=t.split(/-(?!$)/),t=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return e&&(t="Alt-"+t),i&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function Ui(t){return"string"==typeof t?ds[t]:t}function Ki(t,e,i,n,r){if(n&&n.shared)return Xi(t,e,i,n,r);if(t.cm&&!t.cm.curOp)return Be(t.cm,Ki)(t,e,i,n,r);var o=new ys(t,r),s=Wo(e,i);if(n&&Or(n,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Vr("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(bn(t,e.line,e,i,o)||e.line!=i.line&&bn(t,i.line,e,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Oo=!0}o.addToHistory&&ur(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,i.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&yn(t)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&er(t,0),nn(t,new Ji(o,l==e.line?e.ch:null,l==i.line?i.ch:null)),++l}),o.collapsed&&t.iter(e.line,i.line+1,function(e){kn(t,e)&&er(e,0)}),o.clearOnEnter&&As(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Io=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++bs,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)$e(c,e.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=e.line;u<=i.line;u++)Re(c,u,"text");o.atomic&&Pt(c.doc),Sr(c,"markerAdded",c,o)}return o}function Xi(t,e,i,n,r){n=Or(n),n.shared=!1;var o=[Ki(t,e,i,n,r)],s=o[0],a=n.widgetNode;return Yn(t,function(t){a&&(n.widgetNode=a.cloneNode(!0)),o.push(Ki(t,gt(t,e),gt(t,i),n,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Lr(o)}),new xs(o,s)}function Yi(t){return t.findMarks(Ho(t.first,0),t.clipPos(Ho(t.lastLine())),function(t){return t.parent})}function Zi(t,e){for(var i=0;i<e.length;i++){var n=e[i],r=n.find(),o=t.clipPos(r.from),s=t.clipPos(r.to);if(Wo(o,s)){var a=Ki(t,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function Qi(t){for(var e=0;e<t.length;e++){var i=t[e],n=[i.primary.doc];Yn(i.primary.doc,function(t){n.push(t)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];Nr(n,o.doc)==-1&&(o.parent=null,i.markers.splice(r--,1))}}}function Ji(t,e,i){this.marker=t,this.from=e,this.to=i}function tn(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function en(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function nn(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function rn(t,e,i){if(t)for(var n,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||o.from==e&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push(new Ji(s,o.from,l?null:o.to))}}return n}function on(t,e,i){if(t)for(var n,r=0;r<t.length;++r){var o=t[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||o.from==e&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push(new Ji(s,l?null:o.from-e,null==o.to?null:o.to-e))}}return n}function sn(t,e){if(e.full)return null;var i=vt(t,e.from.line)&&Qn(t,e.from.line).markedSpans,n=vt(t,e.to.line)&&Qn(t,e.to.line).markedSpans;if(!i&&!n)return null;var r=e.from.ch,o=e.to.ch,s=0==Wo(e.from,e.to),a=rn(i,r,s),l=on(n,o,s),c=1==e.text.length,u=Lr(e.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var p=a[h];if(null==p.to){var d=tn(l,p.marker);d?c&&(p.to=null==d.to?null:d.to+u):p.to=r}}if(l)for(var h=0;h<l.length;++h){var p=l[h];if(null!=p.to&&(p.to+=u),null==p.from){var d=tn(a,p.marker);d||(p.from=u,c&&(a||(a=[])).push(p))}else p.from+=u,c&&(a||(a=[])).push(p)}a&&(a=an(a)),l&&l!=a&&(l=an(l));var f=[a];if(!c){var g,m=e.text.length-2;if(m>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(g||(g=[])).push(new Ji(a[h].marker,null,null));for(var h=0;h<m;++h)f.push(g);f.push(l)}return f}function an(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function ln(t,e){var i=mr(t,e),n=sn(t,e);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(i[r]=s)}return i}function cn(t,e,i){var n=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&Nr(n,i)!=-1||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:e,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Wo(c.to,a.from)<0||Wo(c.from,a.to)>0)){var u=[l,1],h=Wo(c.from,a.from),p=Wo(c.to,a.to);(h<0||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(p>0||!s.inclusiveRight&&!p)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function un(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function hn(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function pn(t){return t.inclusiveLeft?-1:0}function dn(t){return t.inclusiveRight?1:0}function fn(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),r=e.find(),o=Wo(n.from,r.from)||pn(t)-pn(e);if(o)return-o;var s=Wo(n.to,r.to)||dn(t)-dn(e);return s?s:e.id-t.id}function gn(t,e){var i,n=Oo&&t.markedSpans;if(n)for(var r,o=0;o<n.length;++o)r=n[o],r.marker.collapsed&&null==(e?r.from:r.to)&&(!i||fn(i,r.marker)<0)&&(i=r.marker);return i}function mn(t){return gn(t,!0)}function vn(t){return gn(t,!1)}function bn(t,e,i,n,r){var o=Qn(t,e),s=Oo&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Wo(c.from,i)||pn(l.marker)-pn(r),h=Wo(c.to,n)||dn(l.marker)-dn(r);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Wo(c.to,i)>=0:Wo(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?Wo(c.from,n)<=0:Wo(c.from,n)<0)))return!0}}}function yn(t){for(var e;e=mn(t);)t=e.find(-1,!0).line;return t}function xn(t){for(var e,i;e=vn(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function Cn(t,e){var i=Qn(t,e),n=yn(i);return i==n?e:ir(n)}function wn(t,e){if(e>t.lastLine())return e;var i,n=Qn(t,e);if(!kn(t,n))return e;for(;i=vn(n);)n=i.find(1,!0).line;return ir(n)+1}function kn(t,e){var i=Oo&&e.markedSpans;if(i)for(var n,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&_n(t,e,n))return!0}}function _n(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return _n(t,n.line,tn(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var r,o=0;o<e.markedSpans.length;++o)if(r=e.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&_n(t,e,r))return!0}function Sn(t,e,i){rr(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ri(t,null,i)}function Tn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Ys(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),Gr(e.display.measure,Vr("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Dn(t,e,i,n){var r=new Cs(t,i,n),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Wi(t,e,"widget",function(e){var i=e.widgets||(e.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!kn(t,e)){var n=rr(e)<t.scrollTop;er(e,e.height+Tn(r)),n&&Ri(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Mn(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),un(t),hn(t,i);var r=n?n(t):1;r!=t.height&&er(t,r)}function Pn(t){t.parent=null,un(t)}function En(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function Bn(e,i){if(e.blankLine)return e.blankLine(i);if(e.innerMode){var n=t.innerMode(e,i);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function An(e,i,n,r){for(var o=0;o<10;o++){r&&(r[0]=t.innerMode(e,n).mode);var s=e.token(i,n);if(i.pos>i.start)return s}throw new Error("Mode "+e.name+" failed to advance stream.")}function Ln(t,e,i,n){function r(t){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:t?us(s.mode,u):u}}var o,s=t.doc,a=s.mode;e=gt(s,e);var l,c=Qn(s,e.line),u=jt(t,e.line,i),h=new vs(c.text,t.options.tabSize);for(n&&(l=[]);(n||h.pos<e.ch)&&!h.eol();)h.start=h.pos,o=An(a,h,u),n&&l.push(r(!0));return n?l:r()}function Nn(t,e,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new vs(e,t.options.tabSize),p=t.options.addModeClass&&[null];for(""==e&&En(Bn(i,n),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,s&&Rn(t,e,n,h.pos),h.pos=e.length,l=null):l=En(An(i,h,n,p),o),p){var d=p[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||u!=l){for(;c<h.start;)c=Math.min(h.start,c+5e4),r(c,u);u=l}h.start=h.pos}for(;c<h.pos;){var f=Math.min(h.pos,c+5e4);r(f,u),c=f}}function Fn(t,e,i,n){var r=[t.state.modeGen],o={};Nn(t,e.text,t.doc.mode,i,function(t,e){r.push(t,e)},o,n);for(var s=0;s<t.state.overlays.length;++s){var a=t.state.overlays[s],l=1,c=0;Nn(t,e.text,a.mode,!0,function(t,e){for(var i=l;c<t;){var n=r[l];n>t&&r.splice(l,1,t,r[l+1],n),l+=2,c=Math.min(t,n)}if(e)if(a.opaque)r.splice(i,l-i,t,"cm-overlay "+e),l=i+2;else for(;i<l;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function $n(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=jt(t,ir(e)),r=Fn(t,e,e.text.length>t.options.maxHighlightLength?us(t.doc.mode,n):n);e.stateAfter=n,e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function Rn(t,e,i,n){var r=t.doc.mode,o=new vs(e,t.options.tabSize);for(o.start=o.pos=n||0,""==e&&Bn(r,i);!o.eol();)An(r,o,i),o.start=o.pos}function In(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?_s:ks;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function On(t,e){var i=Vr("span",null,null,ko?"padding-right: .1px":null),n={pre:Vr("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:(Co||ko)&&t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o,s=r?e.rest[r-1]:e.line;n.pos=0,n.addToken=Wn,to(t.display.measure)&&(o=or(s))&&(n.addToken=zn(n.addToken,o)),n.map=[];var a=e!=t.display.externalMeasured&&ir(s);qn(s,n,$n(t,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=Xr(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=Xr(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Jr(t.display.measure))),0==r?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(ko){var l=n.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Fs(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=Xr(n.pre.className,n.textClass||"")),n}function Hn(t){var e=Vr("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Wn(t,e,i,n,r,o,s){if(e){var a=t.splitSpaces?jn(e,t.trailingSpace):e,l=t.cm.state.specialChars,c=!1;if(l.test(e))for(var u=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var p=l.exec(e),d=p?p.index-h:e.length-h;if(d){var f=document.createTextNode(a.slice(h,h+d));Co&&wo<9?u.appendChild(Vr("span",[f])):u.appendChild(f),t.map.push(t.pos,t.pos+d,f),t.col+=d,t.pos+=d}if(!p)break;if(h+=d+1,"\t"==p[0]){var g=t.cm.options.tabSize,m=g-t.col%g,f=u.appendChild(Vr("span",Ar(m),"cm-tab"));f.setAttribute("role","presentation"),f.setAttribute("cm-text","\t"),t.col+=m}else if("\r"==p[0]||"\n"==p[0]){var f=u.appendChild(Vr("span","\r"==p[0]?"␍":"␤","cm-invalidchar"));f.setAttribute("cm-text",p[0]),t.col+=1}else{var f=t.cm.options.specialCharPlaceholder(p[0]);f.setAttribute("cm-text",p[0]),Co&&wo<9?u.appendChild(Vr("span",[f])):u.appendChild(f),t.col+=1}t.map.push(t.pos,t.pos+1,f),t.pos++}else{t.col+=e.length;var u=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,u),Co&&wo<9&&(c=!0),t.pos+=e.length}if(t.trailingSpace=32==a.charCodeAt(e.length-1),i||n||r||c||s){var v=i||"";n&&(v+=n),r&&(v+=r);var b=Vr("span",[u],v,s);return o&&(b.title=o),t.content.appendChild(b)}t.content.appendChild(u)}}function jn(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!i||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}function zn(t,e){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var h=0;h<e.length;h++){var p=e[h];if(p.to>c&&p.from<=c)break}if(p.to>=u)return t(i,n,r,o,s,a,l);t(i,n.slice(0,p.to-c),r,o,null,a,l),o=null,n=n.slice(p.to-c),c=p.to}}}function Vn(t,e,i,n){var r=!n&&i.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!n&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function qn(t,e,i){var n=t.markedSpans,r=t.text,o=0;if(n)for(var s,a,l,c,u,h,p,d=r.length,f=0,g=1,m="",v=0;;){if(v==f){l=c=u=h=a="",p=null,v=1/0;for(var b,y=[],x=0;x<n.length;++x){var C=n[x],w=C.marker;"bookmark"==w.type&&C.from==f&&w.widgetNode?y.push(w):C.from<=f&&(null==C.to||C.to>f||w.collapsed&&C.to==f&&C.from==f)?(null!=C.to&&C.to!=f&&v>C.to&&(v=C.to,c=""),w.className&&(l+=" "+w.className),w.css&&(a=(a?a+";":"")+w.css),w.startStyle&&C.from==f&&(u+=" "+w.startStyle),w.endStyle&&C.to==v&&(b||(b=[])).push(w.endStyle,C.to),w.title&&!h&&(h=w.title),w.collapsed&&(!p||fn(p.marker,w)<0)&&(p=C)):C.from>f&&v>C.from&&(v=C.from)}if(b)for(var x=0;x<b.length;x+=2)b[x+1]==v&&(c+=" "+b[x]);if(!p||p.from==f)for(var x=0;x<y.length;++x)Vn(e,0,y[x]);if(p&&(p.from||0)==f){if(Vn(e,(null==p.to?d+1:p.to)-f,p.marker,null==p.from),null==p.to)return;p.to==f&&(p=!1)}}if(f>=d)break;for(var k=Math.min(d,v);;){if(m){var _=f+m.length;if(!p){var S=_>k?m.slice(0,k-f):m;e.addToken(e,S,s?s+l:l,u,f+S.length==v?c:"",h,a)}if(_>=k){m=m.slice(k-f),f=k;break}f=_,u=""}m=r.slice(o,o=i[g++]),s=In(i[g++],e.cm.options)}}else for(var g=1;g<i.length;g+=2)e.addToken(e,r.slice(o,o=i[g]),In(i[g+1],e.cm.options))}function Gn(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Lr(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Un(t,e,i,n){function r(t){return i?i[t]:null}function o(t,i,r){Mn(t,i,r,n),Sr(t,"change",t,e)}function s(t,e){for(var i=t,o=[];i<e;++i)o.push(new ws(c[i],r(i),n));return o}var a=e.from,l=e.to,c=e.text,u=Qn(t,a.line),h=Qn(t,l.line),p=Lr(c),d=r(c.length-1),f=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Gn(t,e)){var g=s(0,c.length-1);o(h,h.text,d),f&&t.remove(a.line,f),g.length&&t.insert(a.line,g)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+p+u.text.slice(l.ch),d);else{var g=s(1,c.length-1);g.push(new ws(p+u.text.slice(l.ch),d,n)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),t.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),t.remove(a.line+1,f);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,p+h.text.slice(l.ch),d);var g=s(1,c.length-1);f>1&&t.remove(a.line+1,f-1),t.insert(a.line+1,g)}Sr(t,"change",t,e)}function Kn(t){this.lines=t,this.parent=null;for(var e=0,i=0;e<t.length;++e)t[e].parent=this,i+=t[e].height;this.height=i}function Xn(t){this.children=t;for(var e=0,i=0,n=0;n<t.length;++n){var r=t[n];e+=r.chunkSize(),i+=r.height,r.parent=this}this.size=e,this.height=i,this.parent=null}function Yn(t,e,i){function n(t,r,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(e(a.doc,l),n(a.doc,t,l))}}}n(t,null,!0)}function Zn(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,s(t),i(t),t.options.lineWrapping||p(t),t.options.mode=e.modeOption,$e(t)}function Qn(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(e<o){i=r;break}e-=o}return i.lines[e]}function Jn(t,e,i){var n=[],r=e.line;return t.iter(e.line,i.line+1,function(t){var o=t.text;r==i.line&&(o=o.slice(0,i.ch)),r==e.line&&(o=o.slice(e.ch)),n.push(o),++r}),n}function tr(t,e,i){var n=[];return t.iter(e,i,function(t){n.push(t.text)}),n}function er(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function ir(t){if(null==t.parent)return null;for(var e=t.parent,i=Nr(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var r=0;n.children[r]!=e;++r)i+=n.children[r].chunkSize();return i+e.first}function nr(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var r=t.children[n],o=r.height;if(e<o){t=r;continue t}e-=o,i+=r.chunkSize()}return i}while(!t.lines);for(var n=0;n<t.lines.length;++n){var s=t.lines[n],a=s.height;if(e<a)break;e-=a}return i+n}function rr(t){t=yn(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==t)break;e+=r.height}for(var o=i.parent;o;i=o,o=i.parent)for(var n=0;n<o.children.length;++n){var s=o.children[n];if(s==i)break;e+=s.height}return e}function or(t){var e=t.order;return null==e&&(e=t.order=ca(t.text)),e}function sr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function ar(t,e){var i={from:U(e.from),to:es(e),text:Jn(t,e.from,e.to)};return fr(t,i,e.from.line,e.to.line+1),Yn(t,function(t){fr(t,i,e.from.line,e.to.line+1)},!0),i}function lr(t){for(;t.length;){var e=Lr(t);if(!e.ranges)break;t.pop()}}function cr(t,e){return e?(lr(t.done),Lr(t.done)):t.done.length&&!Lr(t.done).ranges?Lr(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Lr(t.done)):void 0}function ur(t,e,i,n){var r=t.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==n||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&r.lastModTime>s-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=cr(r,r.lastOp==n))){var a=Lr(o.changes);0==Wo(e.from,e.to)&&0==Wo(e.from,a.to)?a.to=es(e):o.changes.push(ar(t,e))}else{var l=Lr(r.done);for(l&&l.ranges||dr(t.sel,r.done),o={changes:[ar(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=e.origin,a||Fs(t,"historyAdded")}function hr(t,e,i,n){var r=e.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function pr(t,e,i,n){var r=t.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||hr(t,o,Lr(r.done),e))?r.done[r.done.length-1]=e:dr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&n.clearRedo!==!1&&lr(r.undone)}function dr(t,e){var i=Lr(e);i&&i.ranges&&i.equals(t)||e.push(t)}function fr(t,e,i,n){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),function(i){i.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=i.markedSpans),++o})}function gr(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function mr(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=0,r=[];n<e.text.length;++n)r.push(gr(i[n]));return r}function vr(t,e,i){for(var n=0,r=[];n<t.length;++n){var o=t[n];if(o.ranges)r.push(i?ut.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&Nr(e,Number(c[1]))>-1&&(Lr(a)[h]=u[h],delete u[h])}}}return r}function br(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function yr(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r],s=!0;if(o.ranges){o.copied||(o=t[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)br(o.ranges[a].anchor,e,i,n),br(o.ranges[a].head,e,i,n)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(i<l.from.line)l.from=Ho(l.from.line+n,l.from.ch),l.to=Ho(l.to.line+n,l.to.ch);else if(e<=l.to.line){s=!1;break}}s||(t.splice(0,r+1),r=0)}}}function xr(t,e){var i=e.from.line,n=e.to.line,r=e.text.length-(n-i)-1;yr(t.done,i,n,r),yr(t.undone,i,n,r)}function Cr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function wr(t){return t.target||t.srcElement}function kr(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Ao&&t.ctrlKey&&1==e&&(e=3),e}function _r(t,e,i){var n=t._handlers&&t._handlers[e];return i?n&&n.length>0?n.slice():Ls:n||Ls}function Sr(t,e){function i(t){return function(){t.apply(null,o)}}var n=_r(t,e,!1);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Uo?r=Uo.delayedCallbacks:$s?r=$s:(r=$s=[],setTimeout(Tr,0));for(var s=0;s<n.length;++s)r.push(i(n[s]))}}function Tr(){var t=$s;$s=null;for(var e=0;e<t.length;++e)t[e]()}function Dr(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Fs(t,i||e.type,t,e),Cr(e)||e.codemirrorIgnore}function Mr(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)Nr(i,e[n])==-1&&i.push(e[n])}function Pr(t,e){return _r(t,e).length>0}function Er(t){t.prototype.on=function(t,e){As(this,t,e)},t.prototype.off=function(t,e){Ns(this,t,e)}}function Br(){this.id=null}function Ar(t){for(;Vs.length<=t;)Vs.push(Lr(Vs)+" ");return Vs[t]}function Lr(t){return t[t.length-1]}function Nr(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function Fr(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function $r(t,e,i){for(var n=0,r=i(e);n<t.length&&i(t[n])<=r;)n++;t.splice(n,0,e)}function Rr(){}function Ir(t,e){var i;return Object.create?i=Object.create(t):(Rr.prototype=t,i=new Rr),e&&Or(e,i),i}function Or(t,e,i){e||(e={});for(var n in t)!t.hasOwnProperty(n)||i===!1&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function Hr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Wr(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Ks(t))||e.test(t):Ks(t)}function jr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function zr(t){return t.charCodeAt(0)>=768&&Xs.test(t)}function Vr(t,e,i,n){var r=document.createElement(t);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function qr(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Gr(t,e){return qr(t).appendChild(e)}function Ur(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Kr(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Xr(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!Kr(i[n]).test(e)&&(e+=" "+i[n]);return e}function Yr(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var n=e[i].CodeMirror;n&&t(n)}}function Zr(){ea||(Qr(),ea=!0)}function Qr(){var t;As(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Yr(qe)},100))}),As(window,"blur",function(){Yr(bi)})}function Jr(t){if(null==Zs){var e=Vr("span","​");Gr(t,Vr("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Zs=e.offsetWidth<=1&&e.offsetHeight>2&&!(Co&&wo<8))}var i=Zs?Vr("span","​"):Vr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function to(t){if(null!=Qs)return Qs;var e=Gr(t,document.createTextNode("AخA")),i=Gs(e,0,1).getBoundingClientRect(),n=Gs(e,1,2).getBoundingClientRect();return qr(t),!(!i||i.left==i.right)&&(Qs=n.right-i.right<3)}function eo(t){if(null!=sa)return sa;var e=Gr(t,Vr("span","x")),i=e.getBoundingClientRect(),n=Gs(e,0,1).getBoundingClientRect();return sa=Math.abs(i.left-n.left)>1}function io(t,e,i,n){if(!t)return n(e,i,"ltr");for(var r=!1,o=0;o<t.length;++o){var s=t[o];(s.from<i&&s.to>e||e==i&&s.to==e)&&(n(Math.max(s.from,e),Math.min(s.to,i),1==s.level?"rtl":"ltr"),r=!0)}r||n(e,i,"ltr")}function no(t){return t.level%2?t.to:t.from}function ro(t){return t.level%2?t.from:t.to}function oo(t){var e=or(t);return e?no(e[0]):0}function so(t){var e=or(t);return e?ro(Lr(e)):t.text.length}function ao(t,e){var i=Qn(t.doc,e),n=yn(i);n!=i&&(e=ir(n));var r=or(n),o=r?r[0].level%2?so(n):oo(n):0;return Ho(e,o)}function lo(t,e){for(var i,n=Qn(t.doc,e);i=vn(n);)n=i.find(1,!0).line,e=null;var r=or(n),o=r?r[0].level%2?oo(n):so(n):n.text.length;return Ho(null==e?ir(n):e,o)}function co(t,e){var i=ao(t,e.line),n=Qn(t.doc,i.line),r=or(n);if(!r||0==r[0].level){var o=Math.max(0,n.text.search(/\S/)),s=e.line==i.line&&e.ch<=o&&e.ch;return Ho(i.line,s?0:o)}return i}function uo(t,e,i){var n=t[0].level;return e==n||i!=n&&e<i}function ho(t,e){la=null;for(var i,n=0;n<t.length;++n){var r=t[n];if(r.from<e&&r.to>e)return n;if(r.from==e||r.to==e){if(null!=i)return uo(t,r.level,t[i].level)?(r.from!=r.to&&(la=i),n):(r.from!=r.to&&(la=n),i);i=n}}return i}function po(t,e,i,n){if(!n)return e+i;do e+=i;while(e>0&&zr(t.text.charAt(e)));return e}function fo(t,e,i,n){var r=or(t);if(!r)return go(t,e,i,n);for(var o=ho(r,e),s=r[o],a=po(t,e,s.level%2?-i:i,n);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return ho(r,a)==o?a:(s=r[o+=i],i>0==s.level%2?s.to:s.from);if(s=r[o+=i],!s)return null;a=i>0==s.level%2?po(t,s.to,-1,n):po(t,s.from,1,n)}}function go(t,e,i,n){var r=e+i;if(n)for(;r>0&&zr(t.text.charAt(r));)r+=i;return r<0||r>t.text.length?null:r}var mo=navigator.userAgent,vo=navigator.platform,bo=/gecko\/\d/i.test(mo),yo=/MSIE \d/.test(mo),xo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mo),Co=yo||xo,wo=Co&&(yo?document.documentMode||6:xo[1]),ko=/WebKit\//.test(mo),_o=ko&&/Qt\/\d+\.\d+/.test(mo),So=/Chrome\//.test(mo),To=/Opera\//.test(mo),Do=/Apple Computer/.test(navigator.vendor),Mo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(mo),Po=/PhantomJS/.test(mo),Eo=/AppleWebKit/.test(mo)&&/Mobile\/\w+/.test(mo),Bo=Eo||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(mo),Ao=Eo||/Mac/.test(vo),Lo=/\bCrOS\b/.test(mo),No=/win/i.test(vo),Fo=To&&mo.match(/Version\/(\d*\.\d*)/);Fo&&(Fo=Number(Fo[1])),Fo&&Fo>=15&&(To=!1,ko=!0);var $o=Ao&&(_o||To&&(null==Fo||Fo<12.11)),Ro=bo||Co&&wo>=9,Io=!1,Oo=!1;g.prototype=Or({update:function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var r=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Ao&&!Mo?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Br,this.disableVert=new Br},enableZeroWidthBar:function(t,e){function i(){var n=t.getBoundingClientRect(),r=document.elementFromPoint(n.left+1,n.bottom-1);r!=t?t.style.pointerEvents="none":e.set(1e3,i)}t.style.pointerEvents="auto",e.set(1e3,i)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),m.prototype=Or({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),t.scrollbarModel={native:g,null:m},S.prototype.signal=function(t,e){Pr(t,e)&&this.events.push(arguments)},S.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Fs.apply(null,this.events[t])};var Ho=t.Pos=function(t,e){return this instanceof Ho?(this.line=t,void(this.ch=e)):new Ho(t,e)},Wo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},jo=null;it.prototype=Or({init:function(t){function e(t){if(!Dr(n,t)){if(n.somethingSelected())jo={lineWise:!1,text:n.getSelections()},i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,o.value=jo.text.join("\n"),qs(o));else{if(!n.options.lineWiseCopyCut)return;var e=tt(n);jo={lineWise:!0,text:e.text},"cut"==t.type?n.setSelections(e.ranges,null,Os):(i.prevInput="",o.value=e.text.join("\n"),qs(o))}
"cut"==t.type&&(n.state.cutIncoming=!0)}}var i=this,n=this.cm,r=this.wrapper=nt(),o=this.textarea=r.firstChild;t.wrapper.insertBefore(r,t.wrapper.firstChild),Eo&&(o.style.width="0px"),As(o,"input",function(){Co&&wo>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()}),As(o,"paste",function(t){Dr(n,t)||Q(t,n)||(n.state.pasteIncoming=!0,i.fastPoll())}),As(o,"cut",e),As(o,"copy",e),As(t.scroller,"paste",function(e){Ge(t,e)||Dr(n,e)||(n.state.pasteIncoming=!0,i.focus())}),As(t.lineSpace,"selectstart",function(e){Ge(t,e)||Ps(e)}),As(o,"compositionstart",function(){var t=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}}),As(o,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,i=t.doc,n=Ft(t);if(t.options.moveInputWithCursor){var r=fe(t,i.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},showSelection:function(t){var e=this.cm,i=e.display;Gr(i.cursorDiv,t.cursors),Gr(i.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,i,n=this.cm,r=n.doc;if(n.somethingSelected()){this.prevInput="";var o=r.sel.primary();e=oa&&(o.to().line-o.from().line>100||(i=n.getSelection()).length>1e3);var s=e?"-":i||n.getSelection();this.textarea.value=s,n.state.focused&&qs(this.textarea),Co&&wo>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",Co&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Bo||Ur()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var n=i.poll();n||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,i=this.prevInput;if(this.contextMenuPending||!t.state.focused||ra(e)&&!i&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var n=e.value;if(n==i&&!t.somethingSelected())return!1;if(Co&&wo>=9&&this.hasSelection===n||Ao&&/[\uf700-\uf7ff]/.test(n))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var r=n.charCodeAt(0);if(8203!=r||i||(i="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(i.length,n.length);o<s&&i.charCodeAt(o)==n.charCodeAt(o);)++o;var a=this;return Ee(t,function(){Z(t,n.slice(o),i.length-o,null,a.composing?"*compose":null),n.length>1e3||n.indexOf("\n")>-1?e.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=t.markText(a.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){Co&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=s.selectionStart){var t=r.somethingSelected(),e="​"+(t?s.value:"");s.value="⇚",s.value=e,n.prevInput=t?"":"​",s.selectionStart=1,s.selectionEnd=e.length,o.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=h,s.style.cssText=u,Co&&wo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!Co||Co&&wo<9)&&e();var t=0,i=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"​"==n.prevInput?Be(r,ps.selectAll)(r):t++<10?o.detectingSelectAll=setTimeout(i,500):o.input.reset()};o.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,o=r.display,s=n.textarea,a=Ue(r,t),l=o.scroller.scrollTop;if(a&&!To){var c=r.options.resetSelectionOnContextMenu;c&&r.doc.sel.contains(a)==-1&&Be(r,Tt)(r.doc,dt(a),Os);var u=s.style.cssText,h=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var p=n.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px; z-index: 1000; background: "+(Co?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ko)var d=window.scrollY;if(o.input.focus(),ko&&window.scrollTo(null,d),o.input.reset(),r.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),Co&&wo>=9&&e(),Ro){Bs(t);var f=function(){Ns(window,"mouseup",f),setTimeout(i,20)};As(window,"mouseup",f)}else setTimeout(i,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Rr,needsContentAttribute:!1},it.prototype),rt.prototype=Or({init:function(t){function e(t){if(!Dr(n,t)){if(n.somethingSelected())jo={lineWise:!1,text:n.getSelections()},"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=tt(n);jo={lineWise:!0,text:e.text},"cut"==t.type&&n.operation(function(){n.setSelections(e.ranges,0,Os),n.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=jo.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var s=nt(),a=s.firstChild;n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),a.value=jo.text.join("\n");var l=document.activeElement;qs(a),setTimeout(function(){n.display.lineSpace.removeChild(s),l.focus(),l==r&&i.showPrimarySelection()},50)}}var i=this,n=i.cm,r=i.div=t.lineDiv;et(r,n.options.spellcheck),As(r,"paste",function(t){Dr(n,t)||Q(t,n)||wo<=11&&setTimeout(Be(n,function(){i.pollContent()||$e(n)}),20)}),As(r,"compositionstart",function(t){var e=t.data;if(i.composing={sel:n.doc.sel,data:e,startData:e},e){var r=n.doc.sel.primary(),o=n.getLine(r.head.line),s=o.indexOf(e,Math.max(0,r.head.ch-e.length));s>-1&&s<=r.head.ch&&(i.composing.sel=dt(Ho(r.head.line,s),Ho(r.head.line,s+e.length)))}}),As(r,"compositionupdate",function(t){i.composing.data=t.data}),As(r,"compositionend",function(t){var e=i.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||i.applyComposition(e),i.composing==e&&(i.composing=null)},50))}),As(r,"touchstart",function(){i.forceCompositionEnd()}),As(r,"input",function(){i.composing||!n.isReadOnly()&&i.pollContent()||Ee(i.cm,function(){$e(n)})}),As(r,"copy",e),As(r,"cut",e)},prepareSelection:function(){var t=Ft(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),i=at(this.cm,t.anchorNode,t.anchorOffset),n=at(this.cm,t.focusNode,t.focusOffset);if(!i||i.bad||!n||n.bad||0!=Wo(X(i,n),e.from())||0!=Wo(K(i,n),e.to())){var r=ot(this.cm,e.from()),o=ot(this.cm,e.to());if(r||o){var s=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Gs(r.node,r.offset,o.offset,o.node)}catch(t){}u&&(!bo&&this.cm.state.focused?(t.collapse(r.node,r.offset),u.collapsed||t.addRange(u)):(t.removeAllRanges(),t.addRange(u)),a&&null==t.anchorNode?t.addRange(a):bo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Gr(this.cm.display.cursorDiv,t.cursors),Gr(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Ys(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Ee(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var i=at(e,t.anchorNode,t.anchorOffset),n=at(e,t.focusNode,t.focusOffset);i&&n&&Ee(e,function(){Tt(e.doc,dt(i,n),Os),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(n.line<e.viewFrom||r.line>e.viewTo-1)return!1;var o;if(n.line==e.viewFrom||0==(o=Oe(t,n.line)))var s=ir(e.view[0].line),a=e.view[0].node;else var s=ir(e.view[o].line),a=e.view[o-1].node.nextSibling;var l=Oe(t,r.line);if(l==e.view.length-1)var c=e.viewTo-1,u=e.lineDiv.lastChild;else var c=ir(e.view[l+1].line)-1,u=e.view[l+1].node.previousSibling;for(var h=t.doc.splitLines(ct(t,a,u,s,c)),p=Jn(t.doc,Ho(s,0),Ho(c,Qn(t.doc,c).text.length));h.length>1&&p.length>1;)if(Lr(h)==Lr(p))h.pop(),p.pop(),c--;else{if(h[0]!=p[0])break;h.shift(),p.shift(),s++}for(var d=0,f=0,g=h[0],m=p[0],v=Math.min(g.length,m.length);d<v&&g.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=Lr(h),y=Lr(p),x=Math.min(b.length-(1==h.length?d:0),y.length-(1==p.length?d:0));f<x&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)++f;h[h.length-1]=b.slice(0,b.length-f),h[0]=h[0].slice(d);var C=Ho(s,d),w=Ho(c,p.length?Lr(p).length-f:0);return h.length>1||h[0]||Wo(C,w)?(Ai(t.doc,h,C,w,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){this.cm.isReadOnly()?Be(this.cm,$e)(this.cm):t.data&&t.data!=t.startData&&Be(this.cm,Z)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),this.cm.isReadOnly()||Be(this.cm,Z)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Rr,resetPosition:Rr,needsContentAttribute:!0},rt.prototype),t.inputStyles={textarea:it,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],n=t.ranges[e];if(0!=Wo(i.anchor,n.anchor)||0!=Wo(i.head,n.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ht(U(this.ranges[e].anchor),U(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(Wo(e,n.from())>=0&&Wo(t,n.to())<=0)return i}return-1}},ht.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var zo,Vo,qo,Go={left:0,right:0,top:0,bottom:0},Uo=null,Ko=0,Xo=0,Yo=0,Zo=null;Co?Zo=-.53:bo?Zo=15:So?Zo=-.7:Do&&(Zo=-1/3);var Qo=function(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}};t.wheelEventPixels=function(t){var e=Qo(t);return e.x*=Zo,e.y*=Zo,e};var Jo=new Br,ts=null,es=t.changeEnd=function(t){return t.text?Ho(t.from.line+t.text.length-1,Lr(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var i=this.options,n=i[t];i[t]==e&&"mode"!=t||(i[t]=e,ns.hasOwnProperty(t)&&Be(this,ns[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Ui(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:Ae(function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");$r(this.state.overlays,{mode:n,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},function(t){return t.priority}),this.state.modeGen++,$e(this)}),removeOverlay:Ae(function(t){for(var e=this.state.overlays,i=0;i<e.length;++i){var n=e[i].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(i,1),this.state.modeGen++,void $e(this)}}),indentLine:Ae(function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Hi(this,t,e,i)}),indentSelection:Ae(function(t){for(var e=this.doc.sel.ranges,i=-1,n=0;n<e.length;n++){var r=e[n];if(r.empty())r.head.line>i&&(Hi(this,r.head.line,t,!0),i=r.head.line,n==this.doc.sel.primIndex&&Ii(this));else{var o=r.from(),s=r.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)Hi(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[n].from().ch>0&&wt(this.doc,n,new ht(o,c[n].to()),Os)}}}),getTokenAt:function(t,e){return Ln(this,t,e)},getLineTokens:function(t,e){return Ln(this,Ho(t),e,!0)},getTokenTypeAt:function(t){t=gt(this.doc,t);var e,i=$n(this,Qn(this.doc,t.line)),n=0,r=(i.length-1)/2,o=t.ch;if(0==o)e=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){e=i[2*s+2];break}n=s+1}}var a=e?e.indexOf("cm-overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!cs.hasOwnProperty(e))return i;var n=cs[e],r=this.getModeAt(t);if("string"==typeof r[e])n[r[e]]&&i.push(n[r[e]]);else if(r[e])for(var o=0;o<r[e].length;o++){var s=n[r[e][o]];s&&i.push(s)}else r.helperType&&n[r.helperType]?i.push(n[r.helperType]):n[r.name]&&i.push(n[r.name]);for(var o=0;o<n._global.length;o++){var a=n._global[o];a.pred(r,this)&&Nr(i,a.val)==-1&&i.push(a.val)}return i},getStateAfter:function(t,e){var i=this.doc;return t=ft(i,null==t?i.first+i.size-1:t),jt(this,t+1,e)},cursorCoords:function(t,e){var i,n=this.doc.sel.primary();return i=null==t?n.head:"object"==typeof t?gt(this.doc,t):t?n.from():n.to(),fe(this,i,e||"page")},charCoords:function(t,e){return de(this,gt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=pe(this,t,e||"page"),ve(this,t.left,t.top)},lineAtHeight:function(t,e){return t=pe(this,{top:t,left:0},e||"page").top,nr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var i,n=!1;if("number"==typeof t){var r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,n=!0),i=Qn(this.doc,t)}else i=t;return he(this,i,{top:0,left:0},e||"page").top+(n?this.doc.height-rr(i):0)},defaultTextHeight:function(){return ye(this.display)},defaultCharWidth:function(){return xe(this.display)},setGutterMarker:Ae(function(t,e,i){return Wi(this.doc,t,"gutter",function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&jr(n)&&(t.gutterMarkers=null),!0})}),clearGutter:Ae(function(t){var e=this,i=e.doc,n=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&(i.gutterMarkers[t]=null,Re(e,n,"gutter"),jr(i.gutterMarkers)&&(i.gutterMarkers=null)),++n})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(t=Qn(this.doc,t),!t)return null}else{var e=ir(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,r){var o=this.display;t=fe(this,gt(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==n)s=t.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==r?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&Fi(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:Ae(pi),triggerOnKeyPress:Ae(gi),triggerOnKeyUp:fi,execCommand:function(t){if(ps.hasOwnProperty(t))return ps[t].call(null,this)},triggerElectric:Ae(function(t){J(this,t)}),findPosH:function(t,e,i,n){var r=1;e<0&&(r=-1,e=-e);for(var o=0,s=gt(this.doc,t);o<e&&(s=zi(this.doc,s,r,i,n),!s.hitSide);++o);return s},moveH:Ae(function(t,e){var i=this;i.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?zi(i.doc,n.head,t,e,i.options.rtlMoveVisually):t<0?n.from():n.to()},Ws)}),deleteH:Ae(function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):ji(this,function(i){var r=zi(n,i.head,t,e,!1);return t<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(t,e,i,n){var r=1,o=n;e<0&&(r=-1,e=-e);for(var s=0,a=gt(this.doc,t);s<e;++s){var l=fe(this,a,"div");if(null==o?o=l.left:l.left=o,a=Vi(this,l,r,i),a.hitSide)break}return a},moveV:Ae(function(t,e){var i=this,n=this.doc,r=[],o=!i.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return t<0?s.from():s.to();var a=fe(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Vi(i,a,t,e);return"page"==e&&s==n.sel.primary()&&Ri(i,null,de(i,l,"div").top-a.top),l},Ws),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(t){var e=this.doc,i=Qn(e,t.line).text,n=t.ch,r=t.ch;if(i){var o=this.getHelper(t,"wordChars");(t.xRel<0||r==i.length)&&n?--n:++r;for(var s=i.charAt(n),a=Wr(s,o)?function(t){return Wr(t,o)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Wr(t)};n>0&&a(i.charAt(n-1));)--n;for(;r<i.length&&a(i.charAt(r));)++r}return new ht(Ho(t.line,n),Ho(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ta(this.display.cursorDiv,"CodeMirror-overwrite"):Js(this.display.cursorDiv,"CodeMirror-overwrite"),Fs(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ur()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ae(function(t,e){null==t&&null==e||Oi(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Gt(this)-this.display.barHeight,width:t.scrollWidth-Gt(this)-this.display.barWidth,clientHeight:Kt(this),clientWidth:Ut(this)}},scrollIntoView:Ae(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ho(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)Oi(this),this.curOp.scrollToPos=t;else{var i=$i(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Ae(function(t,e){function i(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var n=this;null!=t&&(n.display.wrapper.style.width=i(t)),null!=e&&(n.display.wrapper.style.height=i(e)),n.options.lineWrapping&&ae(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Re(n,r,"widget");break}++r}),n.curOp.forceUpdate=!0,Fs(n,"refresh",this)}),operation:function(t){return Ee(this,t)},refresh:Ae(function(){var t=this.display.cachedTextHeight;$e(this),this.curOp.forceUpdate=!0,le(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==t||Math.abs(t-ye(this.display))>.5)&&s(this),Fs(this,"refresh",this)}),swapDoc:Ae(function(t){var e=this.doc;return e.cm=null,Zn(this,t),le(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Sr(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Er(t);var is=t.defaults={},ns=t.optionHandlers={},rs=t.Init={toString:function(){return"CodeMirror.Init"}};qi("value","",function(t,e){t.setValue(e)},!0),qi("mode",null,function(t,e){t.doc.modeOption=e,i(t)},!0),qi("indentUnit",2,i,!0),qi("indentWithTabs",!1),qi("smartIndent",!0),qi("tabSize",4,function(t){n(t),le(t),$e(t)},!0),qi("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(o==-1)break;r=o+e.length,i.push(Ho(n,o))}n++});for(var r=i.length-1;r>=0;r--)Ai(t.doc,e,i[r],Ho(i[r].line,i[r].ch+e.length))}}),qi("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,i,n){e.state.specialChars=new RegExp(i.source+(i.test("\t")?"":"|\t"),"g"),n!=t.Init&&e.refresh()}),qi("specialCharPlaceholder",Hn,function(t){t.refresh()},!0),qi("electricChars",!0),qi("inputStyle",Bo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qi("spellcheck",!1,function(t,e){t.getInputField().spellcheck=e},!0),qi("rtlMoveVisually",!No),qi("wholeLineUpdateBefore",!0),qi("theme","default",function(t){a(t),l(t)},!0),qi("keyMap","default",function(e,i,n){var r=Ui(i),o=n!=t.Init&&Ui(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)}),qi("extraKeys",null),qi("lineWrapping",!1,r,!0),qi("gutters",[],function(t){d(t.options),l(t)},!0),qi("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?_(t.display)+"px":"0",t.refresh()},!0),qi("coverGutterNextToScrollbar",!1,function(t){b(t)},!0),qi("scrollbarStyle","native",function(t){v(t),b(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),qi("lineNumbers",!1,function(t){d(t.options),l(t)},!0),qi("firstLineNumber",1,l,!0),qi("lineNumberFormatter",function(t){return t},l,!0),qi("showCursorWhenSelecting",!1,Nt,!0),qi("resetSelectionOnContextMenu",!0),qi("lineWiseCopyCut",!0),qi("readOnly",!1,function(t,e){"nocursor"==e?(bi(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),qi("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),qi("dragDrop",!0,Ve),qi("allowDropFileTypes",null),qi("cursorBlinkRate",530),qi("cursorScrollMargin",0),qi("cursorHeight",1,Nt,!0),qi("singleCursorHeightPerLine",!0,Nt,!0),qi("workTime",100),qi("workDelay",100),qi("flattenSpans",!0,n,!0),qi("addModeClass",!1,n,!0),qi("pollInterval",100),qi("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),qi("historyEventDelay",1250),qi("viewportMargin",10,function(t){t.refresh()},!0),qi("maxHighlightLength",1e4,n,!0),qi("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),qi("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),qi("autofocus",null);var os=t.modes={},ss=t.mimeModes={};t.defineMode=function(e,i){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),os[e]=i},t.defineMIME=function(t,e){ss[t]=e},t.resolveMode=function(e){if("string"==typeof e&&ss.hasOwnProperty(e))e=ss[e];else if(e&&"string"==typeof e.name&&ss.hasOwnProperty(e.name)){var i=ss[e.name];"string"==typeof i&&(i={name:i}),e=Ir(i,e),e.name=i.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return t.resolveMode("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,i){var i=t.resolveMode(i),n=os[i.name];if(!n)return t.getMode(e,"text/plain");var r=n(e,i);if(as.hasOwnProperty(i.name)){var o=as[i.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=i.name,i.helperType&&(r.helperType=i.helperType),i.modeProps)for(var s in i.modeProps)r[s]=i.modeProps[s];return r},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var as=t.modeExtensions={};t.extendMode=function(t,e){var i=as.hasOwnProperty(t)?as[t]:as[t]={};Or(e,i)},t.defineExtension=function(e,i){t.prototype[e]=i},t.defineDocExtension=function(t,e){Ts.prototype[t]=e},t.defineOption=qi;var ls=[];t.defineInitHook=function(t){ls.push(t)};var cs=t.helpers={};t.registerHelper=function(e,i,n){cs.hasOwnProperty(e)||(cs[e]=t[e]={_global:[]}),cs[e][i]=n},t.registerGlobalHelper=function(e,i,n,r){t.registerHelper(e,i,r),cs[e]._global.push({pred:n,val:r})};var us=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var r=e[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i},hs=t.startState=function(t,e,i){return!t.startState||t.startState(e,i)};t.innerMode=function(t,e){for(;t.innerMode;){var i=t.innerMode(e);if(!i||i.mode==t)break;e=i.state,t=i.mode}return i||{mode:t,state:e}};var ps=t.commands={selectAll:function(t){t.setSelection(Ho(t.firstLine(),0),Ho(t.lastLine()),Os)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Os)},killLine:function(t){ji(t,function(e){if(e.empty()){var i=Qn(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:Ho(e.head.line+1,0)}:{from:e.head,to:Ho(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){ji(t,function(e){return{from:Ho(e.from().line,0),to:gt(t.doc,Ho(e.to().line+1,0))}})},delLineLeft:function(t){ji(t,function(t){return{from:Ho(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){ji(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}})},delWrappedLineRight:function(t){ji(t,function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ho(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ho(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return ao(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return co(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return lo(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},Ws)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},Ws)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?co(t,e.head):n},Ws)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=js(t.getLine(o.line),o.ch,n);e.push(Ar(n-s%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Ee(t,function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++){var r=e[n].head,o=Qn(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new Ho(r.line,r.ch-1)),r.ch>0)r=new Ho(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),Ho(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var s=Qn(t.doc,r.line-1).text;s&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),Ho(r.line-1,s.length-1),Ho(r.line,1),"+transpose")}i.push(new ht(r,r))}t.setSelections(i)})},newlineAndIndent:function(t){Ee(t,function(){for(var e=t.listSelections().length,i=0;i<e;i++){var n=t.listSelections()[i];t.replaceRange(t.doc.lineSeparator(),n.anchor,n.head,"+input"),t.indentLine(n.from().line+1,null,!0)}Ii(t)})},openLine:function(t){t.replaceSelection("\n","start")},toggleOverwrite:function(t){t.toggleOverwrite()}},ds=t.keyMap={};ds.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ds.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ds.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ds.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ds.default=Ao?ds.macDefault:ds.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var r=Fr(i.split(" "),Gi),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[i]}for(var c in e)t[c]=e[c];return t};var fs=t.lookupKey=function(t,e,i,n){e=Ui(e);var r=e.call?e.call(t,n):e[t];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return fs(t,e.fallthrough,i,n);for(var o=0;o<e.fallthrough.length;o++){var s=fs(t,e.fallthrough[o],i,n);if(s)return s}}},gs=t.isModifierKey=function(t){var e="string"==typeof t?t:aa[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},ms=t.keyName=function(t,e){if(To&&34==t.keyCode&&t.char)return!1;var i=aa[t.keyCode],n=i;return null!=n&&!t.altGraphKey&&(t.altKey&&"Alt"!=i&&(n="Alt-"+n),($o?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(n="Ctrl-"+n),($o?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(n="Cmd-"+n),!e&&t.shiftKey&&"Shift"!=i&&(n="Shift-"+n),n)};t.fromTextArea=function(e,i){function n(){e.value=l.getValue()}if(i=i?Or(i):{},i.value=e.value,!i.tabindex&&e.tabIndex&&(i.tabindex=e.tabIndex),!i.placeholder&&e.placeholder&&(i.placeholder=e.placeholder),null==i.autofocus){var r=Ur();i.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}if(e.form&&(As(e.form,"submit",n),!i.leaveSubmitMethodAlone)){var o=e.form,s=o.submit;try{var a=o.submit=function(){n(),o.submit=s,o.submit(),o.submit=a}}catch(t){}}i.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ns(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=s))}},e.style.display="none";var l=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},i);return l};var vs=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};vs.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var i=e==t;else var i=e&&(t.test?t.test(e):t(e));if(i)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=js(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?js(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return js(this.string,null,this.tabSize)-(this.lineStart?js(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var r=function(t){return i?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(r(o)==r(t))return e!==!1&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var bs=0,ys=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++bs};Er(ys),ys.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Ce(t),Pr(this,"clear")){var i=this.find();i&&Sr(this,"clear",i.from,i.to)}for(var n=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=tn(s.markedSpans,this);t&&!this.collapsed?Re(t,ir(s),"text"):t&&(null!=a.to&&(r=ir(s)),null!=a.from&&(n=ir(s))),s.markedSpans=en(s.markedSpans,a),null==a.from&&this.collapsed&&!kn(this.doc,s)&&t&&er(s,ye(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=yn(this.lines[o]),c=h(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&$e(t,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Pt(t.doc)),t&&Sr(t,"markerCleared",t,this),e&&ke(t),this.parent&&this.parent.clear()}},ys.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var i,n,r=0;r<this.lines.length;++r){var o=this.lines[r],s=tn(o.markedSpans,this);if(null!=s.from&&(i=Ho(e?o:ir(o),s.from),t==-1))return i;if(null!=s.to&&(n=Ho(e?o:ir(o),s.to),1==t))return n}return i&&{from:i,to:n}},ys.prototype.changed=function(){var t=this.find(-1,!0),e=this,i=this.doc.cm;t&&i&&Ee(i,function(){var n=t.line,r=ir(t.line),o=Jt(i,r);if(o&&(se(o),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!kn(e.doc,n)&&null!=e.height){var s=e.height;e.height=null;var a=Tn(e)-s;a&&er(n,n.height+a)}})},ys.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&Nr(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},ys.prototype.detachLine=function(t){if(this.lines.splice(Nr(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var bs=0,xs=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Er(xs),xs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Sr(this,"clear")}},xs.prototype.find=function(t,e){return this.primary.find(t,e)};var Cs=t.LineWidget=function(t,e,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=t,this.node=e};Er(Cs),Cs.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,n=ir(i);if(null!=n&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(i.widgets=null);var o=Tn(this);er(i,Math.max(0,i.height-o)),t&&Ee(t,function(){Sn(t,i,-o),Re(t,n,"widget")})}},Cs.prototype.changed=function(){var t=this.height,e=this.doc.cm,i=this.line;this.height=null;var n=Tn(this)-t;n&&(er(i,i.height+n),e&&Ee(e,function(){e.curOp.forceUpdate=!0,Sn(e,i,n)}))};var ws=t.Line=function(t,e,i){this.text=t,hn(this,e),this.height=i?i(this):1};Er(ws),ws.prototype.lineNo=function(){return ir(this)};var ks={},_s={};Kn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,n=t+e;i<n;++i){var r=this.lines[i];this.height-=r.height,Pn(r),Sr(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0;n<e.length;++n)e[n].parent=this},iterN:function(t,e,i){for(var n=t+e;t<n;++t)if(i(this.lines[t]))return!0}},Xn.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(t<r){var o=Math.min(e,r-t),s=n.height;if(n.removeInner(t,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Kn))){var a=[];this.collapse(a),this.children=[new Kn(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,i),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new Kn(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new Xn(e);if(t.parent){t.size-=i.size,t.height-=i.height;var n=Nr(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var r=new Xn(t.children);r.parent=t,t.children=[r,i],t=r}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(t<o){var s=Math.min(e,o-t);if(r.iterN(t,s,i))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Ss=0,Ts=t.Doc=function(t,e,i,n){if(!(this instanceof Ts))return new Ts(t,e,i,n);null==i&&(i=0),Xn.call(this,[new Kn([new ws("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var r=Ho(i,0);this.sel=dt(r),this.history=new sr(null),this.id=++Ss,this.modeOption=e,this.lineSep=n,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Un(this,{from:r,to:r,text:t}),Tt(this,dt(r),Os)};Ts.prototype=Ir(Xn.prototype,{constructor:Ts,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=tr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Le(function(t){var e=Ho(this.first,0),i=this.first+this.size-1;Ti(this,{from:e,to:Ho(i,Qn(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Tt(this,dt(e))}),replaceRange:function(t,e,i,n){e=gt(this,e),i=i?gt(this,i):e,Ai(this,t,e,i,n)},getRange:function(t,e,i){var n=Jn(this,gt(this,t),gt(this,e));return i===!1?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(vt(this,t))return Qn(this,t)},getLineNumber:function(t){return ir(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Qn(this,t)),yn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return gt(this,t)},getCursor:function(t){var e,i=this.sel.primary();return e=null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||"to"==t||t===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Le(function(t,e,i){kt(this,gt(this,"number"==typeof t?Ho(t,e||0):t),null,i)}),setSelection:Le(function(t,e,i){kt(this,gt(this,t),gt(this,e||t),i)}),extendSelection:Le(function(t,e,i){xt(this,gt(this,t),e&&gt(this,e),i)}),extendSelections:Le(function(t,e){Ct(this,bt(this,t),e)}),extendSelectionsBy:Le(function(t,e){var i=Fr(this.sel.ranges,t);Ct(this,bt(this,i),e)}),setSelections:Le(function(t,e,i){if(t.length){for(var n=0,r=[];n<t.length;n++)r[n]=new ht(gt(this,t[n].anchor),gt(this,t[n].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Tt(this,pt(r,e),i)}}),addSelection:Le(function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new ht(gt(this,t),gt(this,e||t))),Tt(this,pt(n,n.length-1),i)}),getSelection:function(t){for(var e,i=this.sel.ranges,n=0;n<i.length;n++){var r=Jn(this,i[n].from(),i[n].to());e=e?e.concat(r):r}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=Jn(this,i[n].from(),i[n].to());t!==!1&&(r=r.join(t||this.lineSeparator())),e[n]=r}return e},replaceSelection:function(t,e,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Le(function(t,e,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:i}}for(var a=e&&"end"!=e&&_i(this,n,e),o=n.length-1;o>=0;o--)Ti(this,n[o]);a?St(this,a):this.cm&&Ii(this.cm)}),undo:Le(function(){Mi(this,"undo")}),redo:Le(function(){Mi(this,"redo")}),undoSelection:Le(function(){Mi(this,"undo",!0)}),redoSelection:Le(function(){Mi(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var n=0;n<t.undone.length;n++)t.undone[n].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new sr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:vr(this.history.done),undone:vr(this.history.undone)}},setHistory:function(t){var e=this.history=new sr(this.history.maxGeneration);e.done=vr(t.done.slice(0),null,!0),e.undone=vr(t.undone.slice(0),null,!0)},addLineClass:Le(function(t,e,i){return Wi(this,t,"gutter"==e?"gutter":"class",function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(Kr(i).test(t[n]))return!1;t[n]+=" "+i}else t[n]=i;return!0})}),removeLineClass:Le(function(t,e,i){return Wi(this,t,"gutter"==e?"gutter":"class",function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[n];if(!r)return!1;if(null==i)t[n]=null;else{var o=r.match(Kr(i));if(!o)return!1;var s=o.index+o[0].length;t[n]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Le(function(t,e,i){return Dn(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return Ki(this,gt(this,t),gt(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=gt(this,t),Ki(this,t,t,i,"bookmark")},findMarksAt:function(t){t=gt(this,t);var e=[],i=Qn(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,i){t=gt(this,t),e=gt(this,e);var n=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)}),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;return o>t?(e=t,!0):(t-=o,void++i)}),gt(this,Ho(i,e))},indexFromPos:function(t){t=gt(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+i}),e},copy:function(t){var e=new Ts(tr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new Ts(tr(this,e,i),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Zi(n,Yi(this)),n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=this.linked[i];if(n.doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Qi(Yi(this));break}}if(e.history==this.history){var r=[e.id];Yn(e,function(t){r.push(t.id)},!0),e.history=new sr(null),e.history.done=vr(this.history.done,r),e.history.undone=vr(this.history.undone,r)}},iterLinkedDocs:function(t){Yn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):na(t)},lineSeparator:function(){return this.lineSep||"\n"}}),Ts.prototype.eachLine=Ts.prototype.iter;var Ds="iter insert remove copy getEditor constructor".split(" ");for(var Ms in Ts.prototype)Ts.prototype.hasOwnProperty(Ms)&&Nr(Ds,Ms)<0&&(t.prototype[Ms]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ts.prototype[Ms]));Er(Ts);var Ps=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Es=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Bs=t.e_stop=function(t){Ps(t),Es(t)},As=t.on=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={}),r=n[e]||(n[e]=[]);r.push(i)}},Ls=[],Ns=t.off=function(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else for(var n=_r(t,e,!1),r=0;r<n.length;++r)if(n[r]==i){n.splice(r,1);break}},Fs=t.signal=function(t,e){var i=_r(t,e,!0);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)},$s=null,Rs=30,Is=t.Pass={toString:function(){return"CodeMirror.Pass"}},Os={scroll:!1},Hs={origin:"*mouse"},Ws={origin:"+move"};Br.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var js=t.countColumn=function(t,e,i,n,r){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=n||0,s=r||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=i-s%i,o=a+1}},zs=t.findColumn=function(t,e,i){for(var n=0,r=0;;){var o=t.indexOf("\t",n);o==-1&&(o=t.length);var s=o-n;if(o==t.length||r+s>=e)return n+Math.min(s,e-r);if(r+=o-n,r+=i-r%i,n=o+1,r>=e)return n}},Vs=[""],qs=function(t){t.select()};Eo?qs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:Co&&(qs=function(t){try{t.select()}catch(t){}});var Gs,Us=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ks=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Us.test(t))},Xs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Gs=document.createRange?function(t,e,i,n){var r=document.createRange();return r.setEnd(n||t,i),r.setStart(t,e),r}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(t){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var Ys=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};Co&&wo<11&&(Ur=function(){try{return document.activeElement}catch(t){return document.body}});var Zs,Qs,Js=t.rmClass=function(t,e){var i=t.className,n=Kr(e).exec(i);if(n){var r=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(r?n[1]+r:"")}},ta=t.addClass=function(t,e){var i=t.className;Kr(e).test(i)||(t.className+=(i?" ":"")+e)},ea=!1,ia=function(){if(Co&&wo<9)return!1;var t=Vr("div");return"draggable"in t||"dragDrop"in t}(),na=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],n=t.length;e<=n;){var r=t.indexOf("\n",e);r==-1&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),s=o.indexOf("\r");s!=-1?(i.push(o.slice(0,s)),e+=s+1):(i.push(o),e=r+1)}return i}:function(t){return t.split(/\r\n?|\n/)},ra=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},oa=function(){var t=Vr("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),sa=null,aa=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)aa[t+48]=aa[t+96]=String(t);for(var t=65;t<=90;t++)aa[t]=String.fromCharCode(t);for(var t=1;t<=12;t++)aa[t+111]=aa[t+63235]="F"+t}();var la,ca=function(){function t(t){return t<=247?i.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?n.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(i){if(!r.test(i))return!1;for(var n,u=i.length,h=[],p=0;p<u;++p)h.push(n=t(i.charCodeAt(p)));for(var p=0,d=c;p<u;++p){var n=h[p];"m"==n?h[p]=d:d=n}for(var p=0,f=c;p<u;++p){var n=h[p];"1"==n&&"r"==f?h[p]="n":s.test(n)&&(f=n,"r"==n&&(h[p]="R"))}for(var p=1,d=h[0];p<u-1;++p){var n=h[p];"+"==n&&"1"==d&&"1"==h[p+1]?h[p]="1":","!=n||d!=h[p+1]||"1"!=d&&"n"!=d||(h[p]=d),d=n}for(var p=0;p<u;++p){var n=h[p];if(","==n)h[p]="N";else if("%"==n){for(var g=p+1;g<u&&"%"==h[g];++g);for(var m=p&&"!"==h[p-1]||g<u&&"1"==h[g]?"1":"N",v=p;v<g;++v)h[v]=m;p=g-1}}for(var p=0,f=c;p<u;++p){var n=h[p];"L"==f&&"1"==n?h[p]="L":s.test(n)&&(f=n)}for(var p=0;p<u;++p)if(o.test(h[p])){for(var g=p+1;g<u&&o.test(h[g]);++g);for(var b="L"==(p?h[p-1]:c),y="L"==(g<u?h[g]:c),m=b||y?"L":"R",v=p;v<g;++v)h[v]=m;p=g-1}for(var x,C=[],p=0;p<u;)if(a.test(h[p])){var w=p;for(++p;p<u&&a.test(h[p]);++p);C.push(new e(0,w,p))}else{var k=p,_=C.length;for(++p;p<u&&"L"!=h[p];++p);for(var v=k;v<p;)if(l.test(h[v])){k<v&&C.splice(_,0,new e(1,k,v));var S=v;for(++v;v<p&&l.test(h[v]);++v);C.splice(_,0,new e(2,S,v)),k=v}else++v;k<p&&C.splice(_,0,new e(1,k,p))}return 1==C[0].level&&(x=i.match(/^\s+/))&&(C[0].from=x[0].length,C.unshift(new e(0,0,x[0].length))),1==Lr(C).level&&(x=i.match(/\s+$/))&&(Lr(C).to-=x[0].length,C.push(new e(0,u-x[0].length,u))),2==C[0].level&&C.unshift(new e(1,C[0].to,C[0].to)),C[0].level!=Lr(C).level&&C.push(new e(C[0].level,u,u)),C}}();return t.version="5.18.2",t}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/mode/clike/clike",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i,n,r,o){this.indented=t,this.column=e,this.type=i,this.info=n,this.align=r,this.prev=o}function i(t,i,n,r){var o=t.indented;return t.context&&"statement"!=t.context.type&&"statement"!=n&&(o=t.context.indented),t.context=new e(o,i,n,r,null,t.context)}function n(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}function r(t,e,i){return"variable"==e.prevToken||"variable-3"==e.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(t.string.slice(0,i))||(!(!e.typeAtEndOfLine||t.column()!=t.indentation())||void 0))}function o(t){for(;;){if(!t||"top"==t.type)return!0;if("}"==t.type&&"namespace"!=t.prev.info)return!1;t=t.prev}}function s(t){for(var e={},i=t.split(" "),n=0;n<i.length;++n)e[i[n]]=!0;return e}function a(t,e){return"function"==typeof t?t(e):t.propertyIsEnumerable(e)}function l(t,e){if(!e.startOfLine)return!1;for(var i,n=null;i=t.peek();){if("\\"==i&&t.match(/^.$/)){n=l;break}if("/"==i&&t.match(/^\/[\/\*]/,!1))break;t.next()}return e.tokenize=n,"meta"}function c(t,e){return"variable-3"==e.prevToken&&"variable-3"}function u(t){return t.eatWhile(/[\w\.']/),"number"}function h(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var i=t.match(/"([^\s\\()]{0,16})\(/);return!!i&&(e.cpp11RawStringDelim=i[1],e.tokenize=f,f(t,e))}return t.match(/(u8|u|U|L)/)?!!t.match(/["']/,!1)&&"string":(t.next(),!1)}function p(t){var e=/(\w+)::(\w+)$/.exec(t);return e&&e[1]==e[2]}function d(t,e){for(var i;null!=(i=t.next());)if('"'==i&&!t.eat('"')){e.tokenize=null;break}return"string"}function f(t,e){var i=e.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),n=t.match(new RegExp(".*?\\)"+i+'"'));return n?e.tokenize=null:t.skipToEnd(),"string"}function g(e,i){function n(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}"string"==typeof e&&(e=[e]);var r=[];n(i.keywords),n(i.types),n(i.builtin),n(i.atoms),r.length&&(i.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],i)}function m(t,e){for(var i=!1;!t.eol();){if(!i&&t.match('"""')){e.tokenize=null;break}i="\\"==t.next()&&!i}return"string"}function v(t){return function(e,i){for(var n,r=!1,o=!1;!e.eol();){if(!t&&!r&&e.match('"')){o=!0;break}if(t&&e.match('"""')){o=!0;break}n=e.next(),!r&&"$"==n&&e.match("{")&&e.skipTo("}"),r=!r&&"\\"==n&&!t}return!o&&t||(i.tokenize=null),"string"}}function b(t){return function(e,i){for(var n,r=!1,o=!1;!e.eol();){if(!r&&e.match('"')&&("single"==t||e.match('""'))){o=!0;break}if(!r&&e.match("``")){C=b(t),o=!0;break}n=e.next(),r="single"==t&&!r&&"\\"==n}return o&&(i.tokenize=null),"string"}}t.defineMode("clike",function(s,l){function c(t,e){var i=t.next();if(_[i]){var n=_[i](t,e);if(n!==!1)return n}if('"'==i||"'"==i)return e.tokenize=u(i),e.tokenize(t,e);if(P.test(i))return d=i,null;if(E.test(i)){if(t.backUp(1),t.match(B))return"number";t.next()}if("/"==i){if(t.eat("*"))return e.tokenize=h,h(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(A.test(i)){for(;!t.match(/^\/[\/*]/,!1)&&t.eat(A););return"operator"}if(t.eatWhile(/[\w\$_\xa1-\uffff]/),M)for(;t.match(M);)t.eatWhile(/[\w\$_\xa1-\uffff]/);var r=t.current();return a(b,r)?(a(C,r)&&(d="newstatement"),a(w,r)&&(f=!0),"keyword"):a(y,r)?"variable-3":a(x,r)?(a(C,r)&&(d="newstatement"),"builtin"):a(k,r)?"atom":"variable"}function u(t){return function(e,i){for(var n,r=!1,o=!1;null!=(n=e.next());){if(n==t&&!r){o=!0;break}r=!r&&"\\"==n}return(o||!r&&!S)&&(i.tokenize=null),"string"}}function h(t,e){for(var i,n=!1;i=t.next();){if("/"==i&&n){e.tokenize=null;break}n="*"==i}return"comment"}function p(t,e){l.typeFirstDefinitions&&t.eol()&&o(e.context)&&(e.typeAtEndOfLine=r(t,e,t.pos))}var d,f,g=s.indentUnit,m=l.statementIndentUnit||g,v=l.dontAlignCalls,b=l.keywords||{},y=l.types||{},x=l.builtin||{},C=l.blockKeywords||{},w=l.defKeywords||{},k=l.atoms||{},_=l.hooks||{},S=l.multiLineStrings,T=l.indentStatements!==!1,D=l.indentSwitch!==!1,M=l.namespaceSeparator,P=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,E=l.numberStart||/[\d\.]/,B=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,A=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,L=l.endStatement||/^[;:,]$/;return{startState:function(t){return{tokenize:null,context:new e((t||0)-g,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(t,e){var s=e.context;if(t.sol()&&(null==s.align&&(s.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return p(t,e),null;d=f=null;var a=(e.tokenize||c)(t,e);if("comment"==a||"meta"==a)return a;
if(null==s.align&&(s.align=!0),L.test(d))for(;"statement"==e.context.type;)n(e);else if("{"==d)i(e,t.column(),"}");else if("["==d)i(e,t.column(),"]");else if("("==d)i(e,t.column(),")");else if("}"==d){for(;"statement"==s.type;)s=n(e);for("}"==s.type&&(s=n(e));"statement"==s.type;)s=n(e)}else d==s.type?n(e):T&&(("}"==s.type||"top"==s.type)&&";"!=d||"statement"==s.type&&"newstatement"==d)&&i(e,t.column(),"statement",t.current());if("variable"==a&&("def"==e.prevToken||l.typeFirstDefinitions&&r(t,e,t.start)&&o(e.context)&&t.match(/^\s*\(/,!1))&&(a="def"),_.token){var u=_.token(t,e,a);void 0!==u&&(a=u)}return"def"==a&&l.styleDefs===!1&&(a="variable"),e.startOfLine=!1,e.prevToken=f?"def":a||d,p(t,e),a},indent:function(e,i){if(e.tokenize!=c&&null!=e.tokenize||e.typeAtEndOfLine)return t.Pass;var n=e.context,r=i&&i.charAt(0);if("statement"==n.type&&"}"==r&&(n=n.prev),l.dontIndentStatements)for(;"statement"==n.type&&l.dontIndentStatements.test(n.info);)n=n.prev;if(_.indent){var o=_.indent(e,n,i);if("number"==typeof o)return o}var s=r==n.type,a=n.prev&&"switch"==n.prev.info;if(l.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=n.type&&"}"!=n.type;)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==r?0:m):!n.align||v&&")"==n.type?")"!=n.type||s?n.indented+(s?0:g)+(s||!a||/^(?:case|default)\b/.test(i)?0:g):n.indented+m:n.column+(s?0:1)},electricInput:D?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var y="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",x="int long char short double float unsigned signed void size_t ptrdiff_t";g(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:s(y),types:s(x+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:s("case do else for if switch while struct"),defKeywords:s("struct"),typeFirstDefinitions:!0,atoms:s("null true false"),hooks:{"#":l,"*":c},modeProps:{fold:["brace","include"]}}),g(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:s(y+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:s(x+" bool wchar_t"),blockKeywords:s("catch class do else finally for if struct switch try while"),defKeywords:s("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:s("true false null"),dontIndentStatements:/^template$/,hooks:{"#":l,"*":c,u:h,U:h,L:h,R:h,0:u,1:u,2:u,3:u,4:u,5:u,6:u,7:u,8:u,9:u,token:function(t,e,i){if("variable"==i&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&p(t.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),g("text/x-java",{name:"clike",keywords:s("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while"),types:s("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:s("catch class do else finally for if switch try while"),defKeywords:s("class interface package enum"),typeFirstDefinitions:!0,atoms:s("true false null"),endStatement:/^[;:]$/,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),g("text/x-csharp",{name:"clike",keywords:s("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:s("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:s("catch class do else finally for foreach if struct switch try while"),defKeywords:s("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=d,d(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),g("text/x-scala",{name:"clike",keywords:s("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble :: #:: "),types:s("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:s("catch class do else finally for forSome if match switch try while"),defKeywords:s("class def object package trait type val var"),atoms:s("true false null"),indentStatements:!1,indentSwitch:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return!!t.match('""')&&(e.tokenize=m,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(t,i){var n=i.context;return!("}"!=n.type||!n.align||!t.eat(">"))&&(i.context=new e(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),g("text/x-kotlin",{name:"clike",keywords:s("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix"),types:s("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,blockKeywords:s("catch class do else finally for if where try while enum"),defKeywords:s("class val var object package interface fun"),atoms:s("true false null this"),hooks:{'"':function(t,e){return e.tokenize=v(t.match('""')),e.tokenize(t,e)}},modeProps:{closeBrackets:{triples:'"'}}}),g(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:s("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:s("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:s("for while do if else struct"),builtin:s("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:s("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":l},modeProps:{fold:["brace","include"]}}),g("text/x-nesc",{name:"clike",keywords:s(y+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:s(x),blockKeywords:s("case do else for if switch while struct"),atoms:s("null true false"),hooks:{"#":l},modeProps:{fold:["brace","include"]}}),g("text/x-objectivec",{name:"clike",keywords:s(y+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:s(x),atoms:s("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(t){return t.eatWhile(/[\w\$]/),"keyword"},"#":l,indent:function(t,e,i){if("statement"==e.type&&/^@\w/.test(i))return e.indented}},modeProps:{fold:"brace"}}),g("text/x-squirrel",{name:"clike",keywords:s("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:s(x),blockKeywords:s("case catch class else for foreach if switch try while"),defKeywords:s("function local class"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"#":l},modeProps:{fold:["brace","include"]}});var C=null;g("text/x-ceylon",{name:"clike",keywords:s("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(t){var e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()},blockKeywords:s("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:s("class dynamic function interface module object package value"),builtin:s("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:s("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return e.tokenize=b(t.match('""')?"triple":"single"),e.tokenize(t,e)},"`":function(t,e){return!(!C||!t.match("`"))&&(e.tokenize=C,C=null,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(t,e,i){if(("variable"==i||"variable-3"==i)&&"."==e.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/mode/vbscript/vbscript",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("vbscript",function(t,e){function i(t){return new RegExp("^(("+t.join(")|(")+"))\\b","i")}function n(t,e){e.currentIndent++}function r(t,e){e.currentIndent--}function o(t,e){if(t.eatSpace())return"space";var i=t.peek();if("'"===i)return t.skipToEnd(),"comment";if(t.match(W))return t.skipToEnd(),"comment";if(t.match(/^((&H)|(&O))?[0-9\.]/i,!1)&&!t.match(/^((&H)|(&O))?[0-9\.]+[a-z_]/i,!1)){var o=!1;if(t.match(/^\d*\.\d+/i)?o=!0:t.match(/^\d+\.\d*/)?o=!0:t.match(/^\.\d+/)&&(o=!0),o)return t.eat(/J/i),"number";var a=!1;if(t.match(/^&H[0-9a-f]+/i)?a=!0:t.match(/^&O[0-7]+/i)?a=!0:t.match(/^[1-9]\d*F?/)?(t.eat(/J/i),a=!0):t.match(/^0(?![\dx])/i)&&(a=!0),a)return t.eat(/L/i),"number"}return t.match(N)?(e.tokenize=s(t.current()),e.tokenize(t,e)):t.match(u)||t.match(c)||t.match(v)?"operator":t.match(h)?null:t.match(p)?"bracket":t.match(H)?(e.doInCurrentLine=!0,"keyword"):t.match(O)?(n(t,e),e.doInCurrentLine=!0,"keyword"):t.match(F)?(e.doInCurrentLine?e.doInCurrentLine=!1:n(t,e),"keyword"):t.match($)?"keyword":t.match(I)?(r(t,e),r(t,e),"keyword"):t.match(R)?(e.doInCurrentLine?e.doInCurrentLine=!1:r(t,e),"keyword"):t.match(P)?"keyword":t.match(E)?"atom":t.match(L)?"variable-2":t.match(B)?"builtin":t.match(A)?"variable-2":t.match(d)?"variable":(t.next(),l)}function s(t){var i=1==t.length,n="string";return function(r,s){for(;!r.eol();){if(r.eatWhile(/[^'"]/),r.match(t))return s.tokenize=o,n;r.eat(/['"]/)}if(i){if(e.singleLineStringErrors)return l;s.tokenize=o}return n}}function a(t,e){var i=e.tokenize(t,e),n=t.current();return"."===n?(i=e.tokenize(t,e),n=t.current(),!i||"variable"!==i.substr(0,8)&&"builtin"!==i&&"keyword"!==i?l:("builtin"!==i&&"keyword"!==i||(i="variable"),M.indexOf(n.substr(1))>-1&&(i="variable-2"),i)):i}var l="error",c=new RegExp("^[\\+\\-\\*/&\\\\\\^<>=]"),u=new RegExp("^((<>)|(<=)|(>=))"),h=new RegExp("^[\\.,]"),p=new RegExp("^[\\(\\)]"),d=new RegExp("^[A-Za-z][_A-Za-z0-9]*"),f=["class","sub","select","while","if","function","property","with","for"],g=["else","elseif","case"],m=["next","loop","wend"],v=i(["and","or","not","xor","is","mod","eqv","imp"]),b=["dim","redim","then","until","randomize","byval","byref","new","property","exit","in","const","private","public","get","set","let","stop","on error resume next","on error goto 0","option explicit","call","me"],y=["true","false","nothing","empty","null"],x=["abs","array","asc","atn","cbool","cbyte","ccur","cdate","cdbl","chr","cint","clng","cos","csng","cstr","date","dateadd","datediff","datepart","dateserial","datevalue","day","escape","eval","execute","exp","filter","formatcurrency","formatdatetime","formatnumber","formatpercent","getlocale","getobject","getref","hex","hour","inputbox","instr","instrrev","int","fix","isarray","isdate","isempty","isnull","isnumeric","isobject","join","lbound","lcase","left","len","loadpicture","log","ltrim","rtrim","trim","maths","mid","minute","month","monthname","msgbox","now","oct","replace","rgb","right","rnd","round","scriptengine","scriptenginebuildversion","scriptenginemajorversion","scriptengineminorversion","second","setlocale","sgn","sin","space","split","sqr","strcomp","string","strreverse","tan","time","timer","timeserial","timevalue","typename","ubound","ucase","unescape","vartype","weekday","weekdayname","year"],C=["vbBlack","vbRed","vbGreen","vbYellow","vbBlue","vbMagenta","vbCyan","vbWhite","vbBinaryCompare","vbTextCompare","vbSunday","vbMonday","vbTuesday","vbWednesday","vbThursday","vbFriday","vbSaturday","vbUseSystemDayOfWeek","vbFirstJan1","vbFirstFourDays","vbFirstFullWeek","vbGeneralDate","vbLongDate","vbShortDate","vbLongTime","vbShortTime","vbObjectError","vbOKOnly","vbOKCancel","vbAbortRetryIgnore","vbYesNoCancel","vbYesNo","vbRetryCancel","vbCritical","vbQuestion","vbExclamation","vbInformation","vbDefaultButton1","vbDefaultButton2","vbDefaultButton3","vbDefaultButton4","vbApplicationModal","vbSystemModal","vbOK","vbCancel","vbAbort","vbRetry","vbIgnore","vbYes","vbNo","vbCr","VbCrLf","vbFormFeed","vbLf","vbNewLine","vbNullChar","vbNullString","vbTab","vbVerticalTab","vbUseDefault","vbTrue","vbFalse","vbEmpty","vbNull","vbInteger","vbLong","vbSingle","vbDouble","vbCurrency","vbDate","vbString","vbObject","vbError","vbBoolean","vbVariant","vbDataObject","vbDecimal","vbByte","vbArray"],w=["WScript","err","debug","RegExp"],k=["description","firstindex","global","helpcontext","helpfile","ignorecase","length","number","pattern","source","value","count"],_=["clear","execute","raise","replace","test","write","writeline","close","open","state","eof","update","addnew","end","createobject","quit"],S=["server","response","request","session","application"],T=["buffer","cachecontrol","charset","contenttype","expires","expiresabsolute","isclientconnected","pics","status","clientcertificate","cookies","form","querystring","servervariables","totalbytes","contents","staticobjects","codepage","lcid","sessionid","timeout","scripttimeout"],D=["addheader","appendtolog","binarywrite","end","flush","redirect","binaryread","remove","removeall","lock","unlock","abandon","getlasterror","htmlencode","mappath","transfer","urlencode"],M=_.concat(k);w=w.concat(C),t.isASP&&(w=w.concat(S),M=M.concat(D,T));var P=i(b),E=i(y),B=i(x),A=i(w),L=i(M),N='"',F=i(f),$=i(g),R=i(m),I=i(["end"]),O=i(["do"]),H=i(["on error resume next","exit"]),W=i(["rem"]),j={electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:o,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(t,e){t.sol()&&(e.currentIndent+=e.nextLineIndent,e.nextLineIndent=0,e.doInCurrentLine=0);var i=a(t,e);return e.lastToken={style:i,content:t.current()},"space"===i&&(i=null),i},indent:function(e,i){var n=i.replace(/^\s+|\s+$/g,"");return n.match(R)||n.match(I)||n.match($)?t.indentUnit*(e.currentIndent-1):e.currentIndent<0?0:e.currentIndent*t.indentUnit}};return j}),t.defineMIME("text/vbscript","vbscript")}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/addon/edit/matchbrackets",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e,n,r){var o=t.getLineHandle(e.line),l=e.ch-1,c=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(n&&u>0!=(l==e.ch))return null;var h=t.getTokenTypeAt(s(e.line,l+1)),p=i(t,s(e.line,l+(u>0?1:0)),u,h||null,r);return null==p?null:{from:s(e.line,l),to:p&&p.pos,match:p&&p.ch==c.charAt(0),forward:u>0}}function i(t,e,i,n,r){for(var o=r&&r.maxScanLineLength||1e4,l=r&&r.maxScanLines||1e3,c=[],u=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,h=i>0?Math.min(e.line+l,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-l),p=e.line;p!=h;p+=i){var d=t.getLine(p);if(d){var f=i>0?0:d.length-1,g=i>0?d.length:-1;if(!(d.length>o))for(p==e.line&&(f=e.ch-(i<0?1:0));f!=g;f+=i){var m=d.charAt(f);if(u.test(m)&&(void 0===n||t.getTokenTypeAt(s(p,f+1))==n)){var v=a[m];if(">"==v.charAt(1)==i>0)c.push(m);else{if(!c.length)return{pos:s(p,f),ch:m};c.pop()}}}}}return p-i!=(i>0?t.lastLine():t.firstLine())&&null}function n(t,i,n){for(var r=t.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=t.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&e(t,l[c].head,!1,n);if(u&&t.getLine(u.from.line).length<=r){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(t.markText(u.from,s(u.from.line,u.from.ch+1),{className:h})),u.to&&t.getLine(u.to.line).length<=r&&a.push(t.markText(u.to,s(u.to.line,u.to.ch+1),{className:h}))}}if(a.length){o&&t.state.focused&&t.focus();var p=function(){t.operation(function(){for(var t=0;t<a.length;t++)a[t].clear()})};if(!i)return p;setTimeout(p,800)}}function r(t){t.operation(function(){l&&(l(),l=null),l=n(t,!1,t.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=t.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;t.defineOption("matchBrackets",!1,function(e,i,n){n&&n!=t.Init&&(e.off("cursorActivity",r),l&&(l(),l=null)),i&&(e.state.matchBrackets="object"==typeof i?i:{},e.on("cursorActivity",r))}),t.defineExtension("matchBrackets",function(){n(this,!0)}),t.defineExtension("findMatchingBracket",function(t,i,n){return e(this,t,i,n)}),t.defineExtension("scanForBracket",function(t,e,n,r){return i(this,t,e,n,r)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/addon/selection/active-line",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t){for(var e=0;e<t.state.activeLines.length;e++)t.removeLineClass(t.state.activeLines[e],"wrap",o),t.removeLineClass(t.state.activeLines[e],"background",s),t.removeLineClass(t.state.activeLines[e],"gutter",a)}function i(t,e){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0}function n(t,n){for(var r=[],l=0;l<n.length;l++){var c=n[l];if(c.empty()){var u=t.getLineHandleVisualStart(c.head.line);r[r.length-1]!=u&&r.push(u)}}i(t.state.activeLines,r)||t.operation(function(){e(t);for(var i=0;i<r.length;i++)t.addLineClass(r[i],"wrap",o),t.addLineClass(r[i],"background",s),t.addLineClass(r[i],"gutter",a);t.state.activeLines=r})}function r(t,e){n(t,e.ranges)}var o="CodeMirror-activeline",s="CodeMirror-activeline-background",a="CodeMirror-activeline-gutter";t.defineOption("styleActiveLine",!1,function(i,o,s){var a=s&&s!=t.Init;o&&!a?(i.state.activeLines=[],n(i,i.listSelections()),i.on("beforeSelectionChange",r)):!o&&a&&(i.off("beforeSelectionChange",r),e(i),delete i.state.activeLines)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/addon/search/searchcursor",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,r,o){if(this.atOccurrence=!1,this.doc=t,null==o&&"string"==typeof e&&(o=!1),r=r?t.clipPos(r):n(0,0),this.pos={from:r,to:r},"string"!=typeof e)e.global||(e=new RegExp(e.source,e.ignoreCase?"ig":"g")),this.matches=function(i,r){if(i){e.lastIndex=0;for(var o,s,a=t.getLine(r.line).slice(0,r.ch),l=0;;){e.lastIndex=l;var c=e.exec(a);if(!c)break;if(o=c,s=o.index,l=o.index+(o[0].length||1),l==a.length)break}var u=o&&o[0].length||0;u||(0==s&&0==a.length?o=void 0:s!=t.getLine(r.line).length&&u++)}else{e.lastIndex=r.ch;var a=t.getLine(r.line),o=e.exec(a),u=o&&o[0].length||0,s=o&&o.index;s+u==a.length||u||(u=1)}if(o&&u)return{from:n(r.line,s),to:n(r.line,s+u),match:o}};else{var s=e;o&&(e=e.toLowerCase());var a=o?function(t){return t.toLowerCase()}:function(t){return t},l=e.split("\n");if(1==l.length)e.length?this.matches=function(r,o){if(r){var l=t.getLine(o.line).slice(0,o.ch),c=a(l),u=c.lastIndexOf(e);if(u>-1)return u=i(l,c,u),{from:n(o.line,u),to:n(o.line,u+s.length)}}else{var l=t.getLine(o.line).slice(o.ch),c=a(l),u=c.indexOf(e);if(u>-1)return u=i(l,c,u)+o.ch,{from:n(o.line,u),to:n(o.line,u+s.length)}}}:this.matches=function(){};else{var c=s.split("\n");this.matches=function(e,i){var r=l.length-1;if(e){if(i.line-(l.length-1)<t.firstLine())return;if(a(t.getLine(i.line).slice(0,c[r].length))!=l[l.length-1])return;for(var o=n(i.line,c[r].length),s=i.line-1,u=r-1;u>=1;--u,--s)if(l[u]!=a(t.getLine(s)))return;var h=t.getLine(s),p=h.length-c[0].length;if(a(h.slice(p))!=l[0])return;return{from:n(s,p),to:o}}if(!(i.line+(l.length-1)>t.lastLine())){var h=t.getLine(i.line),p=h.length-c[0].length;if(a(h.slice(p))==l[0]){for(var d=n(i.line,p),s=i.line+1,u=1;u<r;++u,++s)if(l[u]!=a(t.getLine(s)))return;if(a(t.getLine(s).slice(0,c[r].length))==l[r])return{from:d,to:n(s,c[r].length)}}}}}}}function i(t,e,i){if(t.length==e.length)return i;for(var n=Math.min(i,t.length);;){var r=t.slice(0,n).toLowerCase().length;if(r<i)++n;else{if(!(r>i))return n;--n}}}var n=t.Pos;e.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){function e(t){var e=n(t,0);return i.pos={from:e,to:e},i.atOccurrence=!1,!1}for(var i=this,r=this.doc.clipPos(t?this.pos.from:this.pos.to);;){if(this.pos=this.matches(t,r))return this.atOccurrence=!0,this.pos.match||!0;if(t){if(!r.line)return e(0);r=n(r.line-1,this.doc.getLine(r.line-1).length)}else{var o=this.doc.lineCount();if(r.line==o-1)return e(o);r=n(r.line+1,0)}}},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,i){if(this.atOccurrence){var r=t.splitLines(e);this.doc.replaceRange(r,this.pos.from,this.pos.to,i),this.pos.to=n(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(t,i,n){return new e(this.doc,t,i,n)}),t.defineDocExtension("getSearchCursor",function(t,i,n){return new e(this,t,i,n)}),t.defineExtension("selectMatches",function(e,i){for(var n=[],r=this.getSearchCursor(e,this.getCursor("from"),i);r.findNext()&&!(t.cmpPos(r.to(),this.getCursor("to"))>0);)n.push({anchor:r.from(),head:r.to()});n.length&&this.setSelections(n,0)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/addon/dialog/dialog",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e,i){var n,r=t.getWrapperElement();return n=r.appendChild(document.createElement("div")),i?n.className="CodeMirror-dialog CodeMirror-dialog-bottom":n.className="CodeMirror-dialog CodeMirror-dialog-top","string"==typeof e?n.innerHTML=e:n.appendChild(e),n}function i(t,e){t.state.currentNotificationClose&&t.state.currentNotificationClose(),t.state.currentNotificationClose=e}t.defineExtension("openDialog",function(n,r,o){function s(t){if("string"==typeof t)h.value=t;else{if(c)return;c=!0,l.parentNode.removeChild(l),u.focus(),o.onClose&&o.onClose(l)}}o||(o={}),i(this,null);var a,l=e(this,n,o.bottom),c=!1,u=this,h=l.getElementsByTagName("input")[0];return h?(h.focus(),o.value&&(h.value=o.value,o.selectValueOnOpen!==!1&&h.select()),o.onInput&&t.on(h,"input",function(t){o.onInput(t,h.value,s)}),o.onKeyUp&&t.on(h,"keyup",function(t){o.onKeyUp(t,h.value,s)}),t.on(h,"keydown",function(e){o&&o.onKeyDown&&o.onKeyDown(e,h.value,s)||((27==e.keyCode||o.closeOnEnter!==!1&&13==e.keyCode)&&(h.blur(),t.e_stop(e),s()),13==e.keyCode&&r(h.value,e))}),o.closeOnBlur!==!1&&t.on(h,"blur",s)):(a=l.getElementsByTagName("button")[0])&&(t.on(a,"click",function(){s(),u.focus()}),o.closeOnBlur!==!1&&t.on(a,"blur",s),a.focus()),s}),t.defineExtension("openConfirm",function(n,r,o){function s(){c||(c=!0,a.parentNode.removeChild(a),u.focus())}i(this,null);var a=e(this,n,o&&o.bottom),l=a.getElementsByTagName("button"),c=!1,u=this,h=1;l[0].focus();for(var p=0;p<l.length;++p){var d=l[p];!function(e){t.on(d,"click",function(i){t.e_preventDefault(i),s(),e&&e(u)})}(r[p]),t.on(d,"blur",function(){--h,setTimeout(function(){h<=0&&s()},200)}),t.on(d,"focus",function(){++h})}}),t.defineExtension("openNotification",function(n,r){function o(){l||(l=!0,clearTimeout(s),a.parentNode.removeChild(a))}i(this,o);var s,a=e(this,n,r&&r.bottom),l=!1,c=r&&"undefined"!=typeof r.duration?r.duration:5e3;return t.on(a,"click",function(e){t.e_preventDefault(e),o()}),c&&(s=setTimeout(o,c)),o})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define("cm/addon/search/search",["../../lib/codemirror","./searchcursor","../dialog/dialog"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){return"string"==typeof t?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g")),{token:function(e){t.lastIndex=e.pos;var i=t.exec(e.string);return i&&i.index==e.pos?(e.pos+=i[0].length||1,"searching"):void(i?e.pos=i.index:e.skipToEnd())}}}function i(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function n(t){return t.state.search||(t.state.search=new i)}function r(t){return"string"==typeof t&&t==t.toLowerCase()}function o(t,e,i){return t.getSearchCursor(e,i,r(e))}function s(t,e,i,n,r){t.openDialog(e,n,{value:i,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){f(t)},onKeyDown:r})}function a(t,e,i,n,r){t.openDialog?t.openDialog(e,r,{value:n,selectValueOnOpen:!0}):r(prompt(i,n))}function l(t,e,i,n){t.openConfirm?t.openConfirm(e,n):confirm(i)&&n[0]()}function c(t){return t.replace(/\\(.)/g,function(t,e){return"n"==e?"\n":"r"==e?"\r":e})}function u(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],e[2].indexOf("i")==-1?"":"i")}catch(t){}else t=c(t);return("string"==typeof t?""==t:t.test(""))&&(t=/x^/),t}function h(t,i,n){i.queryText=n,i.query=u(n),t.removeOverlay(i.overlay,r(i.query)),i.overlay=e(i.query,r(i.query)),t.addOverlay(i.overlay),t.showMatchesOnScrollbar&&(i.annotate&&(i.annotate.clear(),i.annotate=null),i.annotate=t.showMatchesOnScrollbar(i.query,r(i.query)))}function p(e,i,r,o){var l=n(e);if(l.query)return d(e,i);var c=e.getSelection()||l.lastQuery;if(r&&e.openDialog){var u=null,p=function(i,n){t.e_stop(n),i&&(i!=l.queryText&&(h(e,l,i),l.posFrom=l.posTo=e.getCursor()),u&&(u.style.opacity=1),d(e,n.shiftKey,function(t,i){var n;i.line<3&&document.querySelector&&(n=e.display.wrapper.querySelector(".CodeMirror-dialog"))&&n.getBoundingClientRect().bottom-4>e.cursorCoords(i,"window").top&&((u=n).style.opacity=.4)}))};s(e,v,c,p,function(i,r){var o=t.keyName(i),s=t.keyMap[e.getOption("keyMap")][o];s||(s=e.getOption("extraKeys")[o]),"findNext"==s||"findPrev"==s||"findPersistentNext"==s||"findPersistentPrev"==s?(t.e_stop(i),h(e,n(e),r),e.execCommand(s)):"find"!=s&&"findPersistent"!=s||(t.e_stop(i),p(r,i))}),o&&c&&(h(e,l,c),d(e,i))}else a(e,v,"Search for:",c,function(t){t&&!l.query&&e.operation(function(){h(e,l,t),l.posFrom=l.posTo=e.getCursor(),d(e,i)})})}function d(e,i,r){e.operation(function(){var s=n(e),a=o(e,s.query,i?s.posFrom:s.posTo);(a.find(i)||(a=o(e,s.query,i?t.Pos(e.lastLine()):t.Pos(e.firstLine(),0)),a.find(i)))&&(e.setSelection(a.from(),a.to()),e.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),r&&r(a.from(),a.to()))})}function f(t){t.operation(function(){var e=n(t);e.lastQuery=e.query,e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate&&(e.annotate.clear(),
e.annotate=null))})}function g(t,e,i){t.operation(function(){for(var n=o(t,e);n.findNext();)if("string"!=typeof e){var r=t.getRange(n.from(),n.to()).match(e);n.replace(i.replace(/\$(\d)/g,function(t,e){return r[e]}))}else n.replace(i)})}function m(t,e){if(!t.getOption("readOnly")){var i=t.getSelection()||n(t).lastQuery,r=e?"Replace all:":"Replace:";a(t,r+b,r,i,function(i){i&&(i=u(i),a(t,y,"Replace with:","",function(n){if(n=c(n),e)g(t,i,n);else{f(t);var r=o(t,i,t.getCursor("from")),s=function(){var e,c=r.from();!(e=r.findNext())&&(r=o(t,i),!(e=r.findNext())||c&&r.from().line==c.line&&r.from().ch==c.ch)||(t.setSelection(r.from(),r.to()),t.scrollIntoView({from:r.from(),to:r.to()}),l(t,x,"Replace?",[function(){a(e)},s,function(){g(t,i,n)}]))},a=function(t){r.replace("string"==typeof i?n:n.replace(/\$(\d)/g,function(e,i){return t[i]})),s()};s()}}))})}}var v='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',b=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',x="Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";t.commands.find=function(t){f(t),p(t)},t.commands.findPersistent=function(t){f(t),p(t,!1,!0)},t.commands.findPersistentNext=function(t){p(t,!1,!0,!0)},t.commands.findPersistentPrev=function(t){p(t,!0,!0,!0)},t.commands.findNext=p,t.commands.findPrev=function(t){p(t,!0)},t.commands.clearSearch=f,t.commands.replace=m,t.commands.replaceAll=function(t){m(t,!0)}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("cm/addon/scroll/annotatescrollbar",["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e){function i(t){clearTimeout(n.doRedraw),n.doRedraw=setTimeout(function(){n.redraw()},t)}this.cm=t,this.options=e,this.buttonHeight=e.scrollButtonHeight||t.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=t.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var n=this;t.on("refresh",this.resizeHandler=function(){clearTimeout(n.doUpdate),n.doUpdate=setTimeout(function(){n.computeScale()&&i(20)},100)}),t.on("markerAdded",this.resizeHandler),t.on("markerCleared",this.resizeHandler),e.listenForChanges!==!1&&t.on("change",this.changeHandler=function(){i(250)})}t.defineExtension("annotateScrollbar",function(t){return"string"==typeof t&&(t={className:t}),new e(this,t)}),t.defineOption("scrollButtonHeight",0),e.prototype.computeScale=function(){var t=this.cm,e=(t.getWrapperElement().clientHeight-t.display.barHeight-2*this.buttonHeight)/t.getScrollerElement().scrollHeight;if(e!=this.hScale)return this.hScale=e,!0},e.prototype.update=function(t){this.annotations=t,this.redraw()},e.prototype.redraw=function(t){function e(t,e){if(l!=t.line&&(l=t.line,c=i.getLineHandle(l)),s&&c.height>a)return i.charCoords(t,"local")[e?"top":"bottom"];var n=i.heightAtLine(c,"local");return n+(e?0:c.height)}t!==!1&&this.computeScale();var i=this.cm,n=this.hScale,r=document.createDocumentFragment(),o=this.annotations,s=i.getOption("lineWrapping"),a=s&&1.5*i.defaultTextHeight(),l=null,c=null;if(i.display.barWidth)for(var u,h=0;h<o.length;h++){for(var p=o[h],d=u||e(p.from,!0)*n,f=e(p.to,!1)*n;h<o.length-1&&(u=e(o[h+1].from,!0)*n,!(u>f+.9));)p=o[++h],f=e(p.to,!1)*n;if(f!=d){var g=Math.max(f-d,3),m=r.appendChild(document.createElement("div"));m.style.cssText="position: absolute; right: 0px; width: "+Math.max(i.display.barWidth-1,2)+"px; top: "+(d+this.buttonHeight)+"px; height: "+g+"px",m.className=this.options.className,p.id&&m.setAttribute("annotation-id",p.id)}}this.div.textContent="",this.div.appendChild(r)},e.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("change",this.changeHandler),this.div.parentNode.removeChild(this.div)}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar")):"function"==typeof define&&define.amd?define("cm/addon/search/matchesonscrollbar",["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],t):t(CodeMirror)}(function(t){"use strict";function e(t,e,i,n){this.cm=t,this.options=n;var r={listenForChanges:!1};for(var o in n)r[o]=n[o];r.className||(r.className="CodeMirror-search-match"),this.annotation=t.annotateScrollbar(r),this.query=e,this.caseFold=i,this.gap={from:t.firstLine(),to:t.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var s=this;t.on("change",this.changeHandler=function(t,e){s.onChange(e)})}function i(t,e,i){return t<=e?t:Math.max(e,t+i)}t.defineExtension("showMatchesOnScrollbar",function(t,i,n){return"string"==typeof n&&(n={className:n}),n||(n={}),new e(this,t,i,n)});var n=1e3;e.prototype.findMatches=function(){if(this.gap){for(var e=0;e<this.matches.length;e++){var i=this.matches[e];if(i.from.line>=this.gap.to)break;i.to.line>=this.gap.from&&this.matches.splice(e--,1)}for(var r=this.cm.getSearchCursor(this.query,t.Pos(this.gap.from,0),this.caseFold),o=this.options&&this.options.maxMatches||n;r.findNext();){var i={from:r.from(),to:r.to()};if(i.from.line>=this.gap.to)break;if(this.matches.splice(e++,0,i),this.matches.length>o)break}this.gap=null}},e.prototype.onChange=function(e){var n=e.from.line,r=t.changeEnd(e).line,o=r-e.to.line;if(this.gap?(this.gap.from=Math.min(i(this.gap.from,n,o),e.from.line),this.gap.to=Math.max(i(this.gap.to,n,o),e.from.line)):this.gap={from:e.from.line,to:r+1},o)for(var s=0;s<this.matches.length;s++){var a=this.matches[s],l=i(a.from.line,n,o);l!=a.from.line&&(a.from=t.Pos(l,a.from.ch));var c=i(a.to.line,n,o);c!=a.to.line&&(a.to=t.Pos(c,a.to.ch))}clearTimeout(this.update);var u=this;this.update=setTimeout(function(){u.updateAfterChange()},250)},e.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},e.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define("cm/addon/search/match-highlighter",["../../lib/codemirror","./matchesonscrollbar"],t):t(CodeMirror)}(function(t){"use strict";function e(t){this.options={};for(var e in h)this.options[e]=(t&&t.hasOwnProperty(e)?t:h)[e];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function i(t){var e=t.state.matchHighlighter;(e.active||t.hasFocus())&&r(t,e)}function n(t){var e=t.state.matchHighlighter;e.active||(e.active=!0,r(t,e))}function r(t,e){clearTimeout(e.timeout),e.timeout=setTimeout(function(){a(t)},e.options.delay)}function o(t,e,i,n){var r=t.state.matchHighlighter;if(t.addOverlay(r.overlay=u(e,i,n)),r.options.annotateScrollbar&&t.showMatchesOnScrollbar){var o=i?new RegExp("\\b"+e+"\\b"):e;r.matchesonscroll=t.showMatchesOnScrollbar(o,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function s(t){var e=t.state.matchHighlighter;e.overlay&&(t.removeOverlay(e.overlay),e.overlay=null,e.matchesonscroll&&(e.matchesonscroll.clear(),e.matchesonscroll=null))}function a(t){t.operation(function(){var e=t.state.matchHighlighter;if(s(t),!t.somethingSelected()&&e.options.showToken){for(var i=e.options.showToken===!0?/[\w$]/:e.options.showToken,n=t.getCursor(),r=t.getLine(n.line),a=n.ch,c=a;a&&i.test(r.charAt(a-1));)--a;for(;c<r.length&&i.test(r.charAt(c));)++c;return void(a<c&&o(t,r.slice(a,c),i,e.options.style))}var u=t.getCursor("from"),h=t.getCursor("to");if(u.line==h.line&&(!e.options.wordsOnly||l(t,u,h))){var p=t.getRange(u,h);e.options.trim&&(p=p.replace(/^\s+|\s+$/g,"")),p.length>=e.options.minChars&&o(t,p,!1,e.options.style)}})}function l(t,e,i){var n=t.getRange(e,i);if(null!==n.match(/^\w+$/)){if(e.ch>0){var r={line:e.line,ch:e.ch-1},o=t.getRange(r,e);if(null===o.match(/\W/))return!1}if(i.ch<t.getLine(e.line).length){var r={line:i.line,ch:i.ch+1},o=t.getRange(i,r);if(null===o.match(/\W/))return!1}return!0}return!1}function c(t,e){return!(t.start&&e.test(t.string.charAt(t.start-1))||t.pos!=t.string.length&&e.test(t.string.charAt(t.pos)))}function u(t,e,i){return{token:function(n){return!n.match(t)||e&&!c(n,e)?(n.next(),void(n.skipTo(t.charAt(0))||n.skipToEnd())):i}}}var h={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};t.defineOption("highlightSelectionMatches",!1,function(r,o,l){if(l&&l!=t.Init&&(s(r),clearTimeout(r.state.matchHighlighter.timeout),r.state.matchHighlighter=null,r.off("cursorActivity",i),r.off("focus",n)),o){var c=r.state.matchHighlighter=new e(o);r.hasFocus()?(c.active=!0,a(r)):r.on("focus",n),r.on("cursorActivity",i)}})}),define("Code",["jquery","config","utils","l10n","Page","cm/lib/codemirror","cm/mode/clike/clike","cm/mode/vbscript/vbscript","cm/addon/edit/matchbrackets","cm/addon/selection/active-line","cm/addon/search/search","cm/addon/search/match-highlighter","cm/addon/search/searchcursor"],function(t,e,i,n,r,o){"use strict";return r.createObject(r,{icon:"icon-061",type:"ScriptText",create:function(){return this.createObject(this,{defer:t.Deferred(),init:function(){this.SM.add(this),this._id="code"+i.guid(),this.editor=t.Deferred(),this.attr({isHidden:!0,activated:!1,code:null}),this.workspace=t("<div>"),this.$workspace=t(this.workspace),this.$workspace.addClass("code"),this.report=null}})},isReady:function(){return this.defer.promise()},initDefault:function(){var e=this;return i.render("code").done(function(i){e.$code=t("#code-editor",i),e.$workspace.html(i),e.editor=o.fromTextArea(e.$code[0],{lineNumbers:!0,matchBrackets:!0,styleActiveLine:!0,highlightSelectionMatches:{showToken:/\w/},mode:"text/x-csharp",theme:"neat"}),e.editor.on("change",function(t){e.attr("code",t.getValue())}),e.setMode(e.report.prop("ScriptLanguage")),e.defer.resolve(e)})},setMode:function(t){switch(t.toLowerCase()){case"vb":t="text/vbscript";break;case"csharp":t="text/x-csharp";break;default:throw new Error("wrong mode")}this.editor.setOption("mode",t)},isRestricted:function(){return this.report.prop("CodeRestricted")||e.get("CodeRestricted")},isCode:function(){return!0},_show:function(){this.attr("code")&&this.editor.setValue(this.attr("code")),this.editor.setCursor(17,9),this.editor.focus()},show:function(){var t=this;this._super._super.show.apply(this,arguments),this.report.$workspace.addClass("fr-hidden"),"resolved"!==this.isReady().state()?this.initDefault().done(function(){t._show()}):t._show()},setCode:function(t){this.attr("code",t)},getCode:function(){return this.attr("code")},render:function(){},remove:function(){},toXML:function(){var e=t(this._super._super.toXML.apply(this,arguments));return this.getCode()?(e.text(i.escapeHTML(this.getCode())),e[0]):null},toString:function(){return n.tr("Workspace Code")}})}),define("events/code",["jquery","config","utils","EventEmitter","notification"],function(t,e,i,n,r){"use strict";return i.object(n,{_init:function(){var e=require("currentReport"),i=this.bind,n=this.trigger;i("procedure",function(i,o){e.code.isRestricted()||(n("activate",e.code),i=i||e.getSelected(),t.when(e.code.isReady()).done(function(t){var e,s=t.editor,a=i.prop("Name")+"_"+o.eventName,l="ReportScript",c=t.getCode()||s.getValue(),u=c.search(a),h=c.search(l);if(u<0){if(h<0)return void r.notify("Could not create event handler due to errors in source code",{danger:!0,trans:!0});e=o.eventStatement.replace("%event%",a),c=c.splice(h+l.length+10,0,"\t\t"+e+"\n\t\t{\n\t\t\t\n\t\t}\n\n"),s.setValue(c),s.setCursor(19,11),s.focus()}i.prop(o.prop,a),n("update-events-panel",i)}))})}})}),define("modules/Hotkey",["jquery","config","utils","EventEmitter"],function(t,e,i,n){"use strict";var r=function(t,i){var r=t.ctrlKey?1:e.get("grid");n.trigger("move-component",i,r,function(){t.stopPropagation(),t.preventDefault()})},o=function(){var n,r=i.getModule("currentReport");return!!r&&(n=r.getCurrentPage(),!(e.get("hotkeyProhibited")||!n||n.isCode()||t(".d-cm").length||t(".fr-popup").length))};return function(){return!i.isMobile&&void t(document.body).on("keydown",function(t){var e=window.event?t.which:t.keyCode,i=t.ctrlKey,s=t.shiftKey;if(o())switch(e){case 46:case 8:return n.trigger("remove"),!1;case 65:if(i)return n.trigger("select-all-components"),!1;break;case 67:if(i)return n.trigger("copy"),!1;break;case 86:if(i)return n.trigger("paste"),!1;break;case 88:if(i)return n.trigger("cut"),!1;break;case 90:if(i)return s?n.trigger("redo"):n.trigger("undo"),!1;break;case 89:if(i)return n.trigger("redo"),!1;break;case 37:if(s)return n.trigger("rotate-left"),!1;r(t,1);break;case 38:r(t,2);break;case 39:if(s)return n.trigger("rotate-right"),!1;r(t,3);break;case 40:r(t,4);break;case 83:if(i)return n.trigger("save"),!1;break;case 80:if(i)return n.trigger("preview"),!1;break;case 72:n.trigger("show-hotkey-helper");break;case 13:if(t.altKey)return n.trigger("toogle-fullscreen"),!1;break;case 68:if(i)return n.trigger("copy"),n.trigger("paste",!0),n.trigger("update-component-viewer-panel"),!1;break;case 222:if(i)return s?n.trigger("sticky-grid"):(n.trigger("grid"),n.trigger("re-render")),!1;break;case 71:if(i)return s?n.trigger("ungroup"):n.trigger("group"),n.trigger("update-menu"),!1;break;case 107:case 187:if(i)return n.trigger("scale-page-plus"),!1;break;case 109:case 189:if(i)return n.trigger("scale-page-minus"),!1;break;case 96:case 48:if(i)return n.trigger("scale-page-original"),!1;break;case 33:if(i&&s)return n.trigger("menu-higher"),!1;break;case 34:if(i&&s)return n.trigger("menu-lower"),!1;break;case 32:return n.trigger("toggle-mouse-scroll-enable"),!1}}).on("keyup",function(t){var e=window.event?t.which:t.keyCode;if(o())switch(e){case 32:return n.trigger("toggle-mouse-scroll-disable"),!1}})}}),define("Style",["jquery","utils","TextComponent"],function(t,e,i){"use strict";return e.object(i,{type:"Style",init:function(){this.report=null},create:function(){return this.createObject(this,{init:function(){this._id="s"+e.guid(),this.prop({Name:"Style"})}})},isStyle:function(){return!0}})}),define("movements/creatingComponent",["jquery","config","utils","EventEmitter"],function(t,e,i,n){"use strict";var r=500,o=i.isMobile?30:15,s="component-over";return function(){function e(t,e){e.css({left:t.pageX-e.outerWidth(!0)-o,top:t.pageY-e.outerHeight(!0)-o})}function a(t,e){var i=e.find(".d-pulse-dot")[0].getBoundingClientRect(),n=u.attr("data-scale"),r=u.getCurrentPage(),s=t.x-r.attr("margin")-r.attr("padding"),a=t.y;return s-=o/n,a-=o/n,{x:s,y:a,left:i.left,top:i.top}}var l,c=require("head"),u=this.report;this.addAction("creating-component",{start:function(n){var o,s=this,a=t(n.target),u=function(){var t=s.get(),i=a.parent()[0].element;e(n,t.$container),o.css("visibility","visible"),t.component=a.data("component"),i&&(t.view=i.view||i.getView&&i.getView(a),t.bindableControl=i.prop&&i.prop("BindableControl")||"Text"),l=null};o=a.clone(),t(".will-be-created").remove(),o.removeClass("d-wb selected"),o.addClass("will-be-created"),o.css({left:n.pageX,top:n.pageY}),o.append('<div class="d-pulse-dot"><div class="d-dot"></div><div class="d-pulse"></div></div>'),t(".add,.remove",o).remove(),c.put(o),this.set({$container:o}),i.isMobile||!a.is(".d-mc")?l=setTimeout(u,r):u()},move:function(n){var r,o,c,u=this.get();return u&&u.component?(r=a(n,u.$container),u.$container.addClass("fr-hidden"),o=t(document.elementFromPoint(r.left,r.top)),u.$container.removeClass("fr-hidden"),e(n,u.$container),c=t("."+s),c.length&&t.each(c,function(){i.removeClass(this,s)}),u.existingComponent&&u.existingComponent.deleteComponentOver(n,r),u.existingComponent=o.parents(".component.droppable-component:first"),u.existingComponent.length&&u.view&&u.existingComponent.is(".droppable-view")&&~["Text","Custom"].indexOf(u.bindableControl)?(u.existingComponent=u.existingComponent[0].component,i.addClass(u.existingComponent.$moveBlock[0],s),u.existingComponent.creatingComponentOver(n,r)):delete u.existingComponent,!1):!l},end:function(e){var r=this.get(),o=r.$container,c=u.getCurrentPage(),h=t.contains(document.documentElement,o[0]),p=c,d=a(e,o);return o.remove(),l?void clearTimeout(l):(h&&(r.existingComponent?(r.existingComponent.creatingComponentEnd(e,d,i.formatView(r.view)),i.removeClass(r.existingComponent.$moveBlock[0],s),r.existingComponent.render()):(p.bands&&(p=p.bands.findInsideCoord([d.x,d.y]),p||(p=c.bands.first(),d.x=0,d.y=c.attr("padding"))),p&&(d.y-=p.prop("Top"),n.trigger("add-component",r.component,p,!0,{view:r.view,left:d.x,top:d.y}).done(function(t){t&&"SubreportObject"!==t.type&&u.drop(t)}),p.creatingComponentEnd(e,d,i.formatView(r.view))))),void this.set(null))}})}}),define("movements/movingComponent",["jquery","utils","Entity","queue","EventEmitter"],function(t,e,i,n,r){"use strict";return function(){function t(t){var e;return r.trigger("put-component",t.container,t.component,t.leftLastCoord,t.topLastCoord),e=t.container.prop("Height"),t.container.prop("Height",t.bandHeight),r.trigger("balance-band",t.container,e),!0}function o(e,i){var n,o,s,a,c=[],u=function(){return e.length>1||i&&i.ctrlKey?function(t){t.component.activate(),r.trigger("update-menu"),r.trigger("update-info")}:function(t){r.trigger("activate",t.component)}}();for(n=0,o=e.length;n<o;n+=1)s=e[n],a=s.component.collection.container,s.container?(t(s),c.push(s.container)):(s.container=l.drop(s.component),s.container&&c.push(s.container)),u(s),s.component.movingEnd(i,s),s.container!==a&&a.isBand()&&c.push(a);for(n=0,o=c.removeDoubleValue().length;n<o;n+=1)r.trigger("balance-band",c[n])}function s(t,e,i){var n=t.prop("Left"),r=t.prop("Top");return{component:t,prevX:e,prevY:i,leftCoord:n,topCoord:r,leftLastCoord:n,topLastCoord:r}}function a(t,i){var n,r,o,s,a,l=i.component;if(i.prevX&&i.prevY&&(o=i.leftCoord+(t.x-i.prevX),s=i.topCoord+(t.y-i.prevY),l.canMove()))return n=l.prop("Left"),r=l.prop("Top"),a=l.isDialogControl()?e.nearPoint([o-n,s-r],4):e.nearPoint([o-n,s-r]),i.leftLastCoord=n<o?n+a[0]:n-a[0],i.topLastCoord=r<s?r+a[1]:r-a[1],l.setPosition.apply(l,[i.leftLastCoord,i.topLastCoord])}var l=this.report;this.addAction("moving-component",{start:function(t,i){for(var n,r=[],o=[],c=l.getCurrentPage(),u=c.bands||c.components,h=i.attr("activated")?u.getSelectedComponents():[i],p=h.length;p--;)i=h[p],u=i.collection&&i.collection.container,u&&(i.deactivate(),i.state.set.call(i,"in_move"),n=s.call(this,i,t.x,t.y),o.push(n),r.push(e.extend({container:u,bandHeight:u.prop("Height")},n)),i.movingStart(t,n),a(t,n));this.set({data:o,init:r})},move:function(t){var e,n,r=this.get(),o=0;if(r){if(r.data)for(r.moved=!0,r=r.data,e=r.length;o<e;o+=1)a(t,r[o])&&(r[o].component.moving(t,r[o]),r[o].moved=!0)}else{for(r=[],n=i.state.get("in_move"),e=n.length;o<e;o+=1)r.push(s.call(this,n[o],t.x,t.y));this.set({data:r})}return!1},end:function(t){var e=this.get();e&&(e.init&&e.moved&&n.push({context:this,func:o,undoData:[e.init,t],redoData:[e.data,t]}),o.call(this,e.data,t),this.set(null))}})}}),define("movements/resizingComponent",["jquery","utils","queue","EventEmitter"],function(t,e,i,n){"use strict";return function(){var e=this.report,r=require("head").$main;this.addAction("resizing-component",{start:function(e,i){var n=t(e.target),r=i.getResizing(n);if(r.component=i,i.collection)r.container=i.collection.container,r.oldWidth=i.prop("Width"),r.oldHeight=i.prop("Height"),r.oldLeft=i.prop("Left"),r.oldTop=i.prop("Top"),r.oldBandHeight=r.container.prop("Height");else{if(!i.getTable)return;r.container=i.getTable()}i.state.set.call(i,"in_resize"),this.set(r),i.deactivate(),i.resizingStart(e,this.get())},move:function(t){var i,n,o,s,a,l,c=this.get(),u=e.attr("data-scale");return c&&(n=c.component,i=c.container,o=i.$workspace[0].getBoundingClientRect(),s=r[0].getBoundingClientRect(),o={left:o.left-s.left,top:o.top-s.top},a=(t.pageX-o.left)/u,l=(t.pageY-o.top)/u,c.call(c.component,a,l),c.changed=!0,n.resizing(t,c),n.render()),!1},end:function(t){var e,r,o=this.get();o&&(e=o.component,r=o.container,e.state.set.call(e,"normal"),e.resizingEnd(t,o),r.isBand()&&n.trigger("balance-band",r),e.render(),n.trigger("activate",e),n.trigger("update-properties-panel",e),o.changed&&o.oldBandHeight&&(i.push({context:e,func:function(t,e,i,r,o){var s,a=this.collection.container;this.deactivate(),this.prop({Width:e,Height:i}),this.setPosition(r,o),this.render(),n.trigger("activate",this),n.trigger("update-properties-panel",this),s=a.prop("Height"),a.prop("Height",t),n.trigger("balance-band",a,s)},undoData:[o.oldBandHeight,o.oldWidth,o.oldHeight,o.oldLeft,o.oldTop],redoData:[e.collection.container.prop("Height"),e.prop("Width"),e.prop("Height"),e.prop("Left"),e.prop("Top")]}),n.trigger("update-menu")),this.set(null))}})}}),define("movements/resizingBand",["jquery","utils","queue","EventEmitter","res-units/IllusionLine"],function(t,e,i,n,r){"use strict";return function(){var t,o=this.report;this.addAction("resizing-band",{start:function(e,i){i.resizingStart(e),t=new r({x1:0,x2:i.prop("Width")+i.attr("margin")+i.attr("padding")}),i.$g.append(t),this.set({band:i,oldHeight:i.prop("Height"),changed:!1})},move:function(i){var n,r=this.get(),o=r.band,s=i.y,a=o.prop("Height");return o.canResizeY()?(o.attr("threshold")>=s&&(s=o.attr("threshold")),s-=o.prop("Top"),n=e.nearPoint([null,s-a])[1],n=a<s?a+n:a-n,n=n<0?0:n,n!==a&&(r.changed=!0,o.prop("Height",n),t.removeClass("fr-hidden"),t.attr({y1:n,y2:n})),!1):null},end:function(e){var r=this.get(),s=r.band;s.resizingEnd(e),n.trigger("balance-band",s,r.oldHeight),n.trigger("activate",s),n.trigger("update-properties-panel",s),r.changed&&(i.push({context:this,func:function(t,e){var i=t.prop("Height");t.prop("Height",e),n.trigger("balance-band",t,i),n.trigger("activate",t),n.trigger("update-properties-panel",t),o.getCurrentPage().render()},undoData:[s,r.oldHeight],redoData:[s,s.prop("Height")]}),n.trigger("update-menu")),t&&t.remove(),this.set(null)}})}}),define("movements/selection",["jquery","utils","EventEmitter"],function(t,e,i){"use strict";function n(t,e){for(var i=t.length;i--;)t[i][e]()}return function(){var r=this.report;this.addAction("selection",{start:function(i,n){return e.isMobile?(n&&this.set({element:n}),!0):(r.$selection?r.$selection.find("rect").attr({width:0,height:0}):(r.$selection=t(e.createNS("g")),r.$selection.append(t(e.createNS("rect")))),r.$workspace.append(r.$selection),e.attr(r.$selection[0],{transform:"translate("+i.x+","+i.y+")",class:"selection",left:i.x,top:i.y}),void this.set({initLeft:i.x,initTop:i.y,element:n}))},move:function(t){var i,n,o,s,a,l=this.get();return!l||!l.initLeft&&!l.initTop||(r.$selection.removeClass("fr-hidden"),i=r.$selection.find("rect"),n=l.initLeft,o=l.initTop,s=t.x-n,a=t.y-o,s<0&&(s=Math.abs(s),n=t.x),a<0&&(a=Math.abs(a),o=t.y),i.attr({width:0===s?1:s,height:0===a?1:a}),e.attr(r.$selection[0],{transform:"translate("+n+","+o+")",left:n,top:o}),!1)},end:function(t){var e,o,s,a,l,c,u,h,p,d=this.get(),f=r.getCurrentPage(),g=r.$selection;return!f||f.isCode()?void g.addClass("fr-hidden"):(e=f.attr("margin")+f.attr("padding"),o=f.bands||f.components,void(d&&(d.element&&!g?i.trigger("activate",d.element):g&&d.initLeft&&d.initTop&&(a=g.find("rect"),l=parseInt(g.attr("left"),10)-e,c=parseInt(g.attr("top"),10),u=parseInt(a.attr("width"),10),h=parseInt(a.attr("height"),10),g.addClass("fr-hidden"),n(o.getSelectedComponents(),"deactivate"),p=o.componentsIn([l,l+u||l],[c,c+h||c]),1===p.length?i.trigger("activate",p[0]):(s=u>10&&h>10&&o.findInsideCoord?o.findInsideCoord([t.x-e,t.y]):d.element,i.trigger("activate",s||f),n(p,"activate"),i.trigger("update-info"),i.trigger("update-menu")),s&&s.isBand()&&i.trigger("balance-band",s)))))}})}}),define("movements/movements",["jquery","config","utils","EventEmitter","movements/creatingComponent","movements/movingComponent","movements/resizingComponent","movements/resizingBand","movements/selection"],function(t,e,i,n,r,o,s,a,l){"use strict";function c(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function u(r){var o=require("head"),s=!1,a=this.data=function(){var t={},e=null,i={};return{$svg:r.$workspace,report:r,pageX:0,pageY:0,addAction:function(e,i){return t[e]=i,this},getAction:function(e){return t[e]},activate:function(t){return e=t,this},deactivate:function(){return e&&(i[e]=null,e=null),this},getActive:function(){return e},set:function(t){return i[e]=t,this},get:function(){return i[e]}}}();this.getHandlers=function(r){function l(t){var e=a.report.$workspace[0],i=e.getBoundingClientRect(),n=e.scrollTop-(e.clientTop||0)-i.top,r=e.scrollLeft-(e.clientLeft||0)-i.left,o=a.report.attr("data-scale"),s=t.originalEvent,l=s.changedTouches,c=s.touches;return n+="undefined"!=typeof t.clientY?t.clientY:c&&c[0]?c[0].clientY:l[0].clientY,r+="undefined"!=typeof t.clientX?t.clientX:c&&c[0]?c[0].clientX:l[0].clientX,{x:Math.round(r/o),y:Math.round(n/o)}}function u(t){var e;return i.extend(t,l(t)),i.unify(t),e=o.$main.offset(),t.pageX-=e.left,t.pageY-=e.top,t}function h(t){var e=t.parents(".component:first");return e.length?e[0].component:(e=t.parents(".band:first"),e.length?e[0].band:(e=t.parents(".rt-node").data("entity"),e?e:a.report.getCurrentPage()))}function p(e){var i=t(e.target),r=h(i),o=!0;return n.trigger("remove-context-menus"),r&&r.rightClick&&(o=r.rightClick(e)),o}var d,f,g=function(){var t=null;return{start:function(e){if(i.isMobile){var n=this;t=setTimeout(function(){return p.call(n,e)},1500)}},cancel:function(){clearTimeout(t),t=null}}}();return"function"==typeof r&&r.call(a),{rightClick:p,mouseover:function(e){var i,n=t(e.target),r=h(n);r&&(i=r.getPage(),i&&i.attr("activated")&&r.mouseover&&r.mouseover(e))},mouseout:function(e){var i,n=t(e.target),r=h(n);r&&(i=r.getPage(),i&&i.attr("activated")&&r.mouseover&&r.mouseout(e))},dblclick:function(e){var i=t(e.target),n=h(i);n&&n.dblclick&&n.dblclick(e)},start:function(r){var o,s=t(r.target),l=h(s),c=".d-mc:not([disabled])[data-component],.rt-content[data-component]",p=".move",d=".resizing-component,.resizing-line",f=".resizing-band",m=".fr-workspace";return s.parents(".fr-lock_window").length||a.getActive()||s.parents(".d-cm").length?null:(g.start.apply(this,arguments),u(r),n.trigger("remove-context-menus"),l&&l.mouseStart(r)===!1?null:(s.is(c)||s.parents(c).length?(s.is(c)||(s=s.parents(c)),i.extend(r,{target:s[0]}),a.activate("creating-component"),o=a.getAction("creating-component")):s.is(p)||s.parents(p).length?(a.activate("moving-component"),o=a.getAction("moving-component")):s.is(d)||s.parents(d).length?(a.activate("resizing-component"),o=a.getAction("resizing-component")):s.is(f)||s.parents(f).length?(a.activate("resizing-band"),o=a.getAction("resizing-band")):(s.is(m)||s.parents(m).length)&&(a.activate("selection"),o=a.getAction("selection")),e.set("showHelpers",!1),o&&o.start?o.start.call(a,r,l):void 0))},move:function(t){var e=a.getActive();if(a.pageX=t.pageX,a.pageY=t.pageY,e&&!s){if(e=a.getAction(e),!e)return;if(e=e.move)return u(t),e.call(a,t)}},end:function(t){var i,n=a.getActive();return g.cancel.apply(this,arguments),n&&(n=a.getAction(n),n&&(n=n.end,n&&(u(t),i=n.call(a,t)),a.deactivate())),e.set("showHelpers",!0),i},zoomstart:function(t){var e,i=t.touches;return i&&2===i.length?(s=!0,e=Math.sqrt(Math.pow(i[0].clientX-i[1].clientX,2)+Math.pow(i[0].clientY-i[1].clientY,2)),d=e,f=e,!1):null},zoommove:function(t){if(!s)return null;var e=t.touches,i=c([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY]),r=0;return Math.abs(f-i)>50&&(r=i>d?.1:-.1,r=a.report.attr("data-scale")+r,n.trigger("scale-page",r),f=i),d=i,!1},zoomend:function(){s=!1}}}}return l=l||function(){},t.event.special.dblclick={setup:function(){t(this).on(i.isMobile?"touchend.dblclick":"click.dblclick",t.event.special.dblclick.handler)},teardown:function(){var e=t(this);i.isMobile?e.off("touchend.dblclick"):e.off("click.dblclick",t.event.special.dblclick.handler)},handler:function(e){var i,n=t(e.target),r=n.data("lt"),o=+new Date,s=o;r&&(s-=r.time||0,i=c([r.pageX,r.pageY],[e.pageX,e.pageY])),s>20&&s<500&&i<10?(n.data("lt",null),n.trigger("dblclick")):n.data("lt",{time:o,pageX:e.pageX,pageY:e.pageY})}},function(c){var h,p=require("head").$node,d=c.movements;d?h=d.handlers:(d=new u(c),h=d.getHandlers(function(){r.call(this),o.call(this),s.call(this),a.call(this),l.call(this)}),c.movements={data:d.data,handlers:h}),p.off("touchstart touchmove touchend mousedown mousemove mouseup dblclick").on("touchstart",h.start).on("touchmove",h.move).on("touchend",h.end).on("mousedown",function(t){if(0===t.button&&!e.get("scroll-on-space"))return h.start.call(this,t)}).on("mousemove",function(t){if(!e.get("scroll-on-space"))return h.move.call(this,t)}).on("mouseup",function(t){if(!e.get("scroll-on-space"))return h.end.call(this,t)}).on("dblclick",h.dblclick).on("mousedown",".d-report",function(i){if(e.get("scroll-on-space")){var n=t(this);c.$node.addClass("fr-grabbing-page"),n.data("start-scrolling-x",i.pageX).data("start-scrolling-y",i.pageY).data("start-scrolling-pos-left",n.scrollLeft()).data("start-scrolling-pos-top",n.scrollTop())}}).on("mousemove",".d-report",function(e){var i,n,r=t(this),o=r.data("start-scrolling-x"),s=r.data("start-scrolling-y"),a=r.data("start-scrolling-pos-left"),l=r.data("start-scrolling-pos-top");if("undefined"!=typeof o&&"undefined"!=typeof s)return i=o-e.pageX,n=s-e.pageY,r.scrollLeft(a+i),r.scrollTop(l+n),!1}).on("mouseup",".d-report",function(){c.$node.removeClass("fr-grabbing-page"),t(this).removeData("start-scrolling-x").removeData("start-scrolling-y").removeData("start-scrolling-pos-left").removeData("start-scrolling-pos-top")}),i.isMobile?(p.on("touchstart",h.zoomstart),p.on("touchmove",h.zoommove),p.on("touchend",h.zoomend)):(p.off("contextmenu").on("contextmenu",function(t){if(2===t.button)return h.rightClick.call(this,t)}),p.off("mouseover").on("mouseover",h.mouseover),p.off("mouseout").on("mouseout",h.mouseout),p.on("mousewheel DOMMouseScroll",function(t){var e;if(t.ctrlKey)return e=t.originalEvent.detail&&t.originalEvent.detail<0||t.originalEvent.wheelDelta&&t.originalEvent.wheelDelta>0?.1:-.1,n.trigger("scale-page",c.attr("data-scale")+e),!1}))}}),define("res-units/ButtonRect",["jquery","config","utils"],function(t,e,i){"use strict";return function(){var n="d-button-rect",r=t(i.createNS("g",{id:n})),o=t(i.createNS("rect"));return o.css({opacity:e.get("rectButtonOpacity"),fill:e.get("rectButtonFill")}),o.attr({width:e.get("rectButtonWidth"),height:e.get("rectButtonHeight")}),r.append(o),r}}),define("res-units/ResizingBand",["jquery","config","utils"],function(t,e,i){"use strict";return function(n){for(var r,o="d-resizing-band",s=2,a=1,l=5,c="#666666",u=0,h=0,p=e.get("resizingBandBlockWidth"),d=t(i.createNS("g",{id:o}));s>0;s-=1)r=t(i.createNS("line")),r.attr({x1:h,y1:s*l,x2:p,y2:s*l}).css({stroke:c,"stroke-width":a,"stroke-dasharray":"3, 2"}),h+=u,p-=u,d.append(r);return d}}),define("res-units/ButtonCircle",["jquery","utils","config"],function(t,e,i){"use strict";return function(){var n="d-button-circle",r=t(e.createNS("g",{id:n})),o=t(e.createNS("circle"));return o.attr({cx:i.get("circleButtonWidth"),cy:i.get("circleButtonHeight")}),o.attr("r",i.get("circleButtonRadius")),o.css({opacity:i.get("circleButtonOpacity"),fill:i.get("main_color2")||i.get("circleButtonFill")}),r.append(o),r}}),define("res-units/Net",["jquery","config","utils"],function(t,e,i){"use strict";return function(){var n,r,o=e.get("grid"),s="d-net";return n=t(i.createNS("pattern",{
id:s,patternUnits:"userSpaceOnUse",width:o,height:o})),r=t(i.createNS("line",{x1:0,y1:0,x2:o,y2:0,stroke:"gray","stroke-width":1,fill:"none",style:"stroke-dasharray: 1, "+(o-1)+";"})),n.append(r),n}}),define("res-units/BarcodeSprite",["jquery","config","utils"],function(t,e,i){"use strict";return function(){var n,r;return n=t(i.createNS("pattern",{id:"d-barcode-sprite",patternUnits:"userSpaceOnUse",width:2764,height:116})),r=t(i.createNS("image",{x:0,y:0,width:n.attr("width"),height:n.attr("height")})),i.xAttr(r[0],"xlink:href",e.get("images-path",{image:"barcode-sprite.png"})),n.append(r),n}}),define("Report",["jquery","config","utils","Entity","ReportPage","Style","queue","EventEmitter","Collection","movements/movements","res-units/ButtonRect","res-units/ResizingBand","res-units/ButtonCircle","res-units/Net","res-units/BarcodeSprite"],function(t,e,i,n,r,o,s,a,l,c,u,h,p,d,f){"use strict";return i.object(n,{type:"Report",_init:function(){this.prop("Name","Report"),this._id="report"+i.guid(),this.pages=l.create(this),this.styles=l.create(this),this.movements=null,this.unparsedDict=[],this.unparsed=[],this.attr({grid:!0,"data-scale":e.get("scale")||1,title:"Report",info:"Report info",icon:"icon-134",Top:0,Bottom:0,Left:0}),this.defaultValues={"ReportInfo.PreviewPictureRatio":.1,"ReportInfo.SavePreviewPicture":!1,ScriptLanguage:"CSharp",StoreInResources:!0,ConvertNulls:!0,DoublePass:!1,InitialPageNumber:1,UseFillCache:!1,AutoFillDataSet:!0,Compressed:!1,MaxPages:0,SmoothGraphics:!1,TextQuality:"Default","PrintSettings.Collate":!0,"PrintSettings.Copies":1,"PrintSettings.Duplex":"Default","PrintSettings.PageRange":"All","PrintSettings.PagesOnSheet":"One","PrintSettings.PaperSource":7,"PrintSettings.Printer":"Default","PrintSettings.PrintMode":"Default","PrintSettings.PrintOnSheetHeight":297,"PrintSettings.PrintOnSheetRawPaperSize":0,"PrintSettings.PrintOnSheetWidth":210,"PrintSettings.PrintPages":"All","PrintSettings.PrintToFile":!1,"PrintSettings.Reverse":!1,"PrintSettings.SavePrinterWithReport":!1,"PrintSettings.ShowDialog":!0},this.prop({"ReportInfo.Created":new Date,"ReportInfo.Modified":new Date,"ReportInfo.CreatorVersion":"1.0.0.0"}),this.$node=t("<div>"),this.$wrap=t("<div>"),this.$node.append(this.$wrap),this.hide(),this.$node.addClass("d-report"),this.$wrap.addClass("fr-workspace"),this.workspace=i.createNS("svg",{class:"d-rw",viewBox:"0 0 0 0"}),this.$workspace=t(this.workspace),this.$workspace.data("report",this),this.$wrap.append(this.$workspace),this.updateDefs(),this.createCode(),this.$node.on("dragstart",function(){return!1}),c(this),this.attr=function(t,e){var i=this._super.attr.apply(this,arguments);if("left"===t||"top"===t){if("undefined"==typeof e)return this.workspace.getBoundingClientRect()[t];this.$node.css(t,e)}return i}},isReport:function(){return!0},create:function(){var t=this.createObject(this);return t._init(),t},show:function(){return this.$node.removeClass("fr-hidden"),this},hide:function(){return this.$node.addClass("fr-hidden"),this},afterInitShow:function(){return this.pages.eachEntity(function(t){t.afterInitShow(),"undefined"!=typeof t.bands&&t.bands.eachEntity(function(t){t.afterInitShow(),"undefined"!=typeof t.components&&t.components.eachEntity(function(t){t.afterInitShow()})}),"undefined"!=typeof t.components&&t.components.eachEntity(function(t){t.afterInitShow()})}),this},updateDefs:function(){var e=i.createNS("defs");this.$workspace.find("defs").remove(),t(e).append(new u,new h,new p,new d,new f),this.$workspace.append(e)},findContainerForDropping:function(e,i,n){function r(t){var e=".component.droppable-component:first";return t=t||s.parents(e),t.length?t[0].component.canHaveChildren(n.type)?t[0].component:r(t.parents(e)):null}var o,s=t(document.elementFromPoint(e+1,i+1));return o=r(),o||(s=s.parents(".band:first"),o=s.length?s[0].band:null),o},drop:function(t){var e,i,n,r,o=t.$workspace[0].getBoundingClientRect(),s=this.attr("left"),l=this.attr("top"),c=this.attr("data-scale");return t.$g.addClass("fr-hidden"),e=this.findContainerForDropping(o.left,o.top,t)||t.collection.container,t.$g.removeClass("fr-hidden"),t.state.set.call(t,"normal"),i=e.$workspace[0].getBoundingClientRect(),n=o.left-s-(i.left-s),r=o.top-l-(i.top-l),n/=c,r/=c,a.trigger("put-component",e,t,n,r),e},createPage:function(t){var e,n=r.create();return this.pages.add(n),n.report=this,this.$workspace.append(n.$workspace),n.update(),n.render(),n.prop("Name",n.formName("Page")),t||(e=[i.getModule("bands/ReportTitleBand"),i.getModule("bands/PageHeaderBand"),i.getModule("bands/DataBand"),i.getModule("bands/PageFooterBand")],e[0]&&n.addBand(e[0].create()),e[1]&&n.addBand(e[1].create()),e[2]&&n.addBand(e[2].create()),e[3]&&n.addBand(e[3].create())),n},createStyle:function(){var t=o.create();return this.styles.add(t),t.report=this,t},createDialog:function(e){var n,r=i.getModule("Dialog");return r&&(r=r.create(),this.pages.add(r),r.report=this,this.$workspace.append(r.$workspace),r.render(),r.prop("Name",r.formName("Form")),e||(n=i.getModule("controls/ButtonControl"),n&&t.when(a.trigger("add-component","ButtonControl",r,!1,{left:128,top:240}),a.trigger("add-component","ButtonControl",r,!1,{left:211,top:240})).done(function(t,e){t.prop("Text","OK"),e.prop("Text","Cancel"),t.prop("Name",t.formName("btnOk")),e.prop("Name",e.formName("btnCancel")),t.render(),e.render(),r.prop("AcceptButton",t.toString()),r.prop("CancelButton",e.toString()),a.trigger("update-properties-panel",r)}))),r},createCode:function(){var t=i.getModule("Code");return t?(this.code=t.create(),this.pages.add(this.code),this.code.report=this,this.$node.append(this.code.$workspace),this.code):null},removePage:function(t){if(!t)return!1;var e=this.pages.all(["ReportPage","DialogPage"]),i=e[e.indexOf(t)-1];return i||(i=this.pages.last()),t.remove(),a.trigger("activate",i),this},getCurrentPage:function(){return this.pages.current},clear:function(){for(var t=[].concat(this.pages.all()),e=t.length;e--;)this.removePage(t[e]);this.pages.clear(),s.clear(),this.counter.clear()},remove:function(){this.clear(),this.$node.remove()},getComponents:function(e){var i=t();return this.pages.eachEntity(function(t){t.isCode()||t.isDialog()||(i=i.add(t.bands.getComponents(e)))}),i},getCurPageComponents:function(e){var i=this.getCurrentPage(),n=t();return i.isCode()||(n=n.add(i.bands.getComponents(e))),n},findEntity:function(t){var e,i=function(t,e){var i;return Object.keys(e).every(function(n){return i=e[n],t[n]===i||t.attributes[n]===i||t.properties[n]===i})};if(t)return i(this,t)?this:(this.pages.eachEntity(function(n){if(i(n,t))return void(e=n);var r;if(n.bands)n.bands.eachEntity(function(n){return i(n,t)?(e=n,!1):(r=n.components.findOneBy(t),r?(e=r,!1):void 0)});else if(n.components&&(r=n.components.findOneBy(t)))return e=r,!1}),e)},getSelected:function(){var t,e,i=this.getCurrentPage();if(!i)return null;if(t=n.getSelected())return t;if(e=i.bands||i.components,!i.isCode()){if(t=e.getSelectedComponents(),t.length>1)return null;t=t[0],!t&&e.getSelectedBand&&(t=e.getSelectedBand())}return t||i.attr("activated")?i:this},fillProps:function(t){return n.fillProps.apply(this,arguments),t.attr("ReportInfo.Created")&&this.prop("ReportInfo.Created",new Date(t.attr("ReportInfo.Created"))),t.attr("ReportInfo.Modified")&&this.prop("ReportInfo.Modified",new Date(t.attr("ReportInfo.Modified"))),this},toXML:function(e){var r,o=t.parseXML("<Report/>"),s=t(o.createElement("Styles")),a=t(o.createElement("Dictionary"));return e=i.extend({parentNode:o},e),r=t(n.toXML.call(this,e)),r.attr("ReportInfo.Picture")&&r.attr("ReportInfo.Picture",r.attr("ReportInfo.Picture").replace(/^([\w:\/;]+base64,){1}/,"")),this.styles&&this.styles.count()&&(e.parentNode=s[0],this.styles.eachEntity(function(t){s.append(t.toXML(e))}),r.append(s)),e.parentNode=a[0],this.connections&&this.connections.eachEntity(function(t){a.append(t.toXML(e))}),this.dataSources&&this.dataSources.eachEntity(function(t){a.append(t.toXML(e))}),this.relations&&this.relations.eachEntity(function(t){a.append(t.toXML(e))}),this.parameters&&this.parameters.eachEntity(function(t){a.append(t.toXML(e))}),this.totals&&this.totals.eachEntity(function(t){a.append(t.toXML(e))}),t.each(this.unparsedDict,function(){a.append(t(this))}),r.append(a),e.parentNode=r[0],this.pages.eachEntity(function(t){r.append(t.toXML(e))}),t.each(this.unparsed,function(){r.append(t(this))}),o.documentElement.appendChild(r[0]),r[0]}})}),define("ConnectionCollection",["jquery","utils","Collection"],function(t,e,i){"use strict";return e.object(i,{pullDSByView:function(t){var e;return this.eachEntity(function(i){if(e=i.dataSources.pullByView(t))return!1}),e}})}),define("DataSourceCollection",["jquery","utils","Collection"],function(t,e,i){"use strict";return e.object(i,{everyEntity:function(t){for(var e=this.all(),i=e.length,n=0;n<i;n+=1)if(t.call(this,e[n],n)===!1||e[n].dataSources.count()&&e[n].dataSources.everyEntity(t)===!1)return!1;return this},pullByView:function(t){var e;if("undefined"==typeof t)throw new Error("view must be defined");return e=t.match(/^\[([^.]+)./),e=e&&e[1]?e[1]:t,e?this.container.dataSources.findOneAmongAll({Alias:e})||this.container.dataSources.findOneAmongAll({Name:e}):null}})}),define("ParameterCollection",["jquery","utils","Collection"],function(t,e,i){"use strict";return e.object(i,{everyEntity:function(t){for(var e=this.all(),i=e.length,n=0;n<i;n+=1)if(t.call(this,e[n],n)===!1||e[n].parameters.count()&&e[n].parameters.everyEntity(t)===!1)return!1;return this},findBy:function(t){var e,i,n,r=[],o=Object.keys(t),s=o.length;return this.everyEntity(function(a){for(e=s;e--;)if(i=o[e],n=t[i],a[i]!==n&&a.attr(i)!==n)return;r.push(a)}),r},remove:function(e){return!!e&&(t.each(e.parameters.entities,function(){this.parameters.remove(this)}),this.entities.removeByValue(e),this)}})}),define("data/Connection",["jquery","utils","Entity","DataSourceCollection","properties/properties"],function(t,e,i,n,r){"use strict";return i.createObject(i,{icon:"icon-053",_init:function(t){this._id="conn"+e.guid(),this.type=t,this.dataSources=n.create(this),this.defaultValues={CommandTimeout:30,ConnectionStringExpression:"",LoginPrompt:!1},this.prop("Name","Connection")},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t},isConnection:function(){return!0},fillMap:function(){this.fieldMap=r.factory(["Design:Name","Design:Alias","Design:Restrictions"]),this.mainFields=[["Design:Name"]]},remove:function(){this.attr("removed",!0)},toXML:function(i){var n,r=t(i.parentNode.ownerDocument.createElement(this.type));return i=e.extend({},i),this.eachProp(function(t,e){r.attr(t,e)}),i.parentNode=r[0],this.dataSources.eachEntity(function(t){n=t.toXML(i),n&&r.append(n)}),r[0]},toString:function(){return this.prop("Alias")||this.prop("Name")}})}),define("data/DataItem",["jquery","utils","Entity","data/dataTypes"],function(t,e,i,n){"use strict";return e.object(i,{_init:function(){},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t},remove:function(){this.attr("removed",!0)},getView:function(t){for(var e,i=t.parents(".rt-node:not(:last)"),n=0,r=i.length,o="";n<r;n+=1)e=i[n].element,e.isConnection()||(o=e.toString()+"."+o);return o=o.replace(/\.$/,"")},isParameter:function(){return!1},isColumn:function(){return!1},isDataSource:function(){return!1},isTotal:function(){return!1},createColumn:function(t){var e=(t||this).create();return this.columns.add(e),e},createName:function(){this.prop("Name",this.formName())},updateBindableControl:function(){var t=this.prop("BindableControl")||"Text";"Custom"===t&&(t="Text"),this.bindableControl=t+"Object"},fillProps:function(t){return i.fillProps.apply(this,arguments),t.attr("DataType")&&this.prop("DataType",n.get(t.attr("DataType"))),this},toXML:function(i){var n=t(i.parentNode.ownerDocument.createElement(this.type)),r=this.prop("DataType");return i=e.extend({parentNode:n[0]},i),i.includeId&&n.attr("data-entity-id",this._id),this.deleteProp("DataType"),this.eachProp(function(t,e){n.attr(t,e)}),r&&(n.attr("DataType","string"==typeof r?r:r.dataType),this.prop("DataType",r)),this.columns&&this.columns.eachEntity(function(t){n.append(t.toXML(i))}),this.dataSources&&this.dataSources.eachEntity(function(t){n.append(t.toXML(i))}),this.unparsed&&t.each(this.unparsed,function(){n.append(this)}),this.parameters&&this.parameters.eachEntity(function(t){n.append(t.toXML(i))}),n[0]},toString:function(){return this.prop("Alias")||this.prop("Name")}})}),define("data/Column",["jquery","utils","EventEmitter","data/DataItem","data/dataTypes","Collection","DataSourceCollection","properties/properties"],function(t,e,i,n,r,o,s,a){"use strict";return e.object(n,{type:"Column",_init:function(){this._id="tdscol"+e.guid(),this.columns=o.create(this),this.dataSources=s.create(this),this.defaultValues={Calculated:!1,BindableControl:"Text"},this.prop({Name:"Column",Alias:"",DataType:r.get("System.Int32"),Expression:""}),this.updateBindableControl()},fillMap:function(){this.fieldMap=a.factory(["Data:DataType",{prop:"Design:Name",afterSetValue:function(){i.trigger("update-data-panel")}},"Design:Alias","Design:Restrictions"]),this.mainFields=[["Design:Name","Data:DataType"]]},isColumn:function(){return!0}})}),define("data/DataSource",["jquery","utils","Collection","DataSourceCollection","data/DataItem","data/Column","data/dataTypes","properties/properties"],function(t,e,i,n,r,o,s,a){"use strict";var l={default:["Data:Parameters","Data:SelectCommand","Data:StoreData","Data:TableName","Design:Name","Design:Alias","Design:Restrictions","Misc:ForceLoadData"],BusinessObjectDataSource:["Design:Name","Design:Alias","Design:Restrictions","Misc:ForceLoadData"]};return e.object(r,{icon:"icon-tds",_init:function(t){this._id="tds"+e.guid(),this.type=t,this.dataSources=n.create(this),this.columns=i.create(this),this.defaultValues={ForceLoadData:!1,StoreData:!1},this.prop({Name:"DataSource",DataType:s.get("System.Int32")}),this.unparsed=[]},fillMap:function(){this.fieldMap=a.factory(l[this.type]||l.default),this.mainFields=[["Design:Name"]]},isDataSource:function(){return!0},createColumn:function(){return r.createColumn.call(this,o)}})}),define("data/Parameter",["jquery","utils","EventEmitter","ParameterCollection","data/DataItem","data/dataTypes","properties/properties"],function(t,e,i,n,r,o,s){"use strict";return e.object(r,{type:"Parameter",_init:function(){this._id="p"+e.guid(),this.parameters=n.create(this),this.editable=[function(t){i.trigger("create-parameter",t)},function(t){i.trigger("remove-parameter",t)}],this.defaultValues={Expression:""},this.prop({Name:"Parameter",DataType:o.get("System.String")}),this.bindableControl="TextObject"},fillMap:function(){this.fieldMap=s.factory(["Data:DataType",{prop:"Design:Name",afterSetValue:function(){i.trigger("update-data-panel")}}]),this.mainFields=[["Design:Name"],["Data:DataType"]]},isParameter:function(){return!0}})}),define("data/Relation",["jquery","utils","Entity","EventEmitter","properties/properties"],function(t,e,i,n,r){"use strict";function o(){var t=require("currentReport"),e=t.dataSources.allWithChildren(),i=t.connections;return i.everyEntity(function(t){e=[].concat(e,t.dataSources.allWithChildren())}),e.unshift(" "),e}return e.object(i,{type:"Relation",icon:"icon-058",_init:function(){this._id="rel"+e.guid(),this.defaultValues={Restrictions:"none"},this.prop({Name:"",Alias:""}),this.attr({_ChildDataSource:null,_ParentDataSource:null})},create:function(){var t=this.createObject(this);return t._init.apply(t,arguments),t},fillMap:function(){this.fieldMap=r.factory([{prop:"Data:ChildColumns",type:"textarea",attrs:{rows:3}},{prop:"Data:ChildDataSource",type:"select",collection:o,getValue:function(){var t=this.attr("_ChildDataSource");if(t)return t.toString()},setValue:function(t,e){var i=require("currentReport"),r=i.dataSources.findOneBy({Alias:e});r?this.prop(t,r.prop("Name")):this.prop(t,e),this.update(),n.trigger("update-data-panel")}},{prop:"Data:ParentColumns",type:"textarea",attrs:{rows:3}},{prop:"Data:ParentDataSource",type:"select",collection:o,getValue:function(){var t=this.attr("_ParentDataSource");if(t)return t.toString()},setValue:function(t,e){var i=require("currentReport"),r=i.dataSources.findOneBy({Alias:e});r?this.prop(t,r.prop("Name")):this.prop(t,e),this.update(),n.trigger("update-data-panel")}},{prop:"Design:Name",afterSetValue:function(){n.trigger("update-data-panel")}},"Design:Alias","Design:Restrictions"]),this.mainFields=[["Design:Name","Design:Alias"],["Data:ChildDataSource","Data:ParentDataSource"]]},update:function(){var t,e,i=require("currentReport");t=i.dataSources.findOneBy({Name:this.prop("ChildDataSource")}),e=this.attr("_ChildDataSource"),e&&(e.asChildIn=e.asChildIn||[],e.asChildIn.removeByValue(this)),t&&(this.attr("_ChildDataSource",t),t.asChildIn=t.asChildIn||[],t.asChildIn.indexOf(this)===-1&&t.asChildIn.push(this)),t=i.dataSources.findOneBy({Name:this.prop("ParentDataSource")}),e=this.attr("_ParentDataSource"),e&&(e.asParentIn=e.asParentIn||[],e.asParentIn.removeByValue(this)),t&&(this.attr("_ParentDataSource",t),t.asParentIn=t.asParentIn||[],t.asParentIn.indexOf(this)===-1&&t.asParentIn.push(this))},isRelation:function(){return!0},toString:function(){var t=this.attr("_ParentDataSource"),e="";return t&&(e=t.toString()),e}})}),define("data/Total",["jquery","utils","EventEmitter","data/DataItem","properties/properties"],function(t,e,i,n,r){"use strict";return e.object(n,{type:"Total",icon:"icon-132",_init:function(){this._id="t"+e.guid(),this.editable=[function(t){i.trigger("create-total",t)},function(t){i.trigger("remove-total",t)}],this.defaultValues={IncludeInvisibleRows:!1,ResetAfterPrint:!0,ResetOnReprint:!0,TotalType:"Sum",Evaluator:"",PrintOn:""},this.prop("Name","Total"),this.bindableControl="TextObject"},fillMap:function(){this.fieldMap=r.factory([{prop:"Behavior:IncludeInvisibleRows",type:"checkbox"},{prop:"Behavior:ResetAfterPrint",type:"checkbox"},{prop:"Behavior:ResetOnReprint",type:"checkbox"},{prop:"Design:Name",afterSetValue:function(){i.trigger("update-data-panel")}},{prop:"Data:EvaluateCondition",type:"text",expression:!0},{prop:"Data:Evaluator",type:"select",collection:function(){var e,i,n=[],r=require("currentReport").pages.all(["ReportPage"]),o=function(t){return t.prop("Name")};for(e=0,i=r.length;e<i;e+=1)[].push.apply(n,t.map(r[e].bands.allWithChildren(["DataBand"]),o));return n.unshift(""),n}},{prop:"Data:Expression",type:"text",expression:!0},{prop:"Data:PrintOn",type:"select",collection:function(){var e=t.map(require("currentReport").getCurrentPage().bands.allWithChildren(),function(t){return t.prop("Name")});return e.unshift(""),e}},{prop:"Data:TotalType",type:"select",collection:["Sum","Min","Max","Avg","Count"]}]),this.mainFields=[["Design:Name"]]},isTotal:function(){return!0}})}),define("data/systemVariables",["jquery","utils","Entity","data/dataTypes","properties/properties"],function(t,e,i,n,r){"use strict";function o(){var t={},e=r.factory(["Data:DataType","Design:Name"]),i=[["Design:Name"],["Data:DataType"]],o=function(){return this.prop("Name")};return t.Date={init:function(){this.prop({Name:"Date",DataType:n.get("System.DateTime")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t.Page={init:function(){this.prop({Name:"Page",DataType:n.get("System.Char")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t.TotalPages={init:function(){this.prop({Name:"TotalPages",DataType:n.get("System.Int32")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t.PageN={init:function(){this.prop({Name:"PageN",DataType:n.get("System.String")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t.PageNofM={init:function(){this.prop({Name:"PageNofM",DataType:n.get("System.String")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t["Row#"]={init:function(){this.prop({Name:"Row#",DataType:n.get("System.Int32")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t["AbsRow#"]={init:function(){this.prop({Name:"AbsRow#",DataType:n.get("System.Int32")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t["Page#"]={init:function(){this.prop({Name:"Page#",DataType:n.get("System.Int32")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t["TotalPages#"]={init:function(){this.prop({Name:"TotalPages#",DataType:n.get("System.Int32")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t["CopyName#"]={init:function(){this.prop({Name:"CopyName#",DataType:n.get("System.String")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t.HierarchyLevel={init:function(){this.prop({Name:"HierarchyLevel",DataType:n.get("System.Int32")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t["HierarchyRow#"]={init:function(){this.prop({Name:"HierarchyRow#",DataType:n.get("System.String")})},bindableControl:"TextObject",fieldMap:e,mainFields:i,getView:o},t}return e.object(i,{entities:[],create:function(){var e=this.createObject(this);return e.attr("icon","icon-060"),t.each(o(),function(){e.add(i.createObject(e,this))}),e},add:function(){var e=this.entities,i=[].slice.call(arguments);t.each(i,function(){e.push(this)})},get:function(e){return t.grep(this.entities,function(t){return t.prop("Name")===e})[0]}})}),define("data/Functions",["jquery","utils","config"],function(t,e,i){"use strict";return function(){var n=2,r=0;this.bindableControl="TextObject",this.icon="icon-052",this.entities=function(){var o=t.Deferred(),s={},a=function(i,n){var r,o=i.children(),s=i.attr("Name");return o.length?void(s?(n[s]={label:s,icon:"icon-066",fields:{}},o.each(function(){a(t(this),n[s].fields)})):o.each(function(){a(t(this),n)})):void(s&&(r=i.attr("Description"),n[s]={label:s,icon:null,interface:e.reverseEscapeHTML(r),view:function(t){var e=/([\w]+){1}(\([\s\S]+\))?/gi.exec(t);return e?e[1]&&!e[2]?e[1]+"()":e[1]+"({0})".format(new Array(e[2].substring(1,e[2].length-1).split(",").length).join(",")):t}(s),bindableControl:"TextObject"}))};return r>=n?o.reject(new Error(1),"Functions"):t.get(i.get("getFunctions",{id:require("currentReport")._id})).done(function(e){var i;t(e).find("ReportFunctions").each(function(){i=t(this),a(i,s),o.resolve(s)})}).fail(function(t){r+=1,o.reject(t,"Functions")}),o.promise()}}}),define("cstn/Data/ext",["jquery","utils","Report","Collection","ConnectionCollection","DataSourceCollection","ParameterCollection","data/Connection","data/DataSource","data/Parameter","data/Relation","data/Total","data/systemVariables","data/Functions"],function(t,e,i,n,r,o,s,a,l,c,u,h,p,d){"use strict";var f=i._init;e.extend(i,{_init:function(){f.apply(this,arguments),this.connections=r.create(this),this.relations=n.create(this),this.dataSources=o.create(this),this.parameters=s.create(this),this.systemVariables=p.create(),this.functions=new d,this.totals=n.create(this)},createDataSource:function(t,e){var i=l.create(t);return e?e.dataSources.add(i):this.dataSources.add(i),i},createRelation:function(){var t=u.create();return this.relations.add(t),t},createTotal:function(){var t=h.create();return this.totals.add(t),t.createName(),t},createConnection:function(t){var e=a.create(t);return this.connections.add(e),e},createParameter:function(t){var e=t&&t.parameters||this.parameters,i=c.create();return e.add(i),i.createName(),i}})}),define("cstn/Data/Main",["jquery","utils","EventEmitter","expression","l10n","cstn/Data/ext"],function(t,e,i,n,r){"use strict";var o=e.object({pos:5,className:"data",icon:"icon-053",titleText:r.tr("Data"),create:function(){var e=n.getMenu();return this.$body=e,this.$title=t("<div>"),this.$title.text(this.titleText),this},bindEvents:function(){this.$body.on("click",".rt-content",function(){var e=t(this).parent()[0].element;return!!e&&(!e.fieldMap&&e.fillMap&&e.fillMap(),void(e.isEntity&&e.isEntity()&&(i.trigger("update-properties-panel",e),i.trigger("update-events-panel",e))))}),i.bind("update-data-panel",function(){o.update()}),i.bind("create-parameter",function(t){require("currentReport").createParameter(t),i.trigger("update-data-panel")}),i.bind("remove-parameter",function(t){t.remove(),i.trigger("update-data-panel")}),i.bind("create-total",function(){require("currentReport").createTotal(),i.trigger("update-data-panel")}),i.bind("remove-total",function(t){t.remove(),i.trigger("update-data-panel")})},update:function(){this.$body.html(n.getMenu().children())}});return o}),define("field-properties/base",["jquery","utils"],function(t,e){"use strict";return e.object(null,{build:function(t,i,n){var r=e.object(this);return r.field=t,r.$label=i,r.$body=n,r.create.apply(r,arguments),r},isValid:function(){return!0},getValue:function(t){return t=t||this.$control,Number(t.val())||t.val()},getProp:function(){return this.field.prop}})}),define("field-properties/select",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e){var i,n=e.collection,r=e.value&&e.value.label||e.value,o=this;o.$control=t("<select>"),"function"==typeof n&&(n=n.call(e.element,e)),t.isArray(n)||t.isPlainObject(n)||(n=[]),e.multiple&&(r&&"string"==typeof r&&(r=r.split(",")),o.$control.attr("multiple",!0)),t.each(n,function(e,n){i=t("<option>"),"string"!=typeof e&&(e=n),e=e.label||e,i.val(e),i.text(e),e.toString()!==r&&t.inArray(e,r)===-1||i.attr("selected",!0),o.$control.append(i)})},getValue:function(e){var i=[];return e=e||this.$control,t("option:selected",e).each(function(){i.push(t(this).val())}),1===i.length?i[0]:i}})}),define("field-properties/textarea",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e){this.$control=t("<textarea>"),this.$control.val(e.value)}})}),define("field-properties/checkbox",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e,i,n){this.$control=t("<input/>"),this.$control.attr({type:"checkbox",checked:e.value})},getValue:function(t){return t=t||this.$control,t.prop("checked")}})}),define("field-properties/unit",["jquery","utils","unit","field-properties/base"],function(t,e,i,n){"use strict";return e.object(n,{create:function(e){this.$control=t("<input/>"),this.$control.attr("type","number"),this.$control.val(i.toUnit(e.value)||e.defaultValue)},isValid:function(t){return e.isFloat(t)||e.isInteger(t)},getValue:function(t,e){var n;return t=t||this.$control,n=parseFloat(i.toPx(t.val()),10),e&&(n=i.toUnit(n)),n}})}),define("field-properties/file",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";var n;return e.object(i,{create:function(i){n=t.Deferred(),this.$control=t("<input/>"),this.$control.attr("type",i.type),this.$control.on("change",function(){e.readURL(this,function(t){n.resolve(t.target.result)})})},getValue:function(t){return n.promise()}})}),define("field-properties/event",["jquery","utils","field-properties/base","EventEmitter"],function(t,e,i,n){"use strict";return e.object(i,{create:function(e,i,r){var o=t("<input/>");this.$control=t("<input/>"),this.$control.attr("type","text"),this.$control.val(e.value),this.$control.css({width:"80%",display:"inline-block"}),this.$control.addClass("d-fc-exp-input"),o.attr("type","button"),o.addClass("d-fc-exp-but"),o.attr("tabindex","-1"),o.val("..."),r.append(this.$control,o),o.on("click",function(){n.trigger("procedure",e.element,e)})}})}),define("field-properties/datetime",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e){var i=e.value;this.$control=t("<input/>"),this.$control.datepicker(),this.$control.datepicker("setDate",i)},getValue:function(t){var e;return t=t||this.$control,e=t.val(),new Date(e)}})}),function(t){"use strict";"function"==typeof define&&define.amd?define("spectrum",["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t:t(jQuery)}(function(t,e){"use strict";function i(e,i,n,r){for(var o=[],s=0;s<e.length;s++){var a=e[s];if(a){var l=tinycolor(a),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(i,a)?" sp-thumb-active":"";var u=l.toString(r.preferredFormat||"rgb"),h=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var p="sp-clear-display";o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+p+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function n(){for(var t=0;t<f.length;t++)f[t]&&f[t].hide()}function r(e,i){var n=t.extend({},d,e);return n.callbacks={move:c(n.move,i),change:c(n.change,i),show:c(n.show,i),hide:c(n.hide,i),beforeShow:c(n.beforeShow,i)},n}function o(o,a){function c(){if(q.showPaletteOnly&&(q.showPalette=!0),$t.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),q.palette){ht=q.palette.slice(0),pt=t.isArray(ht[0])?ht:[ht],dt={};for(var e=0;e<pt.length;e++)for(var i=0;i<pt[e].length;i++){var n=tinycolor(pt[e][i]).toRgbString();dt[n]=!0}}Ct.toggleClass("sp-flat",G),Ct.toggleClass("sp-input-disabled",!q.showInput),Ct.toggleClass("sp-alpha-enabled",q.showAlpha),Ct.toggleClass("sp-clear-enabled",Xt),Ct.toggleClass("sp-buttons-disabled",!q.showButtons),Ct.toggleClass("sp-palette-buttons-disabled",!q.togglePaletteOnly),Ct.toggleClass("sp-palette-disabled",!q.showPalette),Ct.toggleClass("sp-palette-only",q.showPaletteOnly),Ct.toggleClass("sp-initial-disabled",!q.showInitial),Ct.addClass(q.className).addClass(q.containerClassName),O()}function d(){function e(e){return e.data&&e.data.ignore?(A(t(e.target).closest(".sp-thumb-el").data("color")),F()):(A(t(e.target).closest(".sp-thumb-el").data("color")),F(),I(!0),q.hideAfterPaletteSelect&&E()),!1}if(g&&Ct.find("*:not(input)").attr("unselectable","on"),c(),Ot&&yt.after(Ht).hide(),Xt||Nt.hide(),G)yt.after(Ct).hide();else{var i="parent"===q.appendTo?yt.parent():t(q.appendTo);1!==i.length&&(i=t("body")),i.append(Ct)}y(),Wt.bind("click.spectrum touchstart.spectrum",function(e){xt||D(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(yt.is(":disabled")||q.disabled===!0)&&z(),Ct.click(l),Et.change(T),Et.bind("paste",function(){setTimeout(T,1)}),Et.keydown(function(t){13==t.keyCode&&T()}),Lt.text(q.cancelText),Lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),B(),E()}),Nt.attr("title",q.clearText),Nt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Kt=!0,F(),G&&I(!0)}),Ft.text(q.chooseText),Ft.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),g&&Et.is(":focus")&&Et.trigger("change"),N()&&(I(!0),E())}),$t.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),$t.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),q.showPaletteOnly=!q.showPaletteOnly,q.showPaletteOnly||G||Ct.css("left","-="+(wt.outerWidth(!0)+5)),c()}),u(Mt,function(t,e,i){ut=t/rt,Kt=!1,i.shiftKey&&(ut=Math.round(10*ut)/10),F()},_,S),u(St,function(t,e){at=parseFloat(e/it),Kt=!1,q.showAlpha||(ut=1),F()},_,S),u(kt,function(t,e,i){if(i.shiftKey){if(!vt){var n=lt*J,r=tt-ct*tt,o=Math.abs(t-n)>Math.abs(e-r);vt=o?"x":"y"}}else vt=null;var s=!vt||"x"===vt,a=!vt||"y"===vt;s&&(lt=parseFloat(t/J)),a&&(ct=parseFloat((tt-e)/tt)),Kt=!1,q.showAlpha||(ut=1),F()},_,S),zt?(A(zt),$(),Gt=qt||tinycolor(zt).format,x(zt)):$(),G&&M();var n=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Bt.delegate(".sp-thumb-el",n,e),At.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}function y(){if(K&&window.localStorage){try{var e=window.localStorage[K].split(",#");e.length>1&&(delete window.localStorage[K],t.each(e,function(t,e){x(e)}))}catch(t){}try{ft=window.localStorage[K].split(";")}catch(t){}}}function x(e){if(U){var i=tinycolor(e).toRgbString();if(!dt[i]&&t.inArray(i,ft)===-1)for(ft.push(i);ft.length>gt;)ft.shift();
if(K&&window.localStorage)try{window.localStorage[K]=ft.join(";")}catch(t){}}}function C(){var t=[];if(q.showPalette)for(var e=0;e<ft.length;e++){var i=tinycolor(ft[e]).toRgbString();dt[i]||t.push(ft[e])}return t.reverse().slice(0,q.maxSelectionSize)}function w(){var e=L(),n=t.map(pt,function(t,n){return i(t,e,"sp-palette-row sp-palette-row-"+n,q)});y(),ft&&n.push(i(C(),e,"sp-palette-row sp-palette-row-selection",q)),Bt.html(n.join(""))}function k(){if(q.showInitial){var t=Vt,e=L();At.html(i([t,e],e,"sp-palette-row-initial",q))}}function _(){(tt<=0||J<=0||it<=0)&&O(),Ct.addClass(mt),vt=null,yt.trigger("dragstart.spectrum",[L()])}function S(){Ct.removeClass(mt),yt.trigger("dragstop.spectrum",[L()])}function T(){var t=Et.val();if(null!==t&&""!==t||!Xt){var e=tinycolor(t);e.isValid()?(A(e),I(!0)):Et.addClass("sp-validation-error")}else A(null),I(!0)}function D(){Q?E():M()}function M(){var e=t.Event("beforeShow.spectrum");return Q?void O():(yt.trigger(e,[L()]),void(Y.beforeShow(L())===!1||e.isDefaultPrevented()||(n(),Q=!0,t(bt).bind("click.spectrum",P),t(window).bind("resize.spectrum",Z),Ht.addClass("sp-active"),Ct.removeClass("sp-hidden"),O(),$(),Vt=L(),k(),Y.show(Vt),yt.trigger("show.spectrum",[Vt]))))}function P(t){2!=t.button&&(Ut?I(!0):B(),E())}function E(){Q&&!G&&(Q=!1,t(bt).unbind("click.spectrum",P),t(window).unbind("resize.spectrum",Z),Ht.removeClass("sp-active"),Ct.addClass("sp-hidden"),Y.hide(L()),yt.trigger("hide.spectrum",[L()]))}function B(){A(Vt,!0)}function A(t,e){if(tinycolor.equals(t,L()))return void $();var i,n;!t&&Xt?Kt=!0:(Kt=!1,i=tinycolor(t),n=i.toHsv(),at=n.h%360/360,lt=n.s,ct=n.v,ut=n.a),$(),i&&i.isValid()&&!e&&(Gt=qt||i.getFormat())}function L(t){return t=t||{},Xt&&Kt?null:tinycolor.fromRatio({h:at,s:lt,v:ct,a:Math.round(100*ut)/100},{format:t.format||Gt})}function N(){return!Et.hasClass("sp-validation-error")}function F(){$(),Y.move(L()),yt.trigger("move.spectrum",[L()])}function $(){Et.removeClass("sp-validation-error"),R();var t=tinycolor.fromRatio({h:at,s:1,v:1});kt.css("background-color",t.toHexString());var e=Gt;ut<1&&(0!==ut||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var i=L({format:e}),n="";if(jt.removeClass("sp-clear-display"),jt.css("background-color","transparent"),!i&&Xt)jt.addClass("sp-clear-display");else{var r=i.toHexString(),o=i.toRgbString();if(m||1===i.alpha?jt.css("background-color",o):(jt.css("background-color","transparent"),jt.css("filter",i.toFilter())),q.showAlpha){var s=i.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+r+")";g?Dt.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(Dt.css("background","-webkit-"+l),Dt.css("background","-moz-"+l),Dt.css("background","-ms-"+l),Dt.css("background","linear-gradient(to right, "+a+", "+r+")"))}n=i.toString(e)}q.showInput&&Et.val(n),q.showPalette&&w(),k()}function R(){var t=lt,e=ct;if(Xt&&Kt)Pt.hide(),Tt.hide(),_t.hide();else{Pt.show(),Tt.show(),_t.show();var i=t*J,n=tt-e*tt;i=Math.max(-et,Math.min(J-et,i-et)),n=Math.max(-et,Math.min(tt-et,n-et)),_t.css({top:n+"px",left:i+"px"});var r=ut*rt;Pt.css({left:r-ot/2+"px"});var o=at*it;Tt.css({top:o-st+"px"})}}function I(t){var e=L(),i="",n=!tinycolor.equals(e,Vt);e&&(i=e.toString(Gt),x(e)),Rt&&yt.val(i),t&&n&&(Y.change(e),yt.trigger("change",[e]))}function O(){J=kt.width(),tt=kt.height(),et=_t.height(),nt=St.width(),it=St.height(),st=Tt.height(),rt=Mt.width(),ot=Pt.width(),G||(Ct.css("position","absolute"),q.offset?Ct.offset(q.offset):Ct.offset(s(Ct,Wt))),R(),q.showPalette&&w(),yt.trigger("reflow.spectrum")}function H(){yt.show(),Wt.unbind("click.spectrum touchstart.spectrum"),Ct.remove(),Ht.remove(),f[Yt.id]=null}function W(i,n){return i===e?t.extend({},q):n===e?q[i]:(q[i]=n,void c())}function j(){xt=!1,yt.attr("disabled",!1),Wt.removeClass("sp-disabled")}function z(){E(),xt=!0,yt.attr("disabled",!0),Wt.addClass("sp-disabled")}function V(t){q.offset=t,O()}var q=r(a,o),G=q.flat,U=q.showSelectionPalette,K=q.localStorageKey,X=q.theme,Y=q.callbacks,Z=h(O,10),Q=!1,J=0,tt=0,et=0,it=0,nt=0,rt=0,ot=0,st=0,at=0,lt=0,ct=0,ut=1,ht=[],pt=[],dt={},ft=q.selectionPalette.slice(0),gt=q.maxSelectionSize,mt="sp-dragging",vt=null,bt=o.ownerDocument,yt=(bt.body,t(o)),xt=!1,Ct=t(b,bt).addClass(X),wt=Ct.find(".sp-picker-container"),kt=Ct.find(".sp-color"),_t=Ct.find(".sp-dragger"),St=Ct.find(".sp-hue"),Tt=Ct.find(".sp-slider"),Dt=Ct.find(".sp-alpha-inner"),Mt=Ct.find(".sp-alpha"),Pt=Ct.find(".sp-alpha-handle"),Et=Ct.find(".sp-input"),Bt=Ct.find(".sp-palette"),At=Ct.find(".sp-initial"),Lt=Ct.find(".sp-cancel"),Nt=Ct.find(".sp-clear"),Ft=Ct.find(".sp-choose"),$t=Ct.find(".sp-palette-toggle"),Rt=yt.is("input"),It=Rt&&"color"===yt.attr("type")&&p(),Ot=Rt&&!G,Ht=Ot?t(v).addClass(X).addClass(q.className).addClass(q.replacerClassName):t([]),Wt=Ot?Ht:yt,jt=Ht.find(".sp-preview-inner"),zt=q.color||Rt&&yt.val(),Vt=!1,qt=q.preferredFormat,Gt=qt,Ut=!q.showButtons||q.clickoutFiresChange,Kt=!zt,Xt=q.allowEmpty&&!It;d();var Yt={show:M,hide:E,toggle:D,reflow:O,option:W,enable:j,disable:z,offset:V,set:function(t){A(t),I()},get:L,destroy:H,container:Ct};return Yt.id=f.push(Yt)-1,Yt}function s(e,i){var n=0,r=e.outerWidth(),o=e.outerHeight(),s=i.outerHeight(),a=e[0].ownerDocument,l=a.documentElement,c=l.clientWidth+t(a).scrollLeft(),u=l.clientHeight+t(a).scrollTop(),h=i.offset();return h.top+=s,h.left-=Math.min(h.left,h.left+r>c&&c>r?Math.abs(h.left+r-c):0),h.top-=Math.min(h.top,h.top+o>u&&u>o?Math.abs(o+s-n):n),h}function a(){}function l(t){t.stopPropagation()}function c(t,e){var i=Array.prototype.slice,n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function u(e,i,n,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(u){if(g&&c.documentMode<9&&!t.button)return l();var n=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],r=n&&n.pageX||t.pageX,s=n&&n.pageY||t.pageY,a=Math.max(0,Math.min(r-h.left,d)),m=Math.max(0,Math.min(s-h.top,p));f&&o(t),i.apply(e,[a,m,t])}}function a(i){var r=i.which?3==i.which:2==i.button;r||u||n.apply(e,arguments)!==!1&&(u=!0,p=t(e).height(),d=t(e).width(),h=t(e).offset(),t(c).bind(m),t(c.body).addClass("sp-dragging"),f||s(i),o(i))}function l(){u&&(t(c).unbind(m),t(c.body).removeClass("sp-dragging"),r.apply(e,arguments)),u=!1}i=i||function(){},n=n||function(){},r=r||function(){};var c=document,u=!1,h={},p=0,d=0,f="ontouchstart"in window,m={};m.selectstart=o,m.dragstart=o,m["touchmove mousemove"]=s,m["touchend mouseup"]=l,t(e).bind("touchstart mousedown",a)}function h(t,e,i){var n;return function(){var r=this,o=arguments,s=function(){n=null,t.apply(r,o)};i&&clearTimeout(n),!i&&n||(n=setTimeout(s,e))}}function p(){return t.fn.spectrum.inputTypeColorSupport()}var d={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},f=[],g=!!/msie/i.exec(window.navigator.userAgent),m=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),i=e.style;return i.cssText="background-color:rgba(0,0,0,.5)",t(i.backgroundColor,"rgba")||t(i.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(g)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";t.fn.spectrum=function(e,i){if("string"==typeof e){var n=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=f[t(this).data(y)];if(i){var o=i[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=i.get():"container"==e?n=i.container:"option"==e?n=i.option.apply(i,r):"destroy"==e?(i.destroy(),t(this).removeData(y)):o.apply(i,r)}}),n}return this.spectrum("destroy").each(function(){var i=t.extend({},e,t(this).data()),n=o(this,i);t(this).data(y,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=u,t.fn.spectrum.defaults=d,t.fn.spectrum.inputTypeColorSupport=function e(){if("undefined"==typeof e._cachedResult){var i=t("<input type='color' value='!' />")[0];e._cachedResult="color"===i.type&&"!"!==i.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!p()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var i={r:0,g:0,b:0},r=1,s=!1,a=!1;return"string"==typeof t&&(t=A(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(i=e(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=P(t.s),t.v=P(t.v),i=o(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=P(t.s),t.l=P(t.l),i=n(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=w(r),{ok:s,format:t.format||a,r:I(255,O(i.r,0)),g:I(255,O(i.g,0)),b:I(255,O(i.b,0)),a:r}}function e(t,e,i){return{r:255*k(t,255),g:255*k(e,255),b:255*k(i,255)}}function i(t,e,i){t=k(t,255),e=k(e,255),i=k(i,255);var n,r,o=O(t,e,i),s=I(t,e,i),a=(o+s)/2;if(o==s)n=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,l:a}}function n(t,e,i){function n(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var r,o,s;if(t=k(t,360),e=k(e,100),i=k(i,100),0===e)r=o=s=i;else{var a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;r=n(l,a,t+1/3),o=n(l,a,t),s=n(l,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}function r(t,e,i){t=k(t,255),e=k(e,255),i=k(i,255);var n,r,o=O(t,e,i),s=I(t,e,i),a=o,l=o-s;if(r=0===o?0:l/o,o==s)n=0;else{switch(o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,v:a}}function o(t,e,i){t=6*k(t,360),e=k(e,100),i=k(i,100);var n=$.floor(t),r=t-n,o=i*(1-e),s=i*(1-r*e),a=i*(1-(1-r)*e),l=n%6,c=[i,s,o,o,a,i][l],u=[a,i,i,s,o,o][l],h=[o,o,a,i,i,s][l];return{r:255*c,g:255*u,b:255*h}}function s(t,e,i,n){var r=[M(R(t).toString(16)),M(R(e).toString(16)),M(R(i).toString(16))];return n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,i,n){var r=[M(E(n)),M(R(t).toString(16)),M(R(e).toString(16)),M(R(i).toString(16))];return r.join("")}function l(t,e){e=0===e?0:e||10;var i=W(t).toHsl();return i.s-=e/100,i.s=_(i.s),W(i)}function c(t,e){e=0===e?0:e||10;var i=W(t).toHsl();return i.s+=e/100,i.s=_(i.s),W(i)}function u(t){return W(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var i=W(t).toHsl();return i.l+=e/100,i.l=_(i.l),W(i)}function p(t,e){e=0===e?0:e||10;var i=W(t).toRgb();return i.r=O(0,I(255,i.r-R(255*-(e/100)))),i.g=O(0,I(255,i.g-R(255*-(e/100)))),i.b=O(0,I(255,i.b-R(255*-(e/100)))),W(i)}function d(t,e){e=0===e?0:e||10;var i=W(t).toHsl();return i.l-=e/100,i.l=_(i.l),W(i)}function f(t,e){var i=W(t).toHsl(),n=(R(i.h)+e)%360;return i.h=n<0?360+n:n,W(i)}function g(t){var e=W(t).toHsl();return e.h=(e.h+180)%360,W(e)}function m(t){var e=W(t).toHsl(),i=e.h;return[W(t),W({h:(i+120)%360,s:e.s,l:e.l}),W({h:(i+240)%360,s:e.s,l:e.l})]}function v(t){var e=W(t).toHsl(),i=e.h;return[W(t),W({h:(i+90)%360,s:e.s,l:e.l}),W({h:(i+180)%360,s:e.s,l:e.l}),W({h:(i+270)%360,s:e.s,l:e.l})]}function b(t){var e=W(t).toHsl(),i=e.h;return[W(t),W({h:(i+72)%360,s:e.s,l:e.l}),W({h:(i+216)%360,s:e.s,l:e.l})]}function y(t,e,i){e=e||6,i=i||30;var n=W(t).toHsl(),r=360/i,o=[W(t)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,o.push(W(n));return o}function x(t,e){e=e||6;for(var i=W(t).toHsv(),n=i.h,r=i.s,o=i.v,s=[],a=1/e;e--;)s.push(W({h:n,s:r,v:o})),o=(o+a)%1;return s}function C(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}function w(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function k(t,e){T(t)&&(t="100%");var i=D(t);return t=I(e,O(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),$.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function _(t){return I(1,O(0,t))}function S(t){return parseInt(t,16)}function T(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function D(t){return"string"==typeof t&&t.indexOf("%")!=-1}function M(t){return 1==t.length?"0"+t:""+t}function P(t){return t<=1&&(t=100*t+"%"),t}function E(t){return Math.round(255*parseFloat(t)).toString(16)}function B(t){return S(t)/255}function A(t){t=t.replace(L,"").replace(N,"").toLowerCase();var e=!1;if(j[t])t=j[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=V.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=V.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=V.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=V.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=V.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=V.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=V.hex8.exec(t))?{a:B(i[1]),r:S(i[2]),g:S(i[3]),b:S(i[4]),format:e?"name":"hex8"}:(i=V.hex6.exec(t))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:e?"name":"hex"}:!!(i=V.hex3.exec(t))&&{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:e?"name":"hex"}}var L=/^[\s,#]+/,N=/\s+$/,F=0,$=Math,R=$.round,I=$.min,O=$.max,H=$.random,W=function(e,i){if(e=e?e:"",i=i||{},e instanceof W)return e;if(!(this instanceof W))return new W(e,i);var n=t(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=R(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=n.ok,this._tc_id=F++};W.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=w(t),this._roundA=R(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=R(360*t.h),i=R(100*t.s),n=R(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=R(360*t.h),n=R(100*t.s),r=R(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(100*k(this._r,255))+"%",g:R(100*k(this._g,255))+"%",b:R(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+R(100*k(this._r,255))+"%, "+R(100*k(this._g,255))+"%, "+R(100*k(this._b,255))+"%)":"rgba("+R(100*k(this._r,255))+"%, "+R(100*k(this._g,255))+"%, "+R(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var r=W(t);i=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0,r=!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(d,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(m,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},W.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var n in t)t.hasOwnProperty(n)&&("a"===n?i[n]=t[n]:i[n]=P(t[n]));t=i}return W(t,e)},W.equals=function(t,e){return!(!t||!e)&&W(t).toRgbString()==W(e).toRgbString()},W.random=function(){return W.fromRatio({r:H(),g:H(),b:H()})},W.mix=function(t,e,i){i=0===i?0:i||50;var n,r=W(t).toRgb(),o=W(e).toRgb(),s=i/100,a=2*s-1,l=o.a-r.a;n=a*l==-1?a:(a+l)/(1+a*l),n=(n+1)/2;var c=1-n,u={r:o.r*n+r.r*c,g:o.g*n+r.g*c,b:o.b*n+r.b*c,a:o.a*s+r.a*(1-s)};return W(u)},W.readability=function(t,e){var i=W(t),n=W(e),r=i.toRgb(),o=n.toRgb(),s=i.getBrightness(),a=n.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:l}},W.isReadable=function(t,e){var i=W.readability(t,e);return i.brightness>125&&i.color>500},W.mostReadable=function(t,e){for(var i=null,n=0,r=!1,o=0;o<e.length;o++){var s=W.readability(t,e[o]),a=s.brightness>125&&s.color>500,l=3*(s.brightness/125)+s.color/500;(a&&!r||a&&r&&l>n||!a&&!r&&l>n)&&(r=a,n=l,i=W(e[o]))}return i};var j=W.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=W.hexNames=C(j),V=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",i="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=W}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),define("field-properties/color",["jquery","utils","spectrum","field-properties/base"],function(t,e,i,n){"use strict";return e.object(n,{create:function(i,n,r){this.$control=t("<input/>"),this.$control.attr("type",i.type),e.isAvailable("color")?this.$control.val(e.getHex(i.value)):(r.append(this.$control),this.$control.spectrum({color:e.getHex(i.value),preferredFormat:"hex",change:function(){t(this).trigger("change keyup")}}))},isValid:function(t){return!!/#[0-9a-f]{6}|#[0-9a-f]{3}/gi.test(t)}})}),define("field-properties/url",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e){this.$control=t("<input/>"),this.$control.attr("type",e.type),this.$control.val(e.value)}})}),define("field-properties/text",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e){this.$control=t("<input/>"),this.$control.attr("type",e.type),this.$control.val(e.value)},getValue:function(t){var e;return t=t||this.$control,e=t.val(),e=e&&e.toString&&e.toString()}})}),define("field-properties/number",["jquery","utils","field-properties/base"],function(t,e,i){"use strict";return e.object(i,{create:function(e){this.$control=t("<input/>"),this.$control.attr("type",e.type),this.$control.val(e.value)},isValid:function(t){return e.isFloat(t)||e.isInteger(t)},getValue:function(t){var i;return t=t||this.$control,i=t.val(),e.isFloat(i)?parseFloat(i,10):parseInt(i,10)}})}),define("field-properties/fr-highlight",["jquery","utils","field-properties/base","EventEmitter"],function(t,e,i,n){"use strict";return e.object(i,{create:function(e,i,r){var o=t("<input/>");this.$control=t("<input/>"),this.$control.attr("type","text"),this.$control.attr("disabled",!0),this.$control.val(e.element.highlights.count()?"[...]":"[]"),this.$control.css({width:"80%",display:"inline-block"}),this.$control.addClass("d-fc-exp-input"),o.attr("type","button"),o.addClass("d-fc-exp-but"),o.attr("tabindex","-1"),o.val("..."),r.append(this.$control,o),o.on("click",function(){n.trigger("highlights-editor",e.element)})}})}),define("cstn/Properties/BaseFields",["jquery","utils","EventEmitter","l10n","field-properties/select","field-properties/textarea","field-properties/checkbox","field-properties/unit","field-properties/file","field-properties/event","field-properties/datetime","field-properties/color","field-properties/url","field-properties/text","field-properties/number","field-properties/fr-highlight"],function(t,e,i,n){"use strict";function r(t){var e,i,n,r;if(!t)return!1;for(r=Object.keys(t),e=r.length;e--;)i=r[e],n=t[i],u.$control.attr(i,"function"==typeof n?n():n);return!0}function o(e){var n;return!!e.expression&&(n=t('<input type="button" value="..."/>'),u.$control.addClass("d-fc-exp-input"),n.addClass("d-fc-exp-but"),c.append(n),n.on("click",function(){e.expressionEventName=e.expressionEventName||"show-expression-editor",i.trigger(e.expressionEventName,e.element,e.prop,void 0===e.exprMenu||e.exprMenu)}),!0)}function s(i){var s=e.getModules(i.type)[i.type];return a=t("<div>"),l=t("<label>"),c=t("<div>"),l.html(n.tr(i.label)),a.append(l,c),u=s.build(i,l,c),c.children().length||c.append(u.$control),u.$control.data("control",u),u.$control.addClass("d-fc"),c.addClass("fg-body"),a.addClass("fg"),r(i.attrs),o(i),{self:u,$main:a,$body:c,$label:l}}var a,l,c,u;return{getFor:function(t){return s(t)}}}),define("cstn/Properties/Base",["jquery","config","utils","l10n","cstn/Properties/BaseFields","EventEmitter"],function(t,e,i,n,r,o){"use strict";var s={},a={_afterFilter:function(t,e,i){i.element.render&&i.element.render(),"function"==typeof i.afterSetValue&&i.afterSetValue.apply(i.element,arguments)},_beforeFilter:function(t){"function"==typeof t.beforeSetValue&&t.beforeSetValue.apply(t.element,arguments)},_applyProp:function(t,e,i,n){var r,o=i.field;return this._beforeFilter(o),o.value=e,"function"==typeof o.setValue?(o.setValue.apply(o.element,arguments),void this._afterFilter(t,e,o)):(r="undefined"!=typeof o.element.attr(t)?"attr":"prop",o.element[r](t,e,n),void this._afterFilter(t,e,o))},_processProp:function(e,i){var n=t.Deferred(),r=e.data("control"),o=r.field;return t.when(r.getProp(),r.getValue(e)).done(function(t,s){function l(){e.removeClass("has-error"),a._applyProp(t,s,r,i),n.resolve(o)}function c(){return e.addClass("has-error"),n.resolve(!1),!1}o.isValid?o.isValid.call(o.element,s)?l():c():r.isValid(s)||r.field.defaultValue&&s===r.field.defaultValue?l():c()}),n.promise()},_generateGroupHeader:function(e,i){if(!e.fields)return!1;var r=t("<div>"),o=t("<div>"),a=t("<div>"),l=t("<div>"),c=t("<span>"),u=function(){l.removeClass("icon-plus").addClass("icon-minus")},h=function(){l.removeClass("icon-minus").addClass("icon-plus"),a.hide()};return a.attr("tabIndex",-1),r.addClass("cstn-panel"),o.addClass("cstn-panel-header"),a.addClass("cstn-panel-body"),l.addClass("fa cstn-toogle"),i&&(r.addClass("cstn-root"),a.addClass("fgs-opened")),c.text(n.tr(e.label)),o.append(l,c),r.append(o,a),"undefined"!=typeof s[e.label]?s[e.label]===!1?h():u():e.opened||i?u():h(),r.data("field",e),{$main:r,$header:o,$body:a,$toggle:l,$headerTitle:c}},_bindMainProps:function(t,e){return e.prop=t,e.element=this,e.getValue?e.value=e.getValue.call(this,t,e):(e.value=this.prop(t),"undefined"==typeof e.value&&(e.value=this.attr(t),"undefined"==typeof e.value&&(e.value=e.defaultValue))),e},_buildMap:function(){function e(i,n,o){var s,l,c=this;t.each(i,function(t,i){return(s=a._generateGroupHeader(i,o))?(n.append(s.$main),e.call(c,i.fields,s.$body),s):(a._bindMainProps.call(c,t,i),i.control=r.getFor(i),l=i.control.self.$control,l.on("change keyup",a._changeControl),l.is(":not(select[multiple])")&&(l.on("focus",a._focusOnControl),l.on("blur",a._blurFromControl)),void n.append(i.control.$main))})}return e.apply(this,arguments)},_clickOnHeader:function(){var e=t(this),i=e.find(".cstn-toogle"),n=e.parent(),r=n.data("field");i.is(".icon-minus")?(r.opened=!1,e.next(".cstn-panel-body").slideUp(100,function(){t(this).removeClass("fgs-opened"),i.removeClass("icon-minus").addClass("icon-plus")})):(r.opened=!0,e.next(".cstn-panel-body").slideDown(100,function(){t(this).addClass("fgs-opened"),i.removeClass("icon-plus").addClass("icon-minus")})),n.is(".cstn-root")&&(s[r.label]=r.opened)},_focusOnControl:function(){e.set("hotkeyProhibited",!0)},_updateMenu:i.debounce(function(){o.trigger("update-menu")},500),_setControlValue:function(e,i){var n=this._updateMenu;t.when(this._processProp(e,i)).done(function(t){var i,r=e.data("ref");t&&(r?(i=t.control.self.getValue(e,!0),"checkbox"===t.type?r.prop("checked",i):r.val(i)):n())})},_changeControl:function(e){var i=!0;e.keyCode&&13!==e.keyCode&&(i=!1),a._setControlValue(t(this),i)},_blurFromControl:function(){e.set("hotkeyProhibited",!1),a._setControlValue(t(this),!0)},build:function(e,i){var n=t("<form>");return n.addClass("form-horizontal"),n.attr("role","form"),i?(this._buildMap.call(e,i,n,!0),n.on("click",".cstn-panel-header",this._clickOnHeader),n):n}};return a}),define("cstn/Events/events",["jquery","utils","properties/Base"],function(t,e,i){"use strict";var n={Build:{label:"Properties Build",fields:{FinishReportEvent:{label:"FinishReport",type:"event",eventName:"FinishReport",eventStatement:"private void %event%(object sender, EventArgs e)"},StartReportEvent:{label:"StartReport",type:"event",eventName:"StartReport",eventStatement:"private void %event%(object sender, EventArgs e)"},FinishPageEvent:{label:"FinishPage",type:"event",eventName:"FinishPage",eventStatement:"private void %event%(object sender, EventArgs e)"},ManualBuildEvent:{label:"ManualBuild",type:"event",eventName:"ManualBuild",eventStatement:"private void %event%(object sender, EventArgs e)"},StartPageEvent:{label:"StartPage",type:"event",eventName:"StartPage",eventStatement:"private void %event%(object sender, EventArgs e)"},AfterDataEvent:{label:"AfterData",type:"event",eventName:"AfterData",eventStatement:"private void %event%(object sender, EventArgs e)"},AfterLayoutEvent:{label:"AfterLayout",type:"event",eventName:"AfterLayout",eventStatement:"private void %event%(object sender, EventArgs e)"},AfterPrintEvent:{label:"AfterPrint",type:"event",eventName:"AfterPrint",eventStatement:"private void %event%(object sender, EventArgs e)"
},BeforeLayoutEvent:{label:"BeforeLayout",type:"event",eventName:"BeforeLayout",eventStatement:"private void %event%(object sender, EventArgs e)"},BeforePrintEvent:{label:"BeforePrint",type:"event",eventName:"BeforePrint",eventStatement:"private void %event%(object sender, EventArgs e)"},ModifyResult:{label:"ModifyResult",type:"event",eventName:"ModifyResult",eventStatement:"private void %event%(object sender, EventArgs e)"}}},Events:{label:"Properties Events",fields:{CheckedChanged:{label:"CheckedChanged",type:"event",eventName:"CheckedChanged",eventStatement:"private void %event%(object sender, EventArgs e)"},FormClosedEvent:{label:"FormClosed",type:"event",eventName:"FormClosed",eventStatement:"private void %event%(object sender, FormClosedEventArgs e)"},FormClosingEvent:{label:"FormClosing",type:"event",eventName:"FormClosing",eventStatement:"private void %event%(object sender, FormClosingEventArgs e)"},LoadEvent:{label:"Load",type:"event",eventName:"Load",eventStatement:"private void %event%(object sender, EventArgs e)"},PaintEvent:{label:"Paint",type:"event",eventName:"Paint",eventStatement:"private void %event%(object sender, PaintEventArgs e)"},ResizeEvent:{label:"Resize",type:"event",eventName:"Resize",eventStatement:"private void %event%(object sender, EventArgs e)"},ShownEvent:{label:"Shown",type:"event",eventName:"Shown",eventStatement:"private void %event%(object sender, EventArgs e)"},Click:{label:"Click",type:"event",eventName:"Click",eventStatement:"private void %event%(object sender, EventArgs e)"},DataLoaded:{label:"DataLoaded",type:"event",eventName:"DataLoaded",eventStatement:"private void %event%(object sender, EventArgs e)"},DoubleClick:{label:"DoubleClick",type:"event",eventName:"DoubleClick",eventStatement:"private void %event%(object sender, EventArgs e)"},DrawItem:{label:"DrawItem",type:"event",eventName:"DrawItem",eventStatement:"private void %event%(object sender, DrawItemEventArgs e)"},Enter:{label:"Enter",type:"event",eventName:"Enter",eventStatement:"private void %event%(object sender, EventArgs e)"},ItemCheck:{label:"ItemCheck",type:"event",eventName:"ItemCheck",eventStatement:"private void %event%(object sender, ItemCheckEventArgs e)"},KeyDown:{label:"KeyDown",type:"event",eventName:"KeyDown",eventStatement:"private void %event%(object sender, KeyEventArgs e)"},KeyPress:{label:"KeyPress",type:"event",eventName:"KeyPress",eventStatement:"private void %event%(object sender, KeyPressEventArgs e)"},KeyUp:{label:"KeyUp",type:"event",eventName:"KeyUp",eventStatement:"private void %event%(object sender, KeyEventArgs e)"},Leave:{label:"Leave",type:"event",eventName:"Leave",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseDown:{label:"MouseDown",type:"event",eventName:"MouseDown",eventStatement:"private void %event%(object sender, MouseEventArgs e)"},MouseEnter:{label:"MouseEnter",type:"event",eventName:"MouseEnter",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseLeave:{label:"MouseLeave",type:"event",eventName:"MouseLeave",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseMove:{label:"MouseMove",type:"event",eventName:"MouseMove",eventStatement:"private void %event%(object sender, MouseEventArgs e)"},MouseUp:{label:"MouseUp",type:"event",eventName:"MouseUp",eventStatement:"private void %event%(object sender, MouseEventArgs e)"},MeasureItem:{label:"MeasureItem",type:"event",eventName:"MeasureItem",eventStatement:"private void %event%(object sender, MeasureItemEventArgs e)"},Paint:{label:"Paint",type:"event",eventName:"Paint",eventStatement:"private void %event%(object sender, PaintEventArgs e)"},Resize:{label:"Resize",type:"event",eventName:"Resize",eventStatement:"private void %event%(object sender, EventArgs e)"},TextChanged:{label:"TextChanged",type:"event",eventName:"TextChanged",eventStatement:"private void %event%(object sender, EventArgs e)"},ValueChanged:{label:"ValueChanged",type:"event",eventName:"ValueChanged",eventStatement:"private void %event%(object sender, EventArgs e)"},SelectedIndexChanged:{label:"SelectedIndexChanged",type:"event",eventName:"SelectedIndexChanged",eventStatement:"private void %event%(object sender, EventArgs e)"}}},Preview:{label:"Properties Preview",fields:{ClickEvent:{label:"Click",type:"event",eventName:"Click",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseDownEvent:{label:"MouseDown",type:"event",eventName:"MouseDown",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseEnterEvent:{label:"MouseEnter",type:"event",eventName:"MouseEnter",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseLeaveEvent:{label:"MouseLeave",type:"event",eventName:"MouseLeave",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseMoveEvent:{label:"MouseMove",type:"event",eventName:"MouseMove",eventStatement:"private void %event%(object sender, EventArgs e)"},MouseUpEvent:{label:"MouseUp",type:"event",eventName:"MouseUp",eventStatement:"private void %event%(object sender, EventArgs e)"}}},Misc:{label:"Properties Misc",fields:{DateChanged:{label:"DateChanged",type:"event",eventName:"DateChanged",eventStatement:"private void %event%(object sender, DateRangeEventArgs e)"}}}};return e.object(i,{data:n})}),define("cstn/Events/extension/base",["jquery","utils","Report","cstn/Events/events"],function(t,e,i,n){"use strict";var r=e.getModule("Component"),o=e.getModule("Band"),s=e.getModule("ReportPage"),a=e.getModule("Dialog");e.extend(i,{fillEventMap:function(){this.eventMap=n.factory(["Build:FinishReportEvent","Build:StartReportEvent"])}}),a&&e.extend(a,{fillEventMap:function(){this.eventMap=n.factory(["Events:FormClosedEvent","Events:FormClosingEvent","Events:LoadEvent","Events:PaintEvent","Events:ResizeEvent","Events:ShownEvent"])}}),r&&e.extend(r,{fillEventMap:function(){this.eventMap=n.factory(["Build:AfterDataEvent","Build:AfterPrintEvent","Build:BeforePrintEvent","Preview:ClickEvent","Preview:MouseDownEvent","Preview:MouseEnterEvent","Preview:MouseLeaveEvent","Preview:MouseMoveEvent","Preview:MouseUpEvent"])}}),o&&e.extend(o,{fillEventMap:function(){this.eventMap=n.factory(["Build:AfterDataEvent","Build:AfterLayoutEvent","Build:AfterPrintEvent","Build:BeforeLayoutEvent","Build:BeforePrintEvent","Preview:ClickEvent","Preview:MouseDownEvent","Preview:MouseEnterEvent","Preview:MouseLeaveEvent","Preview:MouseMoveEvent","Preview:MouseUpEvent"])}}),s&&e.extend(s,{fillEventMap:function(){this.eventMap=n.factory(["Build:FinishPageEvent","Build:ManualBuildEvent","Build:StartPageEvent"])}})}),define("cstn/Events/extension/components/TextObject",function(){}),define("cstn/Events/extension/components/PictureObject",function(){}),define("cstn/Events/extension/components/ShapeObject",function(){}),define("cstn/Events/extension/components/LineObject",function(){}),define("cstn/Events/extension/components/SubreportObject",["jquery","utils","Component","components/SubreportObject","cstn/Events/events"],function(t,e,i,n,r){"use strict";e.extend(n,{fillEventMap:function(){i.fillEventMap.apply(this,arguments),this.eventMap.remove(["Build:AfterPrintEvent","Build:BeforePrintEvent","Preview:ClickEvent"])}})}),define("cstn/Events/extension/components/TableObject",["utils","Component","components/TableObject","cstn/Events/events","EventEmitter"],function(t,e,i,n,r){"use strict";t.extend(i,{fillEventMap:function(){e.fillEventMap.apply(this,arguments),this.eventMap.append(["Build:ManualBuildEvent"])}})}),define("cstn/Events/extension/components/TableCell",function(){}),define("cstn/Events/extension/components/TableColumn",["utils","components/TableObject/TableColumn","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{fillEventMap:function(){}})}),define("cstn/Events/extension/components/TableRow",["utils","components/TableObject/TableRow","cstn/Events/events","EventEmitter"],function(t,e,i,n){"use strict";t.extend(e,{fillEventMap:function(){}})}),define("cstn/Events/extension/components/MatrixObject",["utils","components/MatrixObject","components/TableObject","cstn/Events/events"],function(t,e,i,n){"use strict";t.extend(e,{fillEventMap:function(){i.fillEventMap.call(this),this.eventMap.append(["Build:ManualBuildEvent","Build:ModifyResult"])}})}),define("cstn/Events/extension/components/BarcodeObject",function(){}),define("cstn/Events/extension/components/RichObject",function(){}),define("cstn/Events/extension/components/CheckBoxObject",function(){}),define("cstn/Events/extension/components/CellularTextObject",function(){}),define("cstn/Events/extension/components/LinearGauge",function(){}),define("cstn/Events/extension/components/SimpleGauge",function(){}),define("cstn/Events/extension/controls/ButtonControl",["utils","controls/ButtonControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/CheckBoxControl",["utils","controls/CheckBoxControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:CheckedChanged","Events:Click","Events:DataLoaded","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/CheckedListBoxControl",["utils","controls/CheckedListBoxControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:DrawItem","Events:Enter","Events:ItemCheck","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MeasureItem","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:SelectedIndexChanged","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/ComboBoxControl",["utils","controls/ComboBoxControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:DrawItem","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MeasureItem","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:SelectedIndexChanged","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/DateTimePickerControl",["utils","controls/DateTimePickerControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged","Events:ValueChanged"])}})}),define("cstn/Events/extension/controls/LabelControl",["utils","controls/LabelControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/ListBoxControl",["utils","controls/ListBoxControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:DrawItem","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MeasureItem","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:SelectedIndexChanged","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/MonthCalendarControl",["utils","controls/MonthCalendarControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged","Misc:DateChanged"])}})}),define("cstn/Events/extension/controls/RadioButtonControl",["utils","controls/RadioButtonControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:CheckedChanged","Events:Click","Events:DataLoaded","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged"])}})}),define("cstn/Events/extension/controls/TextBoxControl",["utils","controls/TextBoxControl","cstn/Events/events"],function(t,e,i){"use strict";t.extend(e,{dblclick:function(){this.eventMap[0].fields.Click.control.$body.find("[type=button]").trigger("click")},fillEventMap:function(){this.eventMap=i.factory(["Events:Click","Events:DataLoaded","Events:DoubleClick","Events:Enter","Events:KeyDown","Events:KeyPress","Events:KeyUp","Events:Leave","Events:MouseDown","Events:MouseEnter","Events:MouseLeave","Events:MouseMove","Events:MouseUp","Events:Paint","Events:Resize","Events:TextChanged"])}})}),define("cstn/Events/Main",["jquery","utils","l10n","cstn/Properties/Base","EventEmitter","cstn/Events/extension/base","cstn/Events/extension/components/TextObject","cstn/Events/extension/components/PictureObject","cstn/Events/extension/components/ShapeObject","cstn/Events/extension/components/LineObject","cstn/Events/extension/components/SubreportObject","cstn/Events/extension/components/TableObject","cstn/Events/extension/components/TableCell","cstn/Events/extension/components/TableColumn","cstn/Events/extension/components/TableRow","cstn/Events/extension/components/MatrixObject","cstn/Events/extension/components/BarcodeObject","cstn/Events/extension/components/RichObject","cstn/Events/extension/components/CheckBoxObject","cstn/Events/extension/components/CellularTextObject","cstn/Events/extension/components/LinearGauge","cstn/Events/extension/components/SimpleGauge","cstn/Events/extension/controls/ButtonControl","cstn/Events/extension/controls/CheckBoxControl","cstn/Events/extension/controls/CheckedListBoxControl","cstn/Events/extension/controls/ComboBoxControl","cstn/Events/extension/controls/DateTimePickerControl","cstn/Events/extension/controls/LabelControl","cstn/Events/extension/controls/ListBoxControl","cstn/Events/extension/controls/MonthCalendarControl","cstn/Events/extension/controls/RadioButtonControl","cstn/Events/extension/controls/TextBoxControl"],function(t,e,i,n,r){"use strict";var o=e.object(n,{pos:2,className:"events",icon:"icon-079",titleText:i.tr("Events"),create:function(){return require("currentReport").prop("CodeRestricted")?null:(this.$title=t("<div>"),this.$body=t("<div>"),this)},update:function(e){var i;return!!e&&(this.$title&&(this.$titleMain||(this.$titleMain=t("<strong>"),this.$titleExtra=t("<span>"),this.$title.append(this.$titleMain,this.$titleExtra)),this.$titleMain.text(this.titleText+" "),this.$titleExtra.text(e.toString())),i=this.build(e,e.eventMap),this.$body&&(this.$body.replaceWith(i),this.$body=i),this)},clear:function(){delete this.$titleMain,delete this.$titleExtra},bindEvents:function(){r.bind("update-events-panel",function(t){o.update(t)})}});return o}),define("cstn/Properties/properties",["jquery","utils","queue","properties/properties","EventEmitter","data/dataTypes","unit"],function(t,e,i,n,r){"use strict";var o=function(){var t=require("currentReport");return o=function(){return t},t};return e.extend(n.data,{Appearance:{label:"Properties Appearance",propName:"Appearance",fields:{Appearance:{label:"Appearance",type:"select",collection:["Normal","Button"]},Angle:{label:"Angle",type:"number"},BackColor:{label:"BackColor",type:"color"},ForeColor:{label:"ForeColor",type:"color"},Checked:{label:"Checked",type:"checkbox",afterSetValue:function(t,e){this.canHaveProp("Appearance:CheckState")&&(this.prop("CheckState",e?"Checked":"Unchecked"),this.render(),r.trigger("update-properties-panel",this))}},CheckState:{label:"CheckState",type:"select",collection:["Checked","Indeterminate","Unchecked"]},Image:{label:"Image",type:"file"},CheckAlign:{label:"CheckAlign",type:"select",collection:["TopLeft","TopCenter","TopRight","MiddleLeft","MiddleCenter","MiddleRight","BottomLeft","BottomCenter","BottomRight"]},TextAlign:{label:"TextAlign",type:"select",collection:["TopLeft","TopCenter","TopRight","MiddleLeft","MiddleCenter","MiddleRight","BottomLeft","BottomCenter","BottomRight"]},ImageAlign:{label:"ImageAlign",type:"select",collection:["TopLeft","TopCenter","TopRight","MiddleLeft","MiddleCenter","MiddleRight","BottomLeft","BottomCenter","BottomRight"]},TextImageRelation:{label:"TextImageRelation",type:"select",collection:["Overlay","ImageAboveText","TextAboveImage","ImageBeforeText","TextBeforeImage"]},ThreeState:{label:"ThreeState",type:"checkbox"},DrawMode:{label:"DrawMode",type:"select",collection:["Normal","OwnerDrawFixed","OwnerDrawVariable"]},ItemHeight:{label:"ItemHeight",type:"number"},DropDownHeight:{label:"DropDownHeight",type:"number"},DropDownStyle:{label:"DropDownStyle",type:"select",collection:["Simple","DropDown","DropDownList"]},DropDownWidth:{label:"DropDownWidth",type:"number"},MaxDropDownItems:{label:"MaxDropDownItems",type:"number"},Cursor:{label:"Cursor",type:"select",collection:["Default","IBeam","No","SizeAll","SizeNESW","Arrow","AppStarting","Cross"]},Curve:{label:"Curve",type:"number"},EvenStyle:{label:"EvenStyle",type:"select",collection:function(){var t=o().styles,e=[""];return t.eachEntity(function(t){e.push(t.prop("Name"))}),e}},EvenStylePriority:{label:"EvenStylePriority",type:"select",collection:["UseFill","UseAll"]},FirstTabOffset:{label:"FirstTabOffset",type:"number"},FormBorderStyle:{label:"FormBorderStyle",type:"select",collection:["None","FixedSingle","Fixed3D","FixedDialog","Sizable","FixedToolWindow","SizableToolWindow"]},RightToLeft:{label:"RightToLeft",type:"select",collection:["No","Yes","Inherit"]},FontWidthRatio:{label:"FontWidthRatio",type:"number"},HoverStyle:{type:"text",label:"HoverStyle"},Tile:{type:"checkbox",label:"Tile"},Transparency:{type:"number",label:"Transparency",attrs:{min:0,max:1,step:.1}},TransparentColor:{type:"color",label:"TransparentColor"},LineHeight:{type:"unit",label:"LineHeight"},ParagraphOffset:{type:"unit",label:"ParagraphOffset"},Pointer:{label:"Pointer",fields:{"Pointer.BorderColor":{label:"BorderColor",type:"color"},"Pointer.Color":{label:"Color",type:"color"}}},Inverted:{label:"Inverted",type:"checkbox"},Scale:{label:"Scale",fields:{FirstSubScale:{label:"FirstSubScale",fields:{"Scale.FirstSubScale.Enabled":{type:"checkbox",label:"Enabled"},"Scale.FirstSubScale.ShowCaption":{type:"checkbox",label:"ShowCaption"}}},SecondSubScale:{label:"SecondSubScale",fields:{"Scale.SecondSubScale.Enabled":{type:"checkbox",label:"Enabled"},"Scale.SecondSubScale.ShowCaption":{type:"checkbox",label:"ShowCaption"}}},Font:n._font("Scale."),MajorTicks:{label:"MajorTicks",fields:{"Scale.MajorTicks.Color":{label:"Color",type:"color"},"Scale.MajorTicks.Width":{label:"Width",type:"number"}}},MinorTicks:{label:"MinorTicks",fields:{"Scale.MinorTicks.Color":{label:"Color",type:"color"},"Scale.MinorTicks.Width":{label:"Width",type:"number"}}}}},Style:{type:"select",label:"Style",collection:function(){var t=o().styles,e=[""];return t.eachEntity(function(t){e.push(t.prop("Name"))}),e},setValue:function(t,e){var n=this.prop("Style"),r=o().styles,s=function(t){var e=t.prop("Style");e&&(e=o().styles.findOneBy({Name:e}),e&&(e.eachProp(function(e){"Name"!==e&&t.deleteProp(e)}),e.eachAttr(function(e){t.deleteAttr(e)})),t.setDefaultFont&&t.setDefaultFont())},a=function(t,e){var i="Style",n=r.findOneBy({Name:t});s(e),n&&(n.eachProp(function(t,i){"Name"!==t&&e.prop(t,i)}),n.eachAttr(function(t,i){e.attr(t,i)})),e.prop(i,t),e.render()};n!==e&&(e=e||"",i.push({func:a,undoData:[n||"",this],redoData:[e,this]}),a(e,this))}},ScrollBars:{label:"ScrollBars",type:"select",collection:["None","Horizontal","Vertical","Both"]},TabWidth:{type:"number",label:"TabWidth"},Watermark:{label:"Watermark",fields:{"Watermark.Enabled":{label:"Enabled",type:"checkbox"},"Watermark.Font":n._font("Watermark."),"Watermark.Image":{label:"Image",type:"file"},"Watermark.ImageSize":{label:"ImageSize",type:"select",collection:["Normal","Center","Stretch","Zoom","Tile"]},"Watermark.ImageTransparency":{label:"ImageTransparency",type:"number",attrs:{min:0,max:1,step:.1}},"Watermark.ShowImageOnTop":{label:"ShowImageOnTop",type:"checkbox"},"Watermark.ShowTextOnTop":{label:"ShowTextOnTop",type:"checkbox"},"Watermark.Text":{label:"Text",type:"text"},"Watermark.TextFill":{label:"TextFill",fields:{"Watermark.TextFill.Color":{type:"color",label:"Color"}}},"Watermark.TextRotation":{label:"TextRotation",type:"select",collection:["Horizontal","Vertical","ForwardDiagonal","BackwardDiagonal"]}}}}},Build:{label:"Properties Build",propName:"Build",fields:{}},Behavior:{label:"Properties Behavior",propName:"Behavior",fields:{AcceptsReturn:{label:"AcceptsReturn",type:"checkbox"},AcceptsTab:{label:"AcceptsTab",type:"checkbox"},ColumnWidth:{label:"ColumnWidth",type:"number"},MultiColumn:{label:"MultiColumn",type:"checkbox"},SelectionMode:{label:"SelectionMode",type:"select",collection:["None","One","MultiSimple","MultiExtended"]},Sorted:{label:"Sorted",type:"checkbox"},UseTabStops:{label:"UseTabStops",type:"checkbox"},CharacterCasing:{label:"CharacterCasing",type:"select",collection:["Normal","Upper","Lower"]},BackPage:{label:"BackPage",type:"checkbox"},MirrorMargins:{label:"MirrorMargins",type:"checkbox"},PrintOnPreviousPage:{label:"PrintOnPreviousPage",type:"checkbox"},Enabled:{label:"Enabled",type:"checkbox"},FirstRowStartsNewPage:{label:"FirstRowStartsNewPage",type:"checkbox"},Layout:{label:"Layout",type:"select",collection:["AcrossThenDown","DownThenAcross","Wrapped"]},KeepChild:{label:"KeepChild",type:"checkbox"},KeepDetail:{label:"KeepDetail",type:"checkbox"},KeepTogether:{label:"KeepTogether",type:"checkbox"},KeepWithData:{label:"KeepWithData",type:"checkbox"},MaxLength:{label:"MaxLength",type:"number"},Multiline:{label:"Multiline",type:"checkbox"},ResetPageNumber:{label:"ResetPageNumber",type:"checkbox"},ReadOnly:{label:"ReadOnly",type:"checkbox"},StartNewPage:{type:"checkbox",label:"StartNewPage"},StartOnOddPage:{type:"checkbox",label:"StartOnOddPage"},TitleBeforeHeader:{type:"checkbox",label:"TitleBeforeHeader"},AutoShrink:{type:"select",label:"AutoShrink",collection:["None","FontSize","FontWidth"]},AutoShrinkMinSize:{type:"number",label:"AutoShrinkMinSize"},AutoSize:{type:"checkbox",label:"AutoSize"},AutoWidth:{type:"checkbox",label:"AutoWidth"},CanBreak:{type:"checkbox",label:"CanBreak"},CanGrow:{type:"checkbox",label:"CanGrow"},CanShrink:{type:"checkbox",label:"CanShrink"},CompleteToNRows:{type:"number",label:"CompleteToNRows"},DialogResult:{label:"DialogResult",type:"select",collection:["None","OK","Cancel","Abort","Retry","Ignore","Yes","No"]},FillUnusedSpace:{type:"checkbox",label:"FillUnusedSpace"},HideIfNoData:{type:"checkbox",label:"HideIfNoData"},ShowText:{type:"checkbox",label:"ShowText"},Clip:{type:"checkbox",label:"Clip"},Duplicates:{label:"Duplicates",type:"select",collection:["Show","Hide","Clear","Merge"]},CollectChildRows:{label:"CollectChildRows",type:"checkbox"},Exportable:{type:"checkbox",label:"Exportable"},GrowToBottom:{type:"checkbox",label:"GrowToBottom"},HideValue:{type:"text",label:"HideValue"},HideZeros:{type:"checkbox",label:"HideZeros"},HtmlTags:{type:"checkbox",label:"HtmlTags"},NullValue:{type:"text",label:"NullValue"},Printable:{type:"checkbox",label:"Printable"},PrintIfDatasourceEmpty:{type:"checkbox",label:"PrintIfDatasourceEmpty"},PrintIfDetailEmpty:{type:"checkbox",label:"PrintIfDetailEmpty"},PrintOnBottom:{type:"checkbox",label:"PrintOnBottom"},PrintOnParent:{type:"checkbox",label:"PrintOnParent"},RepeatOnEveryPage:{label:"RepeatOnEveryPage",type:"checkbox"},ProcessAt:{label:"ProcessAt",type:"select",collection:["Default","ReportFinished","ReportPageFinished","PageFinished","ColumnFinished","DataFinished","GroupFinished","Custom"]},RightToLeft:{label:"RightToLeft",type:"checkbox"},ShiftMode:{label:"ShiftMode",type:"select",collection:["Never","Always","WhenOverlapped"]},Trimming:{label:"Trimming",type:"select",collection:["None","Character","Word","EllipsisCharacter","EllipsisWord","EllipsisPath"]},TabIndex:{label:"TabIndex",type:"number"},TabStop:{label:"TabStop",type:"checkbox"},Visible:{label:"Visible",type:"checkbox"},WordWrap:{label:"WordWrap",type:"checkbox"},Wysiwyg:{label:"Wysiwyg",type:"checkbox"},SortOrder:{label:"SortOrder",type:"select",collection:["None","Ascending","Descending"]},ShowErrorImage:{label:"ShowErrorImage",type:"checkbox"},SizeMode:{label:"SizeMode",type:"select",collection:["Normal","StretchImage","AutoSize","CenterImage","Zoom"]},UseSystemPasswordChar:{label:"UseSystemPasswordChar",type:"checkbox"}}},Email:{label:"Properties Email",propName:"Email",fields:{EmailSettings:{label:"EmailSettings",fields:{"EmailSettings.Message":{label:"Message",type:"text"},"EmailSettings.Recipients":{label:"Recipients",type:"textarea"},"EmailSettings.Subject":{label:"Subject",type:"text"}}}}},Engine:{label:"Properties Engine",propName:"Engine",fields:{ConvertNulls:{label:"ConvertNulls",type:"checkbox"},DoublePass:{label:"DoublePass",type:"checkbox"},InitialPageNumber:{label:"InitialPageNumber",type:"number"},UseFillCache:{label:"UseFillCache",type:"checkbox"}}},Misc:{label:"Properties Misc",fields:{ReportPage:{label:"ReportPage",type:"select",collection:[]},Description:{label:"Description",type:"text"},AutoFillDataSet:{label:"AutoFillDataSet",type:"checkbox"},Compressed:{label:"Compressed",type:"checkbox"},MaxPages:{label:"MaxPages",type:"number"},SmoothGraphics:{label:"SmoothGraphics",type:"checkbox"},TextQuality:{label:"TextQuality",type:"select",collection:["Default","Regular","ClearType","AntiAlias"]},ForceLoadData:{label:"ForceLoadData",type:"checkbox"},AcceptButton:{label:"AcceptButton",type:"select",collection:function(){return["None"].concat(this.components.all(["ButtonControl"]))}},CancelButton:{label:"CancelButton",type:"select",collection:function(){return["None"].concat(this.components.all(["ButtonControl"]))}}}},Data:{label:"Properties Data",propName:"Data",fields:{Calculated:{label:"Calculated",type:"checkbox"},DataSource:{type:"select",label:"DataSource",getValue:function(t){var e=this.prop(t);return e?e+"":null},collection:function(){var e=o(),i=e.dataSources&&e.dataSources.allWithChildren()||[];return e.connections&&e.connections.everyEntity(function(e){i=t.merge(i,e.dataSources.allWithChildren())}),i.unshift(""),i},setValue:function(t,e){var i,n=o();e&&(i=n.connections&&n.connections.pullDSByView(e)||n.dataSources&&n.dataSources.pullByView(e)),this.prop(t,i||""),this.render()}},Expression:{type:"text",label:"Expression",expression:!0,exprMenu:!0},Filter:{type:"text",label:"Filter",expression:!0,exprMenu:!0},MaxRows:{type:"number",label:"MaxRows",attrs:{min:0}},Relation:{label:"Relation",type:"select",collection:function(){var t=o(),e=t.relations&&t.relations.all()||[];return e.unshift(""),e}},RowCount:{label:"RowCount",type:"number"},AllowExpressions:{type:"checkbox",label:"AllowExpressions"},Brackets:{type:"text",label:"Brackets",isValid:function(e){return/^[\(\[]{1}[,]{1}[\)\]]{1}$/.test(t.trim(e))}},OutlineExpression:{type:"text",label:"OutlineExpression"},Format:{label:"Format",type:"text",expression:!0,expressionEventName:"format"},NoDataText:{type:"text",label:"NoDataText"},Condition:{type:"text",label:"Condition",expression:!0,exprMenu:!0},DataColumn:{type:"text",label:"DataColumn"},SelectCommand:{type:"text",label:"SelectCommand"},StoreData:{type:"checkbox",label:"StoreData"},TableName:{type:"text",label:"TableName"}}},"Data Filtering":{label:"Data Filtering",fields:{AutoFill:{label:"AutoFill",type:"checkbox"},AutoFilter:{label:"AutoFilter",type:"checkbox"},DataColumn:{label:"DataColumn",type:"text"},DetailControl:{label:"DetailControl",type:"select",collection:function(){return["None"].concat(this.collection.container.components.all())}},FilterOperation:{label:"FilterOperation",type:"select",collection:["Equal","NotEqual","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","Contains","NotContains","StartsWith","NotStartsWith","EndsWith","NotEndsWith"]},ReportParameter:{label:"ReportParameter",type:"text"}}},Design:{label:"Properties Design",propName:"Design",fields:{BindableControl:{label:"BindableControl",type:"select",collection:["Text","Rich","Picture","CheckBox","Custom"],afterSetValue:function(){this.updateBindableControl(),r.trigger("update-data-panel")}},CustomBindableControl:{type:"text",label:"CustomBindableControl"},Format:{label:"Format",type:"select",collection:["Auto","General","Number","Currency","Date","Time","Percent","Boolean"]},ReportInfo:{label:"ReportInfo",fields:{"ReportInfo.Author":{label:"Author",type:"text"},"ReportInfo.Created":{label:"Created",type:"datetime"},"ReportInfo.CreatorVersion":{label:"CreatorVersion",type:"text"},"ReportInfo.Description":{label:"Description",type:"textarea"},"ReportInfo.Modified":{label:"Modified",type:"datetime"},"ReportInfo.Name":{label:"Name",type:"text"},"ReportInfo.Picture":{label:"Picture",type:"file"},"ReportInfo.PreviewPictureRatio":{label:"PreviewPictureRatio",type:"number",attrs:{min:.05,step:.1}},"ReportInfo.SavePreviewPicture":{label:"SavePreviewPicture",type:"checkbox"},"ReportInfo.Version":{label:"Version",type:"text"}}},StoreInResources:{label:"StoreInResources",type:"checkbox"},ExtraDesignWidth:{label:"ExtraDesignWidth",type:"checkbox"}}},Layout:{label:"Properties Layout",propName:"Layout",fields:{AutoSize:{label:"AutoSize",type:"checkbox"},Maximum:{label:"Maximum",type:"number",setValue:function(t,e){e>this.prop("Minimum")?(this.prop(t,e),this.prop("Value")>e&&(this.prop("Value",this.prop("Minimum")),r.trigger("update-properties-panel",this))):r.trigger("update-properties-panel",this)}},Minimum:{label:"Minimum",type:"number",setValue:function(t,e){e<this.prop("Maximum")?(this.prop(t,e),this.prop("Value")<e&&(this.prop("Value",e),
r.trigger("update-properties-panel",this))):r.trigger("update-properties-panel",this)}},Value:{label:"Value",type:"number",setValue:function(t,e){e>=this.prop("Minimum")&&e<=this.prop("Maximum")?this.prop(t,e):r.trigger("update-properties-panel",this)}},MaxHeight:{type:"unit",label:"MaxHeight",attrs:{min:0}},MaxWidth:{type:"unit",label:"MaxWidth",attrs:{min:0}},MinHeight:{type:"unit",label:"MinHeight",attrs:{min:0}},MinWidth:{type:"unit",label:"MinWidth",attrs:{min:0}}}},Paper:{label:"Properties Paper",propName:"Paper",fields:{BottomMargin:{type:"unit",label:"BottomMargin",attrs:{min:0}},Landscape:{type:"checkbox",label:"Landscape"},LeftMargin:{type:"unit",label:"LeftMargin",attrs:{min:0}},PaperHeight:{type:"unit",label:"PaperHeight",attrs:{min:0,step:.1}},PaperWidth:{type:"unit",label:"PaperWidth",attrs:{min:0,step:.1}},RawPaperSize:{type:"text",label:"RawPaperSize"},RightMargin:{type:"unit",label:"RightMargin",attrs:{min:0}},TopMargin:{type:"unit",label:"TopMargin",attrs:{min:0}}}},Print:{label:"Properties Print",propName:"Print",fields:{Duplex:{type:"text",label:"Duplex"},FirstPageSource:{type:"number",label:"FirstPageSource"},OtherPagesSource:{type:"number",label:"OtherPagesSource"},PrintSettings:{label:"PrintSettings",fields:{"PrintSettings.Collate":{label:"Collate",type:"checkbox"},"PrintSettings.Copies":{label:"Copies",type:"number"},"PrintSettings.CopyNames":{label:"CopyNames",type:"textarea"},"PrintSettings.Duplex":{label:"Duplex",type:"select",collection:["Default","Simplex","Vertical","Horizontal"]},"PrintSettings.PageNumbers":{label:"PageNumbers",type:"text"},"PrintSettings.PageRange":{label:"PageRange",type:"select",collection:["All","Current","PageNumbers"]},"PrintSettings.PagesOnSheet":{label:"PagesOnSheet",type:"select",collection:["One","Two","Four","Eight"]},"PrintSettings.PaperSource":{label:"PaperSource",type:"number"},"PrintSettings.Printer":{label:"Printer",type:"select",collection:["Default"]},"PrintSettings.PrintMode":{label:"PrintMode",type:"select",collection:["Default","Split","Scale"]},"PrintSettings.PrintOnSheetHeight":{label:"PrintOnSheetHeight",type:"number"},"PrintSettings.PrintOnSheetRawPaperSize":{label:"PrintOnSheetRawPaperSize",type:"number"},"PrintSettings.PrintOnSheetWidth":{label:"PrintOnSheetWidth",type:"number"},"PrintSettings.PrintPages":{label:"PrintPages",type:"select",collection:["All","Odd","Even"]},"PrintSettings.PrintToFile":{label:"PrintToFile",type:"checkbox"},"PrintSettings.PrintToFileName":{label:"PrintToFileName",type:"text"},"PrintSettings.Reverse":{label:"Reverse",type:"checkbox"},"PrintSettings.SavePrinterWithReport":{label:"SavePrinterWithReport",type:"checkbox"},"PrintSettings.ShowDialog":{label:"ShowDialog",type:"checkbox"}}}}},Hierarchy:{label:"Properties Hierarchy",propName:"Hierarchy",fields:{IdColumn:{type:"select",label:"IdColumn"},Indent:{type:"unit",label:"Indent"},ParentIdColumn:{type:"select",label:"ParentIdColumn"}}},Navigation:{label:"Properties Navigation",propName:"Navigation",fields:{Bookmark:{label:"Bookmark",type:"text"},Hyperlink:{label:"Hyperlink",fields:{DetailPageName:{type:"select",label:"DetailPageName",collection:["None"]},DetailReportName:{type:"file",label:"DetailReportName"},Expression:{type:"text",label:"Expression",expression:!0,exprMenu:!0},Kind:{type:"select",label:"Kind",collection:["URL","PageNumber","Bookmark","DetailReport","DetailPage","Custom"]},ReportParameter:{type:"select",label:"ReportParameter",collection:[]},Value:{type:"text",label:"Value"},ValueSeparator:{type:"text",label:"ValueSeparator"}}}}},Script:{label:"Properties Script",propName:"Script",fields:{ReferencedAssemblies:{label:"ReferencedAssemblies",type:"textarea",attrs:{disabled:!0}},ScriptLanguage:{label:"ScriptLanguage",type:"select",collection:["CSharp","Vb"],afterSetValue:function(t,e){o().code.setMode(e)}}}}},!0),n}),define("cstn/Properties/extension/base",["jquery","utils","cstn/Properties/properties","Report","EventEmitter"],function(t,e,i,n,r){"use strict";var o=e.getModule("ReportPage"),s=e.getModule("Band"),a=e.getModule("Dialog");e.extend(n,{fillMap:function(){this.fieldMap=i.factory(["Design:ReportInfo","Design:StoreInResources","Email:EmailSettings","Engine","Misc:AutoFillDataSet","Misc:MaxPages","Misc:SmoothGraphics","Misc:TextQuality","Print:PrintSettings:PrintSettings.Collate","Print:PrintSettings:PrintSettings.Copies","Print:PrintSettings:PrintSettings.CopyNames","Print:PrintSettings:PrintSettings.Duplex","Print:PrintSettings:PrintSettings.PageNumbers","Print:PrintSettings:PrintSettings.PageRange","Print:PrintSettings:PrintSettings.PagesOnSheet","Print:PrintSettings:PrintSettings.PaperSource","Print:PrintSettings:PrintSettings.Printer","Print:PrintSettings:PrintSettings.PrintMode","Print:PrintSettings:PrintSettings.PrintOnSheetHeight","Print:PrintSettings:PrintSettings.PrintOnSheetRawPaperSize","Print:PrintSettings:PrintSettings.PrintOnSheetWidth","Print:PrintSettings:PrintSettings.PrintPages","Print:PrintSettings:PrintSettings.PrintToFile","Print:PrintSettings:PrintSettings.PrintToFileName","Print:PrintSettings:PrintSettings.Reverse","Print:PrintSettings:PrintSettings.SavePrinterWithReport","Print:PrintSettings:PrintSettings.ShowDialog","Script"])}}),o&&e.extend(o,{fillMap:function(){var t=e.debounce(this.update,250);this.fieldMap=i.factory(["Appearance:Border:Border.Shadow","Appearance:Border:Border.ShadowColor","Appearance:Border:Border.ShadowWidth",{prop:"Appearance:Columns:Columns.Count",afterSetValue:function(){this.prop("Columns.Width",this.attr("Width")/this.prop("Columns.Count")),t.call(this)},attrs:{min:1},defaultValue:1},"Appearance:Columns:Columns.Position",{prop:"Appearance:Columns:Columns.Width",afterSetValue:t,getValue:function(){return this.prop("Columns.Width")||this.attr("Width")}},"Appearance:Fill:Fill.Color","Appearance:Watermark","Behavior:BackPage","Behavior:MirrorMargins","Behavior:PrintOnPreviousPage","Behavior:ResetPageNumber","Behavior:StartOnOddPage","Behavior:TitleBeforeHeader","Behavior:Visible","Data:OutlineExpression","Design:Name",{prop:"Design:ExtraDesignWidth",afterSetValue:t},"Paper:BottomMargin",{prop:"Paper:Landscape",setValue:function(e,i){var n,r;this.prop(e)!==i&&(this.prop(e,i),n=this.prop("PaperWidth"),r=this.prop("PaperHeight"),this.prop("PaperWidth",r),this.prop("PaperHeight",n),t.call(this))}},{prop:"Paper:LeftMargin",afterSetValue:t},{prop:"Paper:PaperWidth",afterSetValue:t},"Paper:PaperHeight","Paper:RawPaperSize",{prop:"Paper:RightMargin",afterSetValue:t},"Paper:TopMargin","Print:Duplex","Print:FirstPageSource","Print:OtherPagesSource"]),this.mainFields=[["Design:Name"],["Paper:PaperWidth","Paper:PaperHeight"]]}}),s&&e.extend(s,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:HoverStyle","Appearance:Style","Behavior:CanBreak","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:FirstRowStartsNewPage","Behavior:KeepChild","Behavior:Printable","Behavior:PrintOn","Behavior:PrintOnBottom","Behavior:RepeatOnEveryPage","Behavior:StartNewPage","Behavior:Visible","Design:Name","Design:Restrictions","Layout:Height"]),this.mainFields=[["Design:Name"],["Layout:Height"]]}}),a&&e.extend(a,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Font","Appearance:FormBorderStyle","Appearance:RightToLeft","Appearance:Text","Behavior:Visible","Design:Name",{prop:"Layout:Width",type:"number",attrs:{step:1}},{prop:"Layout:Height",type:"number",attrs:{step:1}},"Misc:AcceptButton","Misc:CancelButton"]),this.mainFields=[["Design:Name"],["Layout:Width","Layout:Height"]]}})}),define("cstn/Properties/extension/data",["jquery","utils"],function(t,e){"use strict";var i,n,r,o=e.getModules("data/");o.Connection&&(i=o.Connection.fillMap,e.extend(o.Connection,{fillMap:function(){i.call(this),this.fieldMap.append(["Data:CommandTimeout","Data:ConnectionString","Data:ConnectionStringExpression","Data:LoginPrompt"])}})),o.Column&&(n=o.Column.fillMap,e.extend(o.Column,{fillMap:function(){n.call(this),this.fieldMap.append(["Data:Calculated","Data:Expression","Design:BindableControl","Design:CustomBindableControl","Design:Format"]),this.mainFields.push(["Design:BindableControl"])}})),o.Parameter&&(r=o.Parameter.fillMap,e.extend(o.Parameter,{fillMap:function(){r.call(this),this.fieldMap.append(["Data:Expression","Misc:Description"])}}))}),define("cstn/Properties/extension/components/TextObject",["utils","components/TextObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Angle","Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:FirstTabOffset","Appearance:Font","Appearance:FontWidthRatio","Appearance:HorzAlign","Appearance:VertAlign","Appearance:HoverStyle","Appearance:LineHeight","Appearance:ParagraphOffset","Appearance:Style","Appearance:TabWidth","Appearance:TextFill","Appearance:Underlines","Behavior:AutoShrink","Behavior:AutoShrinkMinSize","Behavior:AutoWidth","Behavior:BreakTo","Behavior:CanBreak","Behavior:CanGrow","Behavior:CanShrink","Behavior:Clip","Behavior:Duplicates","Behavior:Exportable","Behavior:GrowToBottom","Behavior:HideValue","Behavior:HideZeros","Behavior:HtmlTags","Behavior:NullValue","Behavior:Printable","Behavior:PrintOn","Behavior:ProcessAt","Behavior:RightToLeft","Behavior:ShiftMode","Behavior:Trimming","Behavior:Visible","Behavior:WordWrap","Behavior:Wysiwyg","Data:AllowExpressions","Data:Brackets","Data:Format","Data:Highlight","Data:Text","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Padding","Layout:Top","Layout:Width"]),this.mainFields=[["Design:Name"],["Data:Text"]]}})}),define("cstn/Properties/extension/components/PictureObject",["utils","components/PictureObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Angle","Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:HoverStyle","Appearance:Style","Appearance:Tile","Appearance:Transparency","Appearance:TransparentColor","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom","Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:ShowErrorImage","Behavior:SizeMode","Behavior:Visible","Data:DataColumn","Data:Image","Data:ImageLocation","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width","Layout:MaxHeight","Layout:MaxWidth","Layout:Padding"]),this.mainFields=[["Data:Image","Data:ImageLocation"],["Data:DataColumn"]]}})}),define("cstn/Properties/extension/components/ShapeObject",["utils","components/ShapeObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor","Appearance:Curve","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:HoverStyle",{prop:"Appearance:Shape",type:"select",label:"Shape",collection:e.figures},"Appearance:Style","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom","Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:Visible","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width"]),this.mainFields=[["Design:Name"],["Appearance:Shape"]]}})}),define("cstn/Properties/extension/components/LineObject",["utils","components/LineObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor",{prop:"Appearance:Diagonal",type:"checkbox",label:"Diagonal"},{prop:"Appearance:StartCap:StartCap.Height",label:"Height",extraLabel:"StartCap height",type:"number"},{prop:"Appearance:StartCap:StartCap.Style",label:"Style",extraLabel:"StartCap style",type:"select",collection:e.tips},{prop:"Appearance:StartCap:StartCap.Width",label:"Width",extraLabel:"StartCap width",type:"number"},{prop:"Appearance:EndCap:EndCap.Height",label:"Height",extraLabel:"EndCap height",type:"number"},{prop:"Appearance:EndCap:EndCap.Style",label:"Style",extraLabel:"EndCap style",type:"select",collection:e.tips},{prop:"Appearance:EndCap:EndCap.Width",label:"Width",extraLabel:"EndCap width",type:"number"},"Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Style","Appearance:HoverStyle","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom","Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:Visible","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width"]),this.mainFields=[["Appearance:StartCap:StartCap.Height","Appearance:StartCap:StartCap.Style","Appearance:StartCap:StartCap.Width"],["Appearance:EndCap:EndCap.Height","Appearance:EndCap:EndCap.Style","Appearance:EndCap:EndCap.Width"]]}})}),define("cstn/Properties/extension/components/SubreportObject",["jquery","utils","components/SubreportObject","cstn/Properties/properties"],function(t,e,i,n){"use strict";e.extend(i,{fillMap:function(){this.fieldMap=n.factory(["Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:HoverStyle","Behavior:GrowToBottom","Behavior:PrintOn","Behavior:PrintOnParent","Behavior:ShiftMode","Behavior:Visible","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width",{prop:"Misc:ReportPage",collection:function(){return t.grep(require("currentReport").pages.all(["ReportPage"]),function(t){return t.attr("isSubreport")})}}])}})}),define("cstn/Properties/extension/components/TableObject",["utils","components/TableObject","cstn/Properties/properties","EventEmitter"],function(t,e,i,n){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border",{prop:"Appearance:ColumnCount",type:"number",attrs:{min:0,max:20},setValue:function(t,e){this.attr(t,e,1),this.update()}},{prop:"Appearance:RowCount",type:"number",attrs:{min:0,max:20},setValue:function(t,e){this.attr(t,e,1),this.update(),n.trigger("balance-band",this.collection.container)}},"Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:HoverStyle","Appearance:Style",{prop:"Behavior:AdjustSpannedCellsWidth",type:"checkbox"},"Behavior:CanBreak","Behavior:Exportable","Behavior:GrowToBottom","Behavior:Layout","Behavior:Printable","Behavior:PrintOn",{prop:"Behavior:RepeatHeaders",type:"checkbox"},"Behavior:ShiftMode","Behavior:Visible",{prop:"Behavior:WrappedGap",type:"unit"},{prop:"Build:ManualBuildAutoSpans",type:"checkbox"},"Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width",{prop:"Layout:FixedColumns",type:"number",attrs:{min:0,max:4}},{prop:"Layout:FixedRows",type:"number",attrs:{min:0,max:4}}]),this.mainFields=[["Design:Name"],["Appearance:ColumnCount","Appearance:RowCount"]]}})}),define("cstn/Properties/extension/components/TableCell",["utils","components/TableObject/TableCell","cstn/Properties/properties","EventEmitter"],function(t,e,i,n){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Angle","Appearance:Border",{prop:"Appearance:ColSpan",type:"number",attrs:{min:1},afterSetValue:function(){this.getTable().update(),n.trigger("activate-component",require("currentReport").getSelected())}},{prop:"Appearance:RowSpan",type:"number",attrs:{min:1},afterSetValue:function(){this.getTable().update(),n.trigger("activate-component",require("currentReport").getSelected())}},"Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:FirstTabOffset","Appearance:Font","Appearance:FontWidthRatio","Appearance:HorzAlign","Appearance:HoverStyle","Appearance:LineHeight","Appearance:ParagraphOffset","Appearance:Style","Appearance:TabWidth","Appearance:TextFill","Appearance:Underlines","Appearance:VertAlign","Behavior:AutoShrink","Behavior:AutoShrinkMinSize","Behavior:BreakTo","Behavior:CanBreak","Behavior:Clip","Behavior:Exportable","Behavior:HideValue","Behavior:HideZeros","Behavior:HtmlTags","Behavior:NullValue","Behavior:Printable","Behavior:PrintOn","Behavior:ProcessAt","Behavior:RightToLeft","Behavior:Trimming","Behavior:Visible","Behavior:WordWrap","Behavior:Wysiwyg","Data:AllowExpressions","Data:Brackets","Data:Format","Data:Highlight","Data:Text","Design:Name","Design:Restrictions","Layout:Padding"]),this.mainFields=[["Design:Name"],["Data:Text"]]}})}),define("cstn/Properties/extension/components/TableColumn",["utils","components/TableObject/TableColumn","cstn/Properties/properties","EventEmitter"],function(t,e,i,n){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory([{prop:"Behavior:AutoSize",defaultValue:!1},"Behavior:Visible","Design:Name","Design:Restrictions","Layout:MaxWidth","Layout:MinWidth",{prop:"Layout:Width",setValue:function(t,e){var i;e>this.prop("MaxWidth")&&(i=this.prop("MaxWidth")),e<this.prop("MinWidth")&&(i=this.prop("MinWidth")),this.prop(t,i||e),i&&n.trigger("update-properties-panel",this),this.getTable().update(),this.activate()}}])}})}),define("cstn/Properties/extension/components/TableRow",["utils","components/TableObject/TableRow","cstn/Properties/properties","EventEmitter"],function(t,e,i,n){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory([{prop:"Behavior:AutoSize",defaultValue:!1},"Behavior:Visible","Design:Name","Design:Restrictions","Layout:MaxHeight","Layout:MinHeight",{prop:"Layout:Height",setValue:function(t,e){var i;e>this.prop("MaxHeight")&&(i=this.prop("MaxHeight")),e<this.prop("MinHeight")&&(i=this.prop("MinHeight")),this.prop(t,i||e),i&&n.trigger("update-properties-panel",this),this.getTable().update(),n.trigger("balance-band",this.getTable().collection.container),this.activate()}}])}})}),define("cstn/Properties/extension/components/MatrixObject",["utils","components/MatrixObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:HoverStyle","Appearance:Style",{prop:"Behavior:AdjustSpannedCellsWidth",type:"checkbox"},{prop:"Behavior:AutoSize",afterSetValue:function(){this.showResizingComponents()}},{prop:"Behavior:CellsSideBySide",type:"checkbox"},"Behavior:Exportable",{prop:"Behavior:KeepCellsSideBySide",type:"checkbox"},"Behavior:Layout",{prop:"Behavior:MatrixEventStylePriority",type:"select",collection:["Rows","Columns"]},"Behavior:Printable","Behavior:PrintOn",{prop:"Behavior:RepeatHeaders",type:"checkbox"},"Behavior:ShiftMode",{prop:"Behavior:ShowTitle",type:"checkbox",afterSetValue:this.onShowTitleChange},"Behavior:Visible",{prop:"Behavior:WrappedGap",type:"unit"},"Data:DataSource","Data:Filter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width"]),this.mainFields=[["Design:Name"],["Data:DataSource"]]}})}),define("cstn/Properties/extension/components/BarcodeObject",["utils","components/BarcodeObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Angle",{prop:"Appearance:Barcode",label:"Barcode",fields:{Barcode:{label:"Type",type:"select",origin:"Appearance:Barcode:Barcode",collection:e.types},"Barcode.CalcCheckSum":{label:"CalcCheckSum",type:"checkbox",defaultValue:!0},"Barcode.WideBarRatio":{label:"WideBarRatio",type:"number",defaultValue:2,attrs:{min:2,max:3,step:1}}}},"Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:Style","Appearance:HoverStyle",{prop:"Appearance:Zoom",type:"number",attrs:{min:1}},"Behavior:AutoSize","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom","Behavior:HideIfNoData","Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:ShowText","Behavior:Visible","Data:AllowExpressions","Data:Brackets","Data:DataColumn","Data:Expression","Data:NoDataText","Data:Text","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Padding","Layout:Top","Layout:Width"]),this.mainFields=[["Design:Name"],["Appearance:Barcode:Barcode"]]}})}),define("cstn/Properties/extension/components/RichObject",["utils","components/RichObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:Style","Appearance:HoverStyle","Behavior:BreakTo","Behavior:CanGrow","Behavior:CanBreak","Behavior:CanShrink","Behavior:Duplicates","Behavior:Exportable","Behavior:GrowToBottom","Behavior:HideValue","Behavior:HideZeros","Behavior:NullValue","Behavior:Printable","Behavior:PrintOn","Behavior:ProcessAt","Behavior:ShiftMode","Behavior:Visible","Data:AllowExpressions","Data:Brackets","Data:DataColumn","Data:Format","Data:Text","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width","Layout:Padding",{prop:"Misc:OldBreakStyle",type:"checkbox"}]),this.mainFields=[["Design:Name"]]}})}),define("cstn/Properties/extension/components/CheckBoxObject",["utils","components/CheckBoxObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border",{prop:"Appearance:CheckColor",type:"color",label:"CheckColor"},{prop:"Appearance:CheckedSymbol",type:"select",label:"CheckedSymbol",collection:["Check","Cross","Plus","Fill"]},{prop:"Appearance:CheckWithRatio",type:"number",attrs:{min:.2,max:2,step:.1}},"Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:Style","Appearance:HoverStyle",{prop:"Appearance:UncheckedSymbol",label:"UncheckedSymbol",type:"select",collection:["None","Cross","Minus"]},"Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom",{prop:"Behavior:HideIfUnchecked",type:"checkbox",label:"HideIfUnchecked"},"Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:Visible",{prop:"Data:Checked",type:"checkbox",label:"Checked"},"Data:DataColumn","Data:Expression","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width"]),this.mainFields=[["Data:Checked","Appearance:CheckColor"],["Appearance:CheckedSymbol","Appearance:UncheckedSymbol"]]}})}),define("cstn/Properties/extension/components/CellularTextObject",["utils","components/CellularTextObject","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border",{prop:"Appearance:CellWidth",type:"unit",afterSetValue:this.setMinWH},{prop:"Appearance:CellHeight",type:"unit",afterSetValue:this.setMinWH},"Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:Font","Appearance:HorzAlign",{prop:"Appearance:HorzSpacing",type:"unit"},"Appearance:HoverStyle","Appearance:ParagraphOffset","Appearance:Style","Appearance:TextFill","Appearance:VertAlign",{prop:"Appearance:VertSpacing",type:"unit"},"Behavior:CanGrow","Behavior:CanShrink","Behavior:Duplicates","Behavior:Exportable","Behavior:GrowToBottom","Behavior:HideValue","Behavior:HideZeros","Behavior:NullValue","Behavior:Printable","Behavior:PrintOn","Behavior:ProcessAt","Behavior:ShiftMode","Behavior:Visible","Behavior:WordWrap","Data:AllowExpressions","Data:Brackets","Data:Format","Data:Highlight","Data:Text","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width"]),this.mainFields=[["Design:Name"],["Data:Text"]]}})}),define("cstn/Properties/extension/components/LinearGauge",["utils","components/LinearGauge","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:HoverStyle","Appearance:Inverted","Appearance:Pointer","Appearance:Scale:Font","Appearance:Scale:MajorTicks","Appearance:Scale:MinorTicks","Appearance:Style","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom","Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:Visible","Data:Expression","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width","Layout:Maximum","Layout:Minimum","Layout:Value"]),this.mainFields=[["Design:Name"],["Data:Expression"]]}})}),define("cstn/Properties/extension/components/SimpleGauge",["utils","components/SimpleGauge","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Border","Appearance:Cursor","Appearance:EvenStyle","Appearance:EvenStylePriority","Appearance:Fill:Fill.Color","Appearance:Style","Appearance:HoverStyle","Appearance:Pointer","Appearance:Scale","Behavior:CanGrow","Behavior:CanShrink","Behavior:Exportable","Behavior:GrowToBottom","Behavior:Printable","Behavior:PrintOn","Behavior:ShiftMode","Behavior:Visible","Data:Expression","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock","Layout:Height","Layout:Left","Layout:Top","Layout:Width","Layout:Maximum","Layout:Minimum","Layout:Value"]),this.mainFields=[["Design:Name"],["Data:Expression"]]}})}),define("cstn/Properties/extension/controls/ButtonControl",["utils","controls/ButtonControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:Image","Appearance:ImageAlign","Appearance:RightToLeft","Appearance:TextAlign","Appearance:TextImageRelation","Behavior:AutoSize","Behavior:DialogResult","Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:Text",exprMenu:!1},"Data Filtering:DetailControl","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"},{prop:"Layout:Width",type:"number"},{prop:"Layout:Height",type:"number"}])}})}),define("cstn/Properties/extension/controls/CheckBoxControl",["utils","controls/CheckBoxControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:Appearance","Appearance:BackColor","Appearance:CheckAlign","Appearance:Checked","Appearance:CheckState","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:Image","Appearance:ImageAlign","Appearance:RightToLeft","Appearance:TextAlign","Appearance:TextImageRelation","Appearance:ThreeState","Behavior:AutoSize","Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:Text",afterSetValue:function(){this.prop("Width",this.prop("Text").width({"font-size":this.attr("Font.Size"),"font-family":this.attr("Font.Name")})+2*e.CHECKBOXWH)}},"Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"}])}})}),define("cstn/Properties/extension/controls/CheckedListBoxControl",["utils","controls/CheckedListBoxControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:RightToLeft","Behavior:ColumnWidth","Behavior:Enabled","Behavior:MultiColumn","Behavior:SelectionMode","Behavior:Sorted","Behavior:TabIndex","Behavior:TabStop","Behavior:UseTabStops","Behavior:Visible",{prop:"Data:ItemsText",label:"Items",type:"text",expression:!0,exprMenu:!1},"Data Filtering:AutoFill","Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"},{prop:"Layout:Width",type:"number"},{prop:"Layout:Height",type:"number"},{prop:"Misc:CheckOnClick",type:"checkbox"}])}})}),define("cstn/Properties/extension/controls/ComboBoxControl",["utils","controls/ComboBoxControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:DrawMode","Appearance:DropDownHeight","Appearance:DropDownStyle","Appearance:DropDownWidth","Appearance:Font","Appearance:ForeColor","Appearance:ItemHeight","Appearance:MaxDropDownItems","Appearance:RightToLeft","Behavior:Enabled","Behavior:Sorted","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:ItemsText",label:"Items",type:"text",expression:!0,exprMenu:!1},{prop:"Data:Text",type:"text",expression:!0,exprMenu:!1},"Data Filtering:AutoFill","Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"},{prop:"Layout:Width",type:"number"},{prop:"Layout:Height",type:"number"}])}})}),define("cstn/Properties/extension/controls/DateTimePickerControl",["utils","controls/DateTimePickerControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor",{prop:"Appearance:DropDownAlign",type:"select",collection:["Left","Right"]},"Appearance:Font","Appearance:ForeColor","Appearance:RightToLeft",{prop:"Appearance:ShowCheckBox",type:"checkbox"},{prop:"Appearance:ShowUpDown",type:"checkbox"},{prop:"Behavior:Checked",type:"checkbox"},"Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:CustomFormat",label:"CustomFormat",type:"text"},{prop:"Data:Format",label:"Format",type:"select",collection:["Long","Short","Time","Custom"]},{prop:"Data:MaxDate",label:"MaxDate",type:"datetime"},{prop:"Data:MinDate",label:"MinDate",type:"datetime"},{prop:"Data:Value",label:"Value",type:"datetime"},"Data Filtering:AutoFill","Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"},{prop:"Layout:Width",type:"number"},{prop:"Layout:Height",type:"number"}])}})}),define("cstn/Properties/extension/controls/LabelControl",["utils","controls/LabelControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:RightToLeft","Appearance:TextAlign","Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:Text",afterSetValue:function(){this.prop("Width",this.prop("Text").width({
"font-size":this.attr("Font.Size"),"font-family":this.attr("Font.Name")})+10)}},"Design:Name","Design:Restrictions","Layout:Anchor","Layout:AutoSize","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"}])}})});define("cstn/Properties/extension/controls/ListBoxControl",["utils","controls/ListBoxControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:DrawMode","Appearance:Font","Appearance:ForeColor","Appearance:ItemHeight","Appearance:RightToLeft","Behavior:ColumnWidth","Behavior:MultiColumn","Behavior:SelectionMode","Behavior:Sorted","Behavior:UseTabStops","Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:ItemsText",label:"Items",type:"text",expression:!0,exprMenu:!1},"Data Filtering:AutoFill","Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"},{prop:"Layout:Width",type:"number"},{prop:"Layout:Height",type:"number"}])}})});define("cstn/Properties/extension/controls/MonthCalendarControl",["utils","controls/MonthCalendarControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:RightToLeft","Appearance:ShowToday","Appearance:ShowTodayCircle","Appearance:ShowWeekNumbers",{prop:"Data:FirstDayOfWeek",type:"select",collection:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Default"]},{prop:"Data:MaxDate",label:"MaxDate",type:"datetime"},{prop:"Data:MinDate",label:"MinDate",type:"datetime"},{prop:"Data:MaxSelectionCount",type:"number"},{prop:"Data:TodayDate",label:"TodayDate",type:"datetime"},{prop:"Data:Text",exprMenu:!1},"Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible","Data Filtering:AutoFill","Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions",{prop:"Layout:CalendarDimensions",type:"text"},"Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"}])}})}),define("cstn/Properties/extension/controls/RadioButtonControl",["utils","controls/RadioButtonControl","cstn/Properties/properties"],function(t,e,i){"use strict";t.extend(e,{fillMap:function(){this.fieldMap=i.factory(["Appearance:BackColor","Appearance:CheckAlign","Appearance:Checked","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:Image","Appearance:ImageAlign","Appearance:RightToLeft","Appearance:TextAlign","Appearance:TextImageRelation","Behavior:AutoSize","Behavior:Enabled","Behavior:TabIndex","Behavior:TabStop","Behavior:Visible",{prop:"Data:Text",afterSetValue:function(){this.prop("Width",this.prop("Text").width({"font-size":this.attr("Font.Size"),"font-family":this.attr("Font.Name")})+2*this.attr("radioCX"))}},"Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"}])}})}),define("cstn/Properties/extension/controls/TextBoxControl",["jquery","utils","controls/TextBoxControl","cstn/Properties/properties","EventEmitter"],function(t,e,i,n,r){"use strict";e.extend(i,{fillMap:function(){this.fieldMap=n.factory(["Appearance:BackColor","Appearance:Cursor","Appearance:Font","Appearance:ForeColor","Appearance:RightToLeft","Appearance:ScrollBars",{prop:"Appearance:TextAlign",collection:["Left","Center","Right"]},"Behavior:AcceptsReturn","Behavior:AcceptsTab","Behavior:CharacterCasing","Behavior:Enabled","Behavior:MaxLength",{prop:"Behavior:Multiline",setValue:function(e,i){this.prop(e,i),this.$resizing.each(function(){t(this).remove()}),this.$resizing=null,this.attr("resizableY",i),this.attr("resizableXY",i),i?this.prop("Height",this.attr("mulTHeight")):this.prop("Height",this.attr("mulFHeight")),this.touch(),this.render(),r.trigger("activate",this)}},"Behavior:ReadOnly","Behavior:TabIndex","Behavior:TabStop","Behavior:UseSystemPasswordChar","Behavior:Visible","Behavior:WordWrap","Data:Text","Data Filtering:AutoFill","Data Filtering:AutoFilter","Data Filtering:DataColumn","Data Filtering:DetailControl","Data Filtering:FilterOperation","Data Filtering:ReportParameter","Design:Name","Design:Restrictions","Layout:Anchor","Layout:Dock",{prop:"Layout:Left",type:"number"},{prop:"Layout:Top",type:"number"}])}})}),define("cstn/Properties/extension/bands/ReportTitleBand",["utils","bands/ReportTitleBand"],function(t,e){"use strict";var i=e.fillMap;t.extend(e,{fillMap:function(){i&&i.call(this),this.fieldMap.remove(["Behavior:RepeatOnEveryPage"])}})}),define("cstn/Properties/extension/bands/ReportSummaryBand",function(){}),define("cstn/Properties/extension/bands/PageHeaderBand",["utils","bands/PageHeaderBand"],function(t,e){"use strict";var i=e.fillMap;t.extend(e,{fillMap:function(){i&&i.call(this),this.fieldMap.remove(["Behavior:PrintOnBottom","Behavior:RepeatOnEveryPage","Behavior:StartNewPage"])}})}),define("cstn/Properties/extension/bands/PageFooterBand",["utils","bands/PageFooterBand"],function(t,e){"use strict";var i=e.fillMap;t.extend(e,{fillMap:function(){i&&i.call(this),this.fieldMap.remove(["Behavior:PrintOnBottom","Behavior:RepeatOnEveryPage","Behavior:StartNewPage"])}})}),define("cstn/Properties/extension/bands/ColumnHeaderBand",function(){}),define("cstn/Properties/extension/bands/ColumnFooterBand",function(){}),define("cstn/Properties/extension/bands/DataHeaderBand",function(){}),define("cstn/Properties/extension/bands/DataBand",["utils","bands/DataBand"],function(t,e){"use strict";var i=e.fillMap;t.extend(e,{fillMap:function(){i&&i.call(this),this.fieldMap.rebuild(["Appearance:Columns:Columns.Count","Appearance:Columns:Columns.Layout","Appearance:Columns:Columns.MinRowCount","Appearance:Columns:Columns.Width","Behavior:CollectChildRows","Behavior:KeepDetail","Behavior:KeepTogether","Behavior:PrintIfDatasourceEmpty","Behavior:PrintIfDetailEmpty","Behavior:ResetPageNumber","Data:DataSource","Data:Filter","Data:MaxRows","Data:Relation","Data:RowCount"],["Behavior:RepeatOnEveryPage"]),this.mainFields=[["Design:Name","Layout:Height"],["Data:DataSource"]]}})}),define("cstn/Properties/extension/bands/DataFooterBand",function(){}),define("cstn/Properties/extension/bands/GroupHeaderBand",["utils","bands/GroupHeaderBand"],function(t,e){"use strict";var i=e.fillMap;t.extend(e,{fillMap:function(){i&&i.call(this),this.fieldMap.append(["Behavior:KeepTogether","Behavior:KeepWithData","Behavior:ResetPageNumber","Behavior:SortOrder","Data:Condition"])}})}),define("cstn/Properties/extension/bands/GroupFooterBand",function(){}),define("cstn/Properties/extension/bands/ChildBand",["utils","bands/ChildBand"],function(t,e){"use strict";var i=e.fillMap;t.extend(e,{fillMap:function(){i&&i.call(this),this.fieldMap.append(["Behavior:CompleteToNRows","Behavior:FillUnusedSpace"])}})}),define("cstn/Properties/extension/bands/OverlayBand",function(){}),define("cstn/Properties/Main",["jquery","utils","l10n","cstn/Properties/Base","EventEmitter","cstn/Properties/extension/base","cstn/Properties/extension/data","cstn/Properties/extension/components/TextObject","cstn/Properties/extension/components/PictureObject","cstn/Properties/extension/components/ShapeObject","cstn/Properties/extension/components/LineObject","cstn/Properties/extension/components/SubreportObject","cstn/Properties/extension/components/TableObject","cstn/Properties/extension/components/TableCell","cstn/Properties/extension/components/TableColumn","cstn/Properties/extension/components/TableRow","cstn/Properties/extension/components/MatrixObject","cstn/Properties/extension/components/BarcodeObject","cstn/Properties/extension/components/RichObject","cstn/Properties/extension/components/CheckBoxObject","cstn/Properties/extension/components/CellularTextObject","cstn/Properties/extension/components/LinearGauge","cstn/Properties/extension/components/SimpleGauge","cstn/Properties/extension/controls/ButtonControl","cstn/Properties/extension/controls/CheckBoxControl","cstn/Properties/extension/controls/CheckedListBoxControl","cstn/Properties/extension/controls/ComboBoxControl","cstn/Properties/extension/controls/DateTimePickerControl","cstn/Properties/extension/controls/LabelControl","cstn/Properties/extension/controls/ListBoxControl","cstn/Properties/extension/controls/MonthCalendarControl","cstn/Properties/extension/controls/RadioButtonControl","cstn/Properties/extension/controls/TextBoxControl","cstn/Properties/extension/bands/ReportTitleBand","cstn/Properties/extension/bands/ReportSummaryBand","cstn/Properties/extension/bands/PageHeaderBand","cstn/Properties/extension/bands/PageFooterBand","cstn/Properties/extension/bands/ColumnHeaderBand","cstn/Properties/extension/bands/ColumnFooterBand","cstn/Properties/extension/bands/DataHeaderBand","cstn/Properties/extension/bands/DataBand","cstn/Properties/extension/bands/DataFooterBand","cstn/Properties/extension/bands/GroupHeaderBand","cstn/Properties/extension/bands/GroupFooterBand","cstn/Properties/extension/bands/ChildBand","cstn/Properties/extension/bands/OverlayBand"],function(t,e,i,n,r){"use strict";var o=e.object(n,{pos:1,className:"properties",icon:"icon-078",titleText:i.tr("Properties"),create:function(){return this.$title=t("<div>"),this.$body=t("<div>"),this},update:function(e){var i;return!!e&&(this.$title&&(this.$titleMain||(this.$titleMain=t("<strong>"),this.$titleExtra=t("<span>"),this.$title.append(this.$titleMain,this.$titleExtra)),this.$titleMain.text(this.titleText+" "),this.$titleExtra.text(e.toString())),r.trigger("clear-cstn-panel",this.$body),i=this.build(e,e.fieldMap),this.$body&&(this.$body.replaceWith(i),this.$body=i),this)},clear:function(){delete this.$titleMain,delete this.$titleExtra}});return o}),define("cstn/ReportTree/ext",["jquery","utils","Entity","Report","Page","ReportPage","Container","Band","Dialog","Component","components/TableObject","components/TableObject/TableCell","components/TableObject/TableRow","components/TableObject/TableColumn"],function(t,e,i,n,r,o,s,a,l,c,u,h,p,d){"use strict";var f=n.createDialog,g=n.createPage,m=s.put,v=s.render,b=s.remove,y=a.put,x=c.render,C=c.remove,w=l.put,k=u.update,_=h.put;e.getModule("Code").buildTree=function(){},e.extend(i,{selfTree:null,statusTree:1,selectedInTree:null,buildHTMLTreeBlock:function(e){var i={$main:t("<li>"),$expand:t("<div>"),$icon:t("<div>"),$content:t("<div>"),$container:t("<ul>")};return i.$main.addClass("rt-node"),i.$expand.addClass("rt-expand icon-leaf"),i.$icon.addClass("rt-icon"),i.$content.addClass("rt-content"),i.$container.addClass("rt-container"),i.$main.append(i.$expand,i.$icon,i.$content,i.$container),e&&e.icon&&i.$icon.addClass(e.icon),i},rebuildTree:function(){var t;return this.selfTree?(t=this.selfTree.$main,this.selfTree=null,this.buildTree(),t.replaceWith(this.selfTree.$main),this.selfTree.$main):this.buildTree()},buildTree:function(){return this.selfTree=this.selfTree||this.buildHTMLTreeBlock({icon:this.attr("icon")||this.icon}),this.statusTree=this.statusTree,this.selfTree.$main.data("entity",this),this.selfTree.$main},putInTree:function(t){return!(!this.selfTree||!t)&&(t.find(this.selfTree.$container).length&&t.replaceWith(this.selfTree.$main),this.selfTree.$container.find(t).length||this.selfTree.$container.append(t),t.removeClass("fr-hidden"),void this.updateTreeView())},removeFromTree:function(t){t.addClass("fr-hidden"),this.updateTreeView()},updateTreeView:function(){var t=this.selfTree;t&&(t.$content.text(this),t.$container.children().length?this.statusTree?t.$expand.addClass("icon-exp_minus").removeClass("icon-leaf"):t.$expand.addClass("icon-exp_plus").removeClass("icon-leaf"):t.$expand.removeClass("icon-exp_minus icon-exp_plus").addClass("icon-leaf"))}}),e.extend(n,{buildTree:function(){var t=this;return i.buildTree.call(this),this.pages.eachEntity(function(e){t.putInTree(e.buildTree())}),this.updateTreeView(),this.selfTree.$main.addClass("rt-root"),this.selfTree.$main},createPage:function(){var t=g.apply(this,arguments);return this.putInTree(t.buildTree()),t},createDialog:function(){var t=f.apply(this,arguments);return this.putInTree(t.buildTree()),t}}),e.extend(s,{updateExts:function(){this.rebuildTree()},put:function(t){m.apply(this,arguments),this.putInTree(t.buildTree())},render:function(){return this.attr("removed")&&this.collection.container.putInTree(this.buildTree()),v.apply(this,arguments)},remove:function(){return this.collection.container.removeFromTree(this.selfTree.$main),b.apply(this,arguments)}}),e.extend(l,{put:function(t){return w.apply(this,arguments),this.putInTree(t.buildTree()),this},buildTree:function(){return r.buildTree.call(this),this.updateTreeView(),this.selfTree.$main.addClass("rt-form"),this.selfTree.$main}}),o.buildTree=function(){var t=this;return r.buildTree.call(this),this.bands.eachEntity(function(e){t.putInTree(e.buildTree())}),this.updateTreeView(),this.selfTree.$main.addClass("rt-page"),this.selfTree.$main},e.extend(a,{buildTree:function(){var t=this;return s.buildTree.call(this),this.bands.eachEntity(function(e){t.putInTree(e.buildTree())}),this.components.eachEntity(function(e){t.putInTree(e.buildTree())}),this.updateTreeView(),this.selfTree.$main},put:function(t){var e=t.collection&&t.collection.container;return this.putInTree(t.buildTree()),e&&e.updateTreeView(),y.apply(this,arguments)}}),e.extend(c,{render:function(){return this.attr("removed")&&this.collection.container.putInTree(this.buildTree()),x.apply(this,arguments)},remove:function(){return this.collection.container.removeFromTree(this.selfTree.$main),C.apply(this,arguments)},buildTree:function(){return i.buildTree.call(this),this.updateTreeView(),this.selfTree.$main}}),u.update=function(){var t=k.apply(this,arguments);return this.rebuildTree(),t},u.buildTree=function(){var t,e;for(c.buildTree.call(this),t=0,e=this.columns.length;t<e;t+=1)this.putInTree(this.columns[t].buildTree());for(t=0,e=this.rows.length;t<e;t+=1)this.putInTree(this.rows[t].rebuildTree());return this.updateTreeView(),this.selfTree.$main},h.put=function(t){return this.putInTree(t.buildTree()),_.apply(this,arguments)},h.buildTree=function(){var t=this;return c.buildTree.call(this),this.components.eachEntity(function(e){t.putInTree(e.buildTree())}),this.updateTreeView(),this.selfTree.$main},p.buildTree=function(){var t,e;for(i.buildTree.call(this),t=0,e=this.cells.length;t<e;t+=1)this.putInTree(this.cells[t].buildTree());return this.updateTreeView(),this.selfTree.$main},d.buildTree=function(){return i.buildTree.call(this),this.updateTreeView(),this.selfTree.$main}}),define("cstn/ReportTree/Main",["jquery","utils","l10n","EventEmitter","Entity","cstn/ReportTree/ext"],function(t,e,i,n,r){"use strict";var o={pos:3,className:"report-tree",icon:"icon-189",titleText:i.tr("ReportTree"),create:function(){var e=require("currentReport");return this.$body=t("<ul>").append(e.buildTree()),this.$body.addClass("rt-container"),this.$title=t("<div>"),this.$title.text(this.titleText),this.$body.addClass("rt-main-container"),this},bindEvents:function(){var e=require("currentReport");e.selfTree.$main.on("click",".rt-content",function(){n.trigger("activate",t(this).parent().data("entity"))}),e.selfTree.$main.on("click",".rt-expand, .rt-icon",function(){var e,i=t(this);return i.is(".rt-icon")&&(i=i.prev(".rt-expand")),e=i.parent().data("entity"),i.is(".icon-exp_minus")?e.selfTree.$container.slideUp(100,function(){i.removeClass("icon-exp_minus").addClass("icon-exp_plus"),e.statusTree=0}):i.is(".icon-exp_plus")&&e.selfTree.$container.slideDown(100,function(){i.removeClass("icon-exp_plus").addClass("icon-exp_minus"),e.statusTree=1}),!1}),n.bind("select-in-tree",function(t){var e;return r.selectedInTree&&r.selectedInTree.removeClass("selected"),!(!t||!t.selfTree)&&(r.selectedInTree=t.selfTree.$content,r.selectedInTree.addClass("selected"),e=r.selectedInTree.parents(".rt-page,.rt-form").data("entity"),e&&n.trigger("show-page",e),this)})}};return e.object(o)}),define("cstn/Main",["jquery","config","utils","EventEmitter"],function(t,e,i,n){"use strict";return function(){function r(){var e=t("<div>"),i=t("<div>"),n=t("<div>");return e.html('<i class="fa fa-times"></i>'),i.html('<i class="fa fa-paperclip"></i>'),i.addClass("fr-hidden"),e.addClass("close-panel cstn-mb"),i.addClass("attach-panel cstn-mb"),n.addClass("cstn-header-mb"),n.append(i,e),n}function o(){for(var i,n,o,s,a,l,u,h,p=0,d=arguments.length;p<d;p+=1)i=arguments[p],i&&(o=i.className,n=i.opt=e.get("customization:"+o),n.enable&&(n.button&&(s=t("<a>"),a=t("<div>"),a.addClass(i.icon),s.addClass(o),s.addClass("cstn-control"),s.append(a),c.$controls.append(s)),l=t("<div>"),l.addClass("cstn-panel"),l.toggleClass("has-border",n.hasBorder),l.addClass(o+"-pane"),n.background&&l.css("background",n.background),u=i.$title,u&&(n.header?(u.addClass("cstn-panel-title"),n.movable&&!i.$miniButtons&&(u.addClass("cstn-panel-title-movable"),i.$miniButtons=r(),u.append(i.$miniButtons)),l.append(u)):(u.remove(),u=null)),i.$body&&(h=t("<div>"),h.addClass("cstn-panel-body"),h.append(i.$body),l.append(h)),l.data("panel",{panel:i,$button:s,$icon:a,$group:l,$title:u,$body:h}),c.$mainContainer.append(l),c.panels.push(i)))}function s(e){var n,r,o,s,a,l,u=t(e.target);i.unify(e),a=e.pageX,l=e.pageY,s=c.$mainContainer[0].getBoundingClientRect(),n=u.parents(".cstn-panel"),r=n.data("panel"),r.panel.opt.movable&&(o=n[0].getBoundingClientRect(),c.isMoving={panel:r,disToCursorX:a-o.left,disToCursorY:l-o.top,mainLeft:s.left,mainTop:s.top,initPageX:a,initPageY:l})}function a(t){var e=t.$group,i=t.panel.opt;e.hasClass("detached-panel")||(i.resizable&&(i.direction?e.resizable({handles:"hors"===i.direction?"s":"e"}):e.resizable({handles:"se"})),e.addClass("detached-panel"),e.css("height",""),t.$title&&t.$title.find(".attach-panel").removeClass("fr-hidden"))}function l(t){var e=t.$group,i=t.panel.opt;e.hasClass("detached-panel")&&(t.$title&&t.$title.find(".attach-panel").addClass("fr-hidden"),e.removeClass("detached-panel"),e.css({height:"",width:"",top:"",left:""}),i.resizable&&e.resizable("destroy"))}var c=this,u=50,h=200;this.init=function(){function e(e,i){for(var n,r=e.children(),o=r.length;o--;)if(n=t(r[o]),n[i]()>0)return!0;return!1}var r,o,p=i.getModules("cstn/",null,!0),d=Object.keys(p),f=[],g=d.length;for(this.panels=this.panels||[],this.$node=t("<div>"),this.$controls=t("<div>"),this.$mainContainer=t("<div>"),this.$node.addClass("cstn"),this.$controls.addClass("cstn-controls"),this.$mainContainer.addClass("cstn-container"),this.$node.append(this.$controls,this.$mainContainer);g--;)o=d[g],r=o.split("/"),3===r.length&&"Main"===r[2]&&(r=p[o],r&&f.push(r));this.append.apply(this,f),n.bind("update-workspace-indent",function(){var t=require("currentReport"),i=c.$node.outerWidth(!0),n=t.$horzCntr,r=t.$vertCntr;t.attr("left",i),n&&(n.css("left",i),n.height(""),e(n,"height")?(t.$node.css("bottom",h+"px"),n.height(h+"px")):(t.$node.css("bottom",""),n.height(""))),r&&(r.width(""),e(r,"width")?(t.$node.css("right",h+"px"),r.width(h+"px")):(t.$node.css("right",""),r.width("")))}),n.bind("clear-cstn-panel",function(){t(".sp-container").remove()}),this.$controls.on("click","> a",function(e,i){var n=t(e.currentTarget),r=t.grep(c.panels,function(t){return n.hasClass(t.className)})[0];r&&r.$body&&c.toggle(r.$body.parents(".cstn-panel:first"),n,i)}),this.$mainContainer.on("mousedown",".cstn-panel-title-movable",function(e){return 0!==e.button||t(e.target).is(".cstn-mb")?null:void s(e)}),this.$mainContainer.on("touchstart",".cstn-panel-title",s),t(document.body).on("mousemove touchmove",function(t){var e,n,r,o=c.isMoving;return o?(i.unify(t),e=t.pageX,n=t.pageY,r=o.panel.$group,(!o.isSoared&&Math.abs(e-o.initPageX)>u||Math.abs(n-o.initPageY)>u)&&(o.isSoared=!0,a(o.panel),c.balance()),(o.isSoared||r.is(".detached-panel"))&&r.css({left:e-o.mainLeft-o.disToCursorX,top:n-o.mainTop-o.disToCursorY}),!1):null}),t(document.body).on("mouseup touchend",function(){c.isMoving=null}),this.$mainContainer.on("click",".close-panel",function(e){var i=t(e.target).parents(".cstn-panel"),n=i.data("panel");c.hide(i,n.$button)}),this.$mainContainer.on("click",".attach-panel",function(e){l(t(e.target).parents(".cstn-panel").data("panel")),c.balance()})},this.append=function(){var e,i=[].slice.call(arguments),n=[];for(i=i.sort(function(t,e){return e.pos-t.pos}),e=i.length;e--;)i[e].canBeRecreated===!1&&i[e].$body?n.push(i[e]):n.push(i[e].create(this)),"function"==typeof i[e].bindEvents&&i[e].bindEvents();t.when.apply(null,n).done(function(){o.apply(null,arguments),c.showDefaultPanels()})},this.clear=function(){this.panels.forEach(function(t){"function"==typeof t.clear&&t.clear()}),this.panels.length=0,this.$mainContainer.empty(),this.$controls.empty()},this.updateIndent=function(){n.trigger("update-workspace-indent")},this.recalculate=function(){var e=t(".opened:not(.detached-panel)",this.$mainContainer),i=e.length,n=100/i;e.height(n-.3+"%")},this.balance=function(){this.recalculate(),this.updateIndent()},this.show=function(t,e,i){t.addClass("opened"),i!==!1&&t.addClass("appear"),e&&e.addClass("active"),this.balance()},this.hide=function(t,e){t.removeClass("opened appear"),e&&e.removeClass("active"),this.balance()},this.toggle=function(t){this[t.is(".opened")?"hide":"show"].apply(this,arguments)},this.showDefaultPanels=function(){for(var e,i,n,r,o=this.panels,s=require("currentReport"),l=o.length;l--;)i=o[l],e=i.className,n=i.opt,r=i.$body.parents(".cstn-panel:first"),n.container?(r.css("height",""),"horz"===n.container?(s.$horzCntr||(s.$horzCntr=s.$horzCntr||t("<div>"),s.$horzCntr.addClass("fr-horz-cntr"),s.$node.after(s.$horzCntr)),s.$horzCntr.append(r)):"vert"===n.container&&(s.$vertCntr||(s.$vertCntr=s.$vertCntr||t("<div>"),s.$vertCntr.addClass("fr-vert-cntr"),s.$node.after(s.$vertCntr)),s.$vertCntr.append(r))):"undefined"!=typeof n.x&&"undefined"!=typeof n.y&&(a(r.data("panel")),"number"==typeof n.x&&r.css("left",n.x),"number"==typeof n.y&&r.css("top",n.y)),n&&n.shown&&this.show(r,this.$controls.find("."+e),!1)},this.init()}}),define("res/BaseToolbar",["jquery","config","utils","EventEmitter"],function(t,e,i,n){"use strict";return i.object({},{defer:t.Deferred(),create:function(){return i.object(this)},init:function(){this.$node=t("<div>"),this.$node.addClass("fr-menu"),this.$node.on("click dragstart","img,a",function(){return!1})},_select:function(e){t(".d-mc.menu-"+e,this.$node).addClass("d-wsb")},_isSelected:function(e){return t(".d-mc.menu-"+e,this.$node).hasClass("d-wsb")},_unselect:function(e){t(".d-mc.menu-"+e,this.$node).removeClass("d-wsb")},_has:function(e){return t(".d-mc.menu-"+e,this.$node).length},_lock:function(e){var i=t(".d-mc.menu-"+e,this.$node);i.length||(i=t(e+"",this.$node)),i.attr("disabled",!0)},_unlock:function(e){var i=t(".d-mc.menu-"+e,this.$node);i.length||(i=t(e+"",this.$node)),i.removeAttr("disabled")},_set:function(e,i){var n=t(".d-mc.menu-"+e,this.$node);n.length||(n=t(e+"",this.$node)),n.val(i),i&&n.is(".d-mc-auto-update")&&!n.find(":selected").length&&n.prepend('<option value="{0}">{1}</option>'.format(i,i))},_bindMenuListeners:function(r){function o(t){return t.split(" ").filter(function(t){return~t.indexOf("menu-")})[0]}var s=".d-mc[class*=menu-]:not([disabled])",a=i.debounce(function(){n.trigger("update-properties-panel")},500);r.on("click",s,function(e){var i=t(this),r=o(i.attr("class"));return i.is("select")?void t(".menu-helper").remove():void(r&&(n.trigger(r,i.val(),e,"click"),n.trigger("update-menu"),a()))}).on("change",s,function(e){var i=t(this),r=o(i.attr("class"));r&&(n.trigger(r,i.val(),e,"change"),n.trigger("update-menu"),a())}).on("input",s,function(e){var i=t(this),r=o(i.attr("class"));r&&(n.trigger(r,i.val(),e,"input"),a())}).on("focus",s,function(i){var r=t(this),s=o(r.attr("class"));e.set("hotkeyProhibited",!0),s&&n.trigger(s+"-start",r.val(),i,"focus")}).on("blur",s,function(i){var r=t(this),s=o(r.attr("class"));e.set("hotkeyProhibited",!1),s&&n.trigger(s+"-end",r.val(),i,"end")})},isReady:function(){return this.defer.promise()},lock:function(e){var i,n=0;for(t.isArray(e)||(e=[e]),i=e.length;n<i;n+=1)this._lock(e[n])},unlock:function(e){var i,n=0;for(t.isArray(e)||(e=[e]),i=e.length;n<i;n+=1)this._unlock(e[n])},set:function(e,i){var n,r=0;for(t.isArray(e)||(e=[e]),n=e.length;r<n;r+=1)this._set(e[r],i)},select:function(e){var i,n=0;for(t.isArray(e)||(e=[e]),i=e.length;n<i;n+=1)this._select(e[n])},unselect:function(e){var i,n=0;for(t.isArray(e)||(e=[e]),i=e.length;n<i;n+=1)this._unselect(e[n])},unselectAll:function(){t(".d-wsb",this.$node).removeClass("d-wsb")},isSelected:function(t){return this._isSelected(t)},has:function(t){return this._has(t)},lockAll:function(){t(".d-mc",this.$node).attr("disabled",!0)},getHeight:function(){return this.$node.outerHeight(!0)}})}),define("themes/classic/Toolbar",["jquery","utils","config","l10n","res/BaseToolbar","EventEmitter","unit"],function(t,e,i,n,r,o,s){"use strict";var a=150,l="themes/classic/";return e.object(r,{homeTab:function(){var i=t.Deferred(),n=this;return e.render(l+"toolbar/home-tab").done(function(e){return n._bindMenuListeners(e),n.$extra=t(".d-extra",e),n.$extraFirstLine=t(".fr-group-body-subcontainer:first",n.$extra),n.$extraSecondLine=t(".fr-group-body-subcontainer:last",n.$extra),i.resolve(e)}),i.promise()},layoutTab:function(){var i=t.Deferred(),n=this;return t.when(e.render(l+"toolbar/layout-tab",{})).done(function(t){return n._bindMenuListeners(t),i.resolve(t)}),i.promise()},viewTab:function(){var i=t.Deferred(),n=this;return t.when(e.render(l+"toolbar/view-tab",{units:s.all(),guides:!0})).done(function(t){return n._bindMenuListeners(t),i.resolve(t)}),i.promise()},componentsTab:function(i){var n,r=t.Deferred(),o=this,s=o.$navTabs.find('[data-tab="components"]');if(n=e.getModules(i&&i.isDialog()?"controls/":"components/"),!n||t.isEmptyObject(n))s.addClass("fr-hidden"),r.resolve(t("<div>"));else{if(i&&i.isCode())return s.attr("disabled",!0),null;n=Object.keys(n).map(function(t){return n[t]}),n=n.sort(function(t,e){return t.pos-e.pos}),t.when(e.render(l+"toolbar/components-tab",{data:n})).done(function(t){return s.css("display",""),r.resolve(t)})}return r.promise()},bandsTab:function(n){var r=t.Deferred(),s=this,a=s.$navTabs.find('[data-tab="bands"]'),c=e.getModules("bands/");if(i.get("add-bands")&&c&&!t.isEmptyObject(c)){if(n&&!n.isReportPage())return a.attr("disabled",!0),null;c=Object.keys(c).map(function(t){return c[t]}),c=c.sort(function(t,e){return t.pos-e.pos}),t.when(e.render(l+"toolbar/bands-tab",{data:c})).done(function(e){return e.on("click",".d-mc:not([disabled])",function(){var e=t(this);a.css("display",""),e.is("[data-band]")&&o.trigger("add-band",e.data("band"))}),r.resolve(e)})}else a.addClass("fr-hidden"),r.resolve(t("<div>"));return r.promise()},reportTab:function(){var i=t.Deferred(),n=this;return t.when(e.render(l+"toolbar/report-tab")).done(function(t){return n._bindMenuListeners(t),i.resolve(t)}),i.promise()},update:function(r){var s=this;e.render(l+"toolbar/toolbar").done(function(l){s.$node.empty().append(l),s.$tabContent=t(".fr-tab-content",s.$node),s.$navTabs=t(".fr-nav-tabs",s.$node),s.$tabsContainer=t(".fr-tabs-container",s.$tabContent),t.when(s.homeTab(r),s.reportTab(r),s.layoutTab(r),s.viewTab(r),s.componentsTab(r),s.bandsTab(r)).done(function(r,l,c,u,h,p){var d=s.currentTab||i.get("default-tab-menu");s.$tabsContainer.append(r,l,c,u,h,p),s.$navTabs.on("click",".d-tab:not([disabled])",function(){var e=t(this);return!!e.is("a[data-tab]")&&(s.$navTabs.find(".active").removeClass("active"),e.parent().addClass("active"),s.currentTab=e.data("tab"),s.$tabContent.find(".fr-tab-pane.active").removeClass("active"),s.$tabContent.find(".fr-tab-pane[data-tab="+s.currentTab+"]").addClass("active"),void s.$tabContent.slideDown(a,function(){o.trigger("align-workspace")}))}),d&&(d=s.$navTabs.find("a[data-tab="+d+"]"),d.length&&d.trigger("click")),s.$tabContent.on("click",".hide-menu",function(){s.$tabContent.slideUp(a,function(){o.trigger("align-workspace")}),s.$navTabs.find(".active").removeClass("active")}),s.$tabContent.on("click",".show-helper",function(){o.trigger("show-hotkey-helper")}),s.$tabContent.on("click",".fullscreen",function(){o.trigger("toogle-fullscreen")}),s.$tabContent.on("mouseenter",":not([disabled])[data-info]",function(){var r,o=t(this),a=n.tr(o.data("info"));return!e.isMobile&&(s.removeHelpers(),a&&a.length&&i.get("showHelpers")!==!1?(r=t("<div>"),r.addClass("menu-helper"),r.css({left:o.offset().left,top:s.$node.height()-1}),r.html(a),void s.$node.append(r)):null)}),s.$tabContent.on("mouseleave",":not([disabled])[data-info]",function(){s.removeHelpers()}),s.defer.resolve(s)})})},removeHelpers:function(){t(".menu-helper",this.$node).remove()}})}),define("themes/classic/Info",["jquery","config","utils","EventEmitter"],function(t,e,i,n){"use strict";var r="themes/classic/";return function(){var o=t.Deferred(),s=this,a=function(i){t("input[type=range]",s.$node).val(i||e.get("scale"))};this.$node=t("<div>"),this.$node.addClass("fr-info"),this.$node.on("click",".show-page",function(){n.trigger("activate-page-by-id",t(this).data("page"))}),this.$node.on("input change","input[type=range]",function(){var e=t(this),i=parseFloat(e.val(),10);n.trigger("scale-page",i)}),this.$node.on("click",".scale-page a",function(e){var i=t(e.currentTarget),r=parseFloat(t("input[type=range]",s.$node).val(),10);return i.find(".scale-plus").length?r+=.1:r-=.1,n.trigger("scale-page",r),!1}),this.update=function(t){t=t||{},i.render(r+"info",{page:t.page,allPages:t["all-pages"],band:t.band,component:t.component,amount:t.amount,scaleValue:t.scale}).done(function(e){s.$node.html(e),a(t.scale),o.resolve(s)})},this.getHeight=function(){return this.$node.outerHeight(!0)},this.isReady=function(){return o.promise()}}}),define("events/themes/Main",["jquery","config","utils","EventEmitter","queue","spectrum"],function(t,e,i,n,r){"use strict";return i.object(n,{_init:function(n){function o(t,e){"undefined"!=typeof t&&(n.unlock(e),t&&n.select(e))}function s(e){var n=h.$color,r=p._getSelected(),o="Fill.Color"===e?r[0].getFillColor():r[0].prop(e);i.isAvailable("color")?(n.trigger("click"),n.val(i.getHex(o))):(n.spectrum({color:i.getHex(o),preferredFormat:"hex",change:function(){t(".sp-container:not(.sp-hidden)").remove(),t(this).trigger("change keyup")}}),n.next().trigger("click"),t(".sp-container:not(.sp-hidden)").css({left:"40%",top:"16%"})),n.off("change keyup").on("change keyup",function(){for(var i,n=t(this).val(),o=r.length-1;o>=0;o-=1)i=r[o],i.canModify()&&i.canEdit()&&(i.prop(e,n,!0),i.render())})}function a(t){var e,i,r=["border-all","border-none","border-left","border-top","border-right","border-bottom"];if(!t||!t.canHaveProp("Appearance:Border:TopLine"))return n.lock(r),void n.unselect(r);if(n.unlock(r),n.unselect(r),e=t.prop("Border.Lines")){for(e=e.split(/,[\s]?/),i=e.length;i--;)n.select("border-"+e[i].toLowerCase());~e.indexOf("All")&&n.select(["border-left","border-top","border-right","border-bottom"])}else n.select("border-none")}var l=this.bind,c=this.trigger,u=this.report=require("currentReport"),h=this.head=require("head"),p=this;n&&(l("menu-fill-color",function(){s("Fill.Color")}),l("menu-border-color",function(){s("Border.Color")}),l("menu-text-fill",function(){s("TextFill.Color")}),l("menu-font-name",function(t){c("font-name",t)}),l("menu-font-width",function(t){c("font-width",t)}),l("menu-font-bold",function(){c("font-bold")}),l("menu-font-italic",function(){
c("font-italic")}),l("menu-font-underline",function(){c("font-underline")}),l("menu-font-strikeout",function(){c("font-strikeout")}),l("menu-horz-align-left",function(){c("horz-align-left")}),l("menu-horz-align-center",function(){c("horz-align-center")}),l("menu-horz-align-right",function(){c("horz-align-right")}),l("menu-horz-align-justify",function(){c("horz-align-justify")}),l("menu-border-all",function(){t.each(p._getSelected(),function(){this.applyForBorder("All"),this.render()})}),l("menu-border-none",function(){t.each(p._getSelected(),function(){this.applyForBorder("None"),this.render()})}),l("menu-border-left",function(){t.each(p._getSelected(),function(){this.applyForBorder("Left"),this.render()})}),l("menu-border-top",function(){t.each(p._getSelected(),function(){this.applyForBorder("Top"),this.render()})}),l("menu-border-right",function(){t.each(p._getSelected(),function(){this.applyForBorder("Right"),this.render()})}),l("menu-border-bottom",function(){t.each(p._getSelected(),function(){this.applyForBorder("Bottom"),this.render()})}),l("update-menu",function(){var t,i,s,l=u.getCurrentPage();n.unselect(["horz-align-left","horz-align-center","horz-align-right","horz-align-justify","vert-align-top","vert-align-center","vert-align-bottom","font-bold","font-italic","font-underline","font-strikeout"]),n.lock(["copy","cut","paste","undo","redo","bring-to-front","send-to-back","group","text-fill","horz-align-left","horz-align-center","horz-align-right","horz-align-justify","vert-align-top","vert-align-center","vert-align-bottom","font-bold","font-italic","font-underline","font-strikeout","font-name","font-width","fill-color","border-color","border-style","border-width"]),l.isCode()||(r.canUndo()&&n.unlock("undo"),r.canRedo()&&n.unlock("redo"),l.buffer.length&&n.unlock("paste"),s=l.bands||l.components,i=s.getSelectedComponents(),i.length&&n.unlock(["copy","cut","bring-to-front","send-to-back"]),i.length>1&&n.unlock("group"),1===i.length?(i=i[0],t=i.prop("HorzAlign"),t&&(n.unlock(["horz-align-left","horz-align-center","horz-align-right","horz-align-justify"]),n.select("horz-align-"+t.toLowerCase())),t=i.prop("VertAlign"),t&&(n.unlock(["vert-align-top","vert-align-center","vert-align-bottom"]),n.select("vert-align-"+t.toLowerCase())),o(i.attr("Font.Bold"),"font-bold"),o(i.attr("Font.Italic"),"font-italic"),o(i.attr("Font.Underline"),"font-underline"),o(i.attr("Font.Strikeout"),"font-strikeout"),t=i.attr("Font.Name"),t&&(~e.get("font-names").indexOf(t)||(e.get("font-names").unshift(t),c("update-properties-panel",i)),n.unlock("font-name"),n.set("font-name",t)),t=i.attr("Font.Size"),t&&(n.unlock("font-width"),n.set("font-width",t)),i.canHaveProp("Appearance:TextFill:TextFill.Color")&&n.unlock("text-fill")):i=i.length?null:u.getSelected(),a(i),i&&(i.canHaveProp("Appearance:Fill:Fill.Color")&&n.unlock("fill-color"),i.canHaveProp("Appearance:Border:Border.Color")&&n.unlock("border-color"),i.canHaveProp("Appearance:Border:Border.Style")&&(n.unlock("border-style"),n.set("border-style",i.prop("Border.Style"))),i.canHaveProp("Appearance:Border:Border.Width")&&(n.unlock("border-width"),n.set("border-width",i.prop("Border.Width")))))}))},_getSelected:function(){var t,e=this.report.getCurrentPage();return e.isReportPage()&&(t=e.bands.getSelectedComponents(),t.length||(t=e.bands.getSelectedBand(),t||(t=e),t=[t])),Array.prototype.slice.apply(t)}})}),define("events/themes/classic",["jquery","config","utils","events/themes/Main","queue","unit"],function(t,e,i,n,r,o){"use strict";return i.object(n,{_init:function(t,s){var a,l,c=this.bind,u=this.trigger;n._init.apply(this,arguments),a=this.report,l=this.head,this.unbind("activate-page"),this.unbind("show-page"),this.unbind("update-properties-panel"),c("update-properties-panel",function(e){var n=i.getModule("cstn/Properties/Main");t.$extraFirstLine.empty(),t.$extraSecondLine.empty(),t.$extra.removeClass("fr-hidden"),n&&(e||(e=a.getSelected()),n.update(e))}),c("activate-page",function(e){var i=a.getCurrentPage();e.active(),i!==e&&t.update(e)}),c("show-page",function(e){var i=a.getCurrentPage();e!==i&&(i.deactivate(),e.show(),t.update(e))}),c("align-workspace",function(){a.attr({Top:t.getHeight(),Bottom:s.getHeight()}),l.$workspace.css({top:a.attr("Top"),bottom:a.attr("Bottom"),height:"auto"})}),c("update-info",function(){var t=a.getCurrentPage(),e={report:a,page:t,scale:a.attr("data-scale")};e["all-pages"]=a.pages.all(a.code.isRestricted()?["ReportPage","DialogPage"]:null),t.isReportPage()&&(e.band=t.bands.getSelectedBand(),e.component=t.bands.getSelectedComponents()[0],e.amount=t.bands.getSelectedComponents().length),s.update(e)}),c("menu-grid",function(){u("grid"),u("re-render")}),c("menu-guides",function(){e.set("guides",!e.get("guides")),u("re-render")}),c("menu-group",function(){u("group")}),c("menu-ungroup",function(){u("ungroup")}),c("menu-snap-size",function(t){var i=e.get("grid");t=parseFloat(t),t=isNaN(t)||t<=0?i:o.toPx(t),e.set("grid",t),t!==i&&a.updateDefs()}),c("menu-new-report-page",function(){var t=a.createPage();u("activate",t),r.push({undo:function(t){a.removePage(t)},redo:function(t){t.render(),u("activate",t)},data:[t]})}),c("menu-new-dialog",function(){var t=a.createDialog();u("activate",t),r.push({undo:function(t){a.removePage(t)},redo:function(t){t.render(),u("activate",t)},data:[t]})}),c("menu-delete-page",function(t){t=t||a.getCurrentPage(),a.removePage(t),r.push({undo:function(t){t.render(),u("activate",t)},redo:function(t){a.removePage(t)},data:[t]})}),c("menu-units",function(t){o.setCurrent(t),u("update-properties-panel",a.getSelected()),a.getCurrentPage().render()}),c("menu-remove",function(t){u("remove",t)}),c("menu-undo",function(){u("undo")}),c("menu-redo",function(){u("redo")}),c("menu-preview",function(){u("preview")}),c("menu-save",function(){u("save")}),c("menu-copy",function(){u("copy")}),c("menu-cut",function(){u("cut")}),c("menu-paste",function(){u("paste",!0)}),c("menu-vert-align-top",function(){u("vert-align-top")}),c("menu-vert-align-center",function(){u("vert-align-center")}),c("menu-vert-align-bottom",function(){u("vert-align-bottom")}),c("menu-send-to-back",function(t){u("send-to-back",t)}),c("menu-bring-to-front",function(t){u("bring-to-front",t)}),c("menu-border-style",function(t){u("border-style",t)}),c("menu-border-width",function(t){u("border-width",t)}),c("update-menu",function(){var i,n,r=a.getCurrentPage();return r.isCode()?(t.lockAll(),void t.unlock(["preview","new-report-page","save","new-dialog"])):(t.unlock("new-page"),a.pages.count(["ReportPage","DialogPage"])>1?t.unlock("delete-page"):t.lock("delete-page"),i=a.getSelected(),i&&("function"==typeof i.remove?(t.unlock("remove"),i.isPage()&&t.lock("remove")):t.lock("remove")),t[a.attr("grid")?"select":"unselect"]("grid"),t[e.get("guides")?"select":"unselect"]("guides"),t.set("units",o.getCurrent()),t.set("snap-size",o.toUnit(e.get("grid"))),void(r.isReportPage()&&(t.lock("[data-band]"),n=r.bands,i=n.getSelectedBand(),n.findBy({type:"ReportTitleBand"}).length||t.unlock("[data-band=ReportTitleBand]"),n.findBy({type:"PageHeaderBand"}).length||t.unlock("[data-band=PageHeaderBand]"),n.findBy({type:"ColumnHeaderBand"}).length||t.unlock("[data-band=ColumnHeaderBand]"),n.findBy({type:"ColumnFooterBand"}).length||t.unlock("[data-band=ColumnFooterBand]"),n.findBy({type:"ReportSummaryBand"}).length||t.unlock("[data-band=ReportSummaryBand]"),n.findBy({type:"PageFooterBand"}).length||t.unlock("[data-band=PageFooterBand]"),n.findBy({type:"OverlayBand"}).length||t.unlock("[data-band=OverlayBand]"),t.unlock(["[data-band=DataBand]","[data-band=GroupHeaderBand]"]),i&&(i.canHaveChildren("ChildBand")&&!i.has("ChildBand")&&t.unlock("[data-band=ChildBand]"),i.canHaveChildren("DataHeaderBand")&&!i.has("DataHeaderBand")&&t.unlock("[data-band=DataHeaderBand]"),i.canHaveChildren("DataFooterBand")&&!i.has("DataFooterBand")&&t.unlock("[data-band=DataFooterBand]"),i.canHaveChildren("GroupFooterBand")&&!i.has("GroupFooterBand")&&t.unlock("[data-band=GroupFooterBand]")))))}),c("re-render",function(){u("update-menu"),u("update-info")})}})}),define("themes/classic/ExtraFieldsInToolbar",["jquery","utils","l10n","cstn/Properties/Base","cstn/Properties/BaseFields"],function(t,e,i,n,r){"use strict";return function(o){function s(e){var n,r,s,a,l,c;return e.origin?(n=e.element,r=n.mainFields||[],r.length?(s=!(!r[0]||!~r[0].indexOf(e.origin)),a=!(!r[1]||!~r[1].indexOf(e.origin))):o.$extra.addClass("fr-hidden"),(s||a)&&(l=e.control.self.$body.clone(!0,!0),c=t('input:not([type="button"]),select,textarea',l),c.addClass("d-mc d-sb"),c.data("ref",e.control.self.$control),e.control.self.$control.data("ref",c),l.find("span").remove(),s?(l.width(100/n.mainFields[0].length-1+"%"),o.$extraFirstLine.append(l)):a&&(l.width(100/n.mainFields[1].length-1+"%"),o.$extraSecondLine.append(l)),c.attr("data-info",i.tr(e.extraLabel||e.label)),o.$extra.removeClass("fr-hidden")),null):null}e.extend(n,{_buildMap:function(e,i,o){var a,l,c=this;t.each(e,function(t,e){return(a=n._generateGroupHeader(e,o))?(i.append(a.$main),n._buildMap.call(c,e.fields,a.$body),a):(n._bindMainProps.call(c,t,e),e.control=r.getFor(e),l=e.control.self.$control,l.on("change keyup",n._changeControl),l.is(":not(select[multiple])")&&(l.on("focus",n._focusOnControl),l.on("blur",n._blurFromControl)),i.append(e.control.$main),void s(e))})}})}}),define("themes/classic/Main",["jquery","themes/classic/Toolbar","themes/classic/Info","events/themes/classic","themes/classic/ExtraFieldsInToolbar"],function(t,e,i,n,r){"use strict";return function(){var o=require("head"),s=e.create(),a=new i;return a.update(),s.update(),t.when(s.isReady(),a.isReady()).done(function(t,e){return o.$controls.append(t.$node),o.$controls.append(e.$node),new r(t),n.create(t,e),!0})}}),define("base/Controller",[],function(){"use strict";return{create:function(t){var e=function(){this.init.apply(this,arguments)};return e.prototype.init=function(){},e.include=function(t){var e,i,n;if("object"!=typeof t&&t.constructor!==Object)return!1;for(i=Object.keys(t),e=i.length;e--;)n=i[e],this.prototype[n]=t[n];return this},t&&e.include(t),e}}}),define("parser/loader",["jquery","utils"],function(t,e){"use strict";function i(t){return t.replace(/<ScriptText>([\s\S]+)<\/ScriptText>/,function(t,i){return"<ScriptText>{0}</ScriptText>".format(e.escapeHTML(i))})}function n(t){return t.replace(/^[\s\S]*?(<Report |<inherited )/,function(t,e){return e})}function r(e){return e=i(e),e=n(e),t.parseXML(e)}function o(e,i){var n=t.Deferred();return t.ajax({url:e,dataType:i||"text",beforeSend:function(t){o.cache[e]&&(t.abort(),n.resolve(o.cache[e]))},success:function(t){o.cache[e]=t,n.resolve(o.cache[e])},error:function(){n.reject.apply(null,arguments)}}),n.promise()}return o.cache={},{get:o,getXml:r}}),define("App",["jquery","config","utils","base/Controller","EventEmitter","Report","parser/main","parser/loader","spinner"],function(t,e,i,n,r,o,s,a,l){"use strict";return e.set("key","337751565e513506b6400ca2ad6ff5df"),n.create({preInitSubSystems:function(){var e=this;!function(){var n=t.Deferred(),r=i.getModule("customization");e.initHandler.addPromise(n.promise()),r?r.init():define("customization",["cstn/Main"],function(t){return new t}),require(["customization"],function(t){require("head").$workspace.append(t.$node),e.initHandler.handlers.add(function(){t.updateIndent()}),n.resolve(),console.info("customization panel initialised")})}(),function(){var n=t.Deferred(),r=i.getModules("themes","Main",!0);t.isEmptyObject(r)||(e.initHandler.addPromise(n.promise()),t.when(new(r[Object.keys(r)[0]])).done(function(){n.resolve(),console.info("theme loaded")}))}()},initHandler:function(){var e=this,i=[],n=this.initHandler={addPromise:function(t){i.push(t)},getPromises:function(){var t=i.slice(0);return i.length=0,t},handlers:function(){var e=[function(){r.trigger("align-workspace"),r.trigger("re-render")},function(){l.hide(),r.trigger("initialized"),t(window).trigger("resize")},function(){t(".fr-designer").trigger("initialized")}];return{all:function(){return e},add:function(t,i){e.splice(i||e.length-1,0,t)}}}(),done:function(){e.preInitSubSystems(),t.when.apply(null,this.getPromises()).done(function(){n.handlers.all().forEach(function(t){t()})})}};return n},createReport:function(){var e=t.Deferred(),n=o.create();return define("currentReport",[],function(){return n}),s.init(n,this.state),require(["head","currentReport"],function(t){var r=i.getModules("events/"),o=Object.keys(r),s=0,a=o.length;for(t.$workspace.empty(),t.$workspace.append(n.$node);s<a;s+=1)r[o[s]].create();e.resolve(n)}),this.reportCreated=!0,e.promise()},createStandardReport:function(){var e=this,i=t.Deferred();return t.when(e.clear()).then(function(){return e.createReport()}).then(function(t){return t.createPage()}).done(function(){r.trigger("init"),e.initHandler.done(),i.resolve(require("currentReport"))}),i.promise()},openReport:function(e){var i,n,o=this;try{i=t.parseJSON(e),i=i.reports,e=i.shift()}catch(t){}return n=a.getXml(e),t.when(o.clear()).then(function(){return o.createReport()}).then(function(){return s.parse(n)}).then(function(t){return i&&i.length&&i.forEach(function(t){s.extendCurrent(a.getXml(t))}),t}).done(function(t){return t.pages.count(["ReportPage"])||t.createPage(),r.trigger("init"),o.initHandler.done(),t})},_saveState:function(t){var e,i=this;this.state={texts:{}},t&&require("currentReport").getComponents("TextObject").each(function(){e=this.prop("mission"),e&&(i.state.texts[this.prop("mission")]={Text:this.prop("Text"),Width:this.prop("Width"),Height:this.prop("Height")})})},openReportByUUID:function(i,n){var r=this,o=t.Deferred(),s=e.get("getReport",{id:i,rand_hash:Math.random().toString(36).substring(7)});return this._saveState(!!n),t.when(a.get(s)).done(function(t){return r.openReport(t).done(function(t){t._id=i,o.resolve(t)})}).fail(function(){console.error(arguments[2]),o.reject(),alert(arguments[2])}),o.promise()},openDemoReport:function(e,i){var n=this,r=t.Deferred();return this._saveState(!!i),t.when(a.get("http://dsg2014.fast-report.com:3000/api/demos/"+e,"jsonp")).done(function(t){return n.openReport(t).done(function(t){r.resolve(t)})}).fail(function(){console.error(arguments[2]),r.reject(),alert(arguments[2])}),r.promise()},clear:function(){var e;return!this.reportCreated||(e=t.Deferred(),require(["currentReport","customization"],function(t,i){r.clear(),i.clear(),t.remove(),require.undef("currentReport"),e.resolve()},function(){e.resolve()}),e.promise())}})}),function(){"use strict";requirejs.config({baseUrl:"scripts",paths:{jquery:"/home/designer/apps/dsg2014/app/bower_components/jquery/dist/jquery.min","jquery-ui":"/home/designer/apps/dsg2014/app/bower_components/jquery-ui/jquery-ui.min",jsrender:"/home/designer/apps/dsg2014/app/bower_components/jsrender/jsrender.min",cm:"/home/designer/apps/dsg2014/app/bower_components/codemirror",webfontloader:"/home/designer/apps/dsg2014/app/bower_components/webfontloader/webfontloader",spectrum:"/home/designer/apps/dsg2014/app/bower_components/spectrum/spectrum",colorpicker:"/home/designer/apps/dsg2014/app/bower_components/colorPicker",autosize:"/home/designer/apps/dsg2014/app/bower_components/autosize/dist/autosize.min",cropper:"/home/designer/apps/dsg2014/app/bower_components/cropper/dist/cropper.min","socket.io":"/home/designer/apps/dsg2014/app/bower_components/socket.io-client/socket.io",faker:"/home/designer/apps/dsg2014/app/bower_components/faker/build/build/faker.min",config:"base/config",Entity:"base/Entity",Band:"base/Band",Component:"base/Component",Control:"base/DialogControl",Container:"base/Container",Code:"base/Code",Page:"base/Page",Report:"base/Report",Dialog:"base/Dialog",Style:"base/Style",ReportPage:"base/ReportPage",TextComponent:"base/TextComponent",StateMachine:"base/StateMachine",EventEmitter:"base/EventEmitter",Collection:"collections/Collection",BandCollection:"collections/BandCollection",ComponentCollection:"collections/ComponentCollection",DataSourceCollection:"collections/DataSourceCollection",ConnectionCollection:"collections/ConnectionCollection",ParameterCollection:"collections/ParameterCollection",utils:"modules/utils",queue:"modules/queue",unit:"modules/unit",spinner:"modules/spinner",notification:"modules/notification",expression:"modules/expression",l10n:"modules/l10n",webfonts:"modules/webfonts",themes:"res/themes","res-units":"res/units",cstn:"res/customization","field-properties":"res/customization/Properties/fields"},map:{"jquery-private":{jquery:"jquery"},"*":{jquery:"jquery-private"}}}),require(["jquery","jquery-ui","l10n","webfonts","events/main","events/list","res/Main","extensions/guides","extensions/positionBlock","extensions/ruler","bands/ReportTitleBand","bands/ReportSummaryBand","bands/PageHeaderBand","bands/PageFooterBand","bands/ColumnHeaderBand","bands/ColumnFooterBand","bands/DataHeaderBand","bands/DataBand","bands/DataFooterBand","bands/GroupHeaderBand","bands/GroupFooterBand","bands/ChildBand","bands/OverlayBand","events/band","components/TextObject","components/PictureObject","components/ShapeObject","components/LineObject","components/SubreportObject","components/TableObject","components/MatrixObject","components/BarcodeObject","components/RichObject","components/CheckBoxObject","components/CellularTextObject","components/LinearGauge","components/SimpleGauge","controls/ButtonControl","controls/CheckBoxControl","controls/CheckedListBoxControl","controls/ComboBoxControl","controls/DateTimePickerControl","controls/LabelControl","controls/ListBoxControl","controls/MonthCalendarControl","controls/RadioButtonControl","controls/TextBoxControl","Dialog","events/component","Code","events/code","modules/Hotkey","cstn/Data/Main","cstn/Events/Main","cstn/Properties/Main","cstn/ReportTree/Main","cstn/Main","themes/classic/Main","App"],function(t){var e=arguments[arguments.length-1];require(["modules/Hotkey"],function(t){new t}),require(["res/Main","webfonts","l10n"],function(i,n,r){t.when(r.isReady()).done(function(){define("app",function(){return new e}),define("head",function(){return new i}),t(window).on("beforeunload",function(t){var e=r.tr("If you leave before saving, your changes will be lost");return(t||window.event).returnValue=e,e}),t(window).on("error",function(){console.error("error occured",arguments)}),require(["app","head","EventEmitter","initialized"],function(t,e,i,n){t.initHandler(),n.call(t,t).done(function(){console.info("system initialised")})})})})},function(){})}(),define("main",function(){});